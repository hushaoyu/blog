<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¼«æ¼«å‰ç«¯è·¯</title>
  
  <subtitle>ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰</subtitle>
  <link href="https://hushaoyu.github.io/blog/atom.xml" rel="self"/>
  
  <link href="https://hushaoyu.github.io/blog/"/>
  <updated>2022-06-08T09:21:03.090Z</updated>
  <id>https://hushaoyu.github.io/blog/</id>
  
  <author>
    <name>è·³è¿‡è¿™ç‰‡æµ·</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç™¾åº¦æ™ºèƒ½äº‘è¯­éŸ³åˆæˆåŠŸèƒ½ä½“éªŒ</title>
    <link href="https://hushaoyu.github.io/blog/2022/06/08/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/"/>
    <id>https://hushaoyu.github.io/blog/2022/06/08/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/</id>
    <published>2022-06-08T08:24:12.000Z</published>
    <updated>2022-06-08T09:21:03.090Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><blockquote><p>&nbsp;&nbsp;è¯­éŸ³åˆæˆå¯å°†æ–‡å­—ä¿¡æ¯è½¬åŒ–ä¸ºå£°éŸ³ä¿¡æ¯ï¼Œé€‚ç”¨äºæ‰‹æœºAPPã€å„¿ç«¥æ•…äº‹æœºã€æ™ºèƒ½æœºå™¨äººç­‰å¤šç§åº”ç”¨åœºæ™¯ã€‚</p></blockquote><ul><li>çŸ­æ–‡æœ¬åˆæˆ<ul><li>ç‰¹æ€§ï¼šåˆæˆçš„æ–‡æœ¬ä¸è¶…è¿‡60ä¸ªæ±‰å­—æˆ–è€…å­—æ¯æ•°å­—</li><li>è®¡è´¹ - æŒ‰æ¬¡è®¡è´¹ï¼š<ul><li>å…è´¹é¢åº¦ï¼ˆåŸºç¡€éŸ³åº“ï¼š5wæ¬¡ï¼›ç²¾å“éŸ³åº“ï¼š2kæ¬¡ï¼‰</li><li>ä»˜è´¹ï¼ˆåŸºç¡€éŸ³åº“ï¼š0.002å…ƒ/æ¬¡ï¼›ç²¾å“éŸ³åº“ï¼š0.004å…ƒ/æ¬¡ï¼‰</li></ul></li></ul></li><li>é•¿æ–‡æœ¬åˆæˆ<ul><li>ç‰¹æ€§ï¼šæ”¯æŒä¸€æ¬¡æ€§åˆæˆ10ä¸‡å­—ï¼Œæ— éœ€æ‹†åˆ†æ–‡æœ¬å’Œæ‹¼æ¥éŸ³é¢‘ï¼Œå¹¶æ”¯æŒä¸‹è½½åˆ°æœ¬åœ°ï¼Œ5ä¸‡å­—æœ€å¿«ä»…éœ€5åˆ†é’Ÿ</li><li>è®¡è´¹ - æŒ‰å­—ç¬¦æ”¶è´¹ï¼š<ul><li>å…è´¹é¢åº¦ï¼ˆåŸºç¡€éŸ³åº“ï¼š5000å­—ç¬¦ï¼›ç²¾å“éŸ³åº“ï¼š5000å­—ç¬¦ï¼‰</li><li>ä»˜è´¹ï¼ˆåŸºç¡€éŸ³åº“ï¼š0.0002å…ƒ/å­—ç¬¦ï¼›ç²¾å“éŸ³åº“ï¼š0.00027å…ƒ/å­—ç¬¦ï¼‰</li></ul></li></ul></li></ul><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><h5 id="1ã€åˆ›å»ºåº”ç”¨"><a href="#1ã€åˆ›å»ºåº”ç”¨" class="headerlink" title="1ã€åˆ›å»ºåº”ç”¨"></a>1ã€åˆ›å»ºåº”ç”¨</h5><p>åˆ›å»ºåº”ç”¨åï¼Œéœ€è¦æ³¨æ„ä¸¤ä¸ªå€¼ï¼Œåœ¨åç»­APIè°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨åˆ°ï¼š<code>API Key</code> ã€<code>Secret Key</code>ã€‚<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%BA%94%E7%94%A8%E5%88%9B%E5%BB%BA.png" alt="åº”ç”¨"></p><h5 id="2ã€APIè°ƒç”¨"><a href="#2ã€APIè°ƒç”¨" class="headerlink" title="2ã€APIè°ƒç”¨"></a>2ã€APIè°ƒç”¨</h5><h6 id="2-1ã€API-é‰´æƒ"><a href="#2-1ã€API-é‰´æƒ" class="headerlink" title="2.1ã€API é‰´æƒ"></a>2.1ã€<code>API</code> é‰´æƒ</h6><p>ç™¾åº¦æ™ºèƒ½äº‘ <code>API</code> çš„è°ƒç”¨éœ€è¦ä½¿ç”¨ <code>access_token</code> è¿›è¡Œé‰´æƒï¼Œè·å–é‰´æƒæ“ä½œå¦‚ä¸‹ï¼š</p><ul><li>è¯·æ±‚ <code>URL</code>ï¼š<code>https://aip.baidubce.com/oauth/2.0/token</code></li></ul><table><thead><tr><th align="center">URLå‚æ•°</th><th align="center">è¯´æ˜</th><th align="center">æ˜¯å¦å¿…é¡»</th></tr></thead><tbody><tr><td align="center"><code>grant_type</code></td><td align="center">å›ºå®šä¸º <code>client_credentials</code></td><td align="center">æ˜¯</td></tr><tr><td align="center"><code>client_id</code></td><td align="center">åº”ç”¨çš„ <code>API Key</code></td><td align="center">æ˜¯</td></tr><tr><td align="center"><code>client_secret</code></td><td align="center">åº”ç”¨çš„ <code>Secret Key</code></td><td align="center">æ˜¯</td></tr></tbody></table><p><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/%E8%8E%B7%E5%8F%96access_token-params.png" alt="è·å–access_token"></p><h5 id="2-2ã€åˆ›å»ºé•¿æ–‡æœ¬åˆæˆä»»åŠ¡"><a href="#2-2ã€åˆ›å»ºé•¿æ–‡æœ¬åˆæˆä»»åŠ¡" class="headerlink" title="2.2ã€åˆ›å»ºé•¿æ–‡æœ¬åˆæˆä»»åŠ¡"></a>2.2ã€åˆ›å»ºé•¿æ–‡æœ¬åˆæˆä»»åŠ¡</h5><ul><li>è¯·æ±‚ <code>URL</code>ï¼š<code>https://aip.baidubce.com/rpc/2.0/tts/v1/create</code></li></ul><table><thead><tr><th align="center">URLå‚æ•°</th><th align="center">è¯´æ˜</th><th align="center">æ˜¯å¦å¿…é¡»</th></tr></thead><tbody><tr><td align="center"><code>text</code></td><td align="center"><strong>å¾…åˆæˆçš„æ–‡æœ¬</strong>ï¼šéœ€è¦ä¸º<code>UTF-8</code>ç¼–ç ï¼›è¾“å…¥å¤šæ®µæ–‡æœ¬æ—¶ï¼Œæ–‡æœ¬é—´ä¼šæ’å…¥<code>1s</code>é•¿åº¦çš„ç©ºç™½é—´éš”</td><td align="center">æ˜¯</td></tr><tr><td align="center"><code>format</code></td><td align="center"><strong>éŸ³é¢‘æ ¼å¼</strong>ï¼š<code>mp3-16k</code>ï¼Œ<code>mp3-48k</code>ï¼Œ<code>wav</code>ï¼Œ<code>pcm-8k</code>ï¼Œ<code>pcm-16k</code>ï¼Œé»˜è®¤ä¸º<code>mp3-16k</code></td><td align="center">å¦</td></tr><tr><td align="center"><code>voice</code></td><td align="center"><strong>éŸ³åº“</strong>ï¼šåŸºç¡€éŸ³åº“ï¼šåº¦å°å®‡<code>=1</code>ï¼Œåº¦å°ç¾<code>=0</code>ï¼Œåº¦é€é¥ï¼ˆåŸºç¡€ï¼‰<code>=3</code>ï¼Œåº¦ä¸«ä¸«<code>=4</code>ï¼›ç²¾å“éŸ³åº“ï¼šåº¦é€é¥ï¼ˆç²¾å“ï¼‰<code>=5003</code>ï¼Œåº¦å°é¹¿<code>=5118</code>ï¼Œåº¦åšæ–‡<code>=106</code>ï¼Œåº¦å°ç«¥<code>=110</code>ï¼Œåº¦å°èŒ<code>=111</code>ï¼Œåº¦ç±³æœµ<code>=103</code>ï¼Œåº¦å°å¨‡<code>=5</code>ã€‚é»˜è®¤ä¸ºåº¦å°ç¾</td><td align="center">å¦</td></tr><tr><td align="center"><code>lang</code></td><td align="center"><strong>è¯­è¨€</strong>ï¼šå›ºå®šå€¼<code>zh</code>ã€‚è¯­è¨€é€‰æ‹©,ç›®å‰åªæœ‰ä¸­è‹±æ–‡æ··åˆæ¨¡å¼ï¼Œå¡«å†™å›ºå®šå€¼<code>zh</code></td><td align="center">æ˜¯</td></tr><tr><td align="center"><code>speed</code></td><td align="center"><strong>è¯­é€Ÿ</strong>ï¼šå–å€¼<code>0-15</code>ï¼Œé»˜è®¤ä¸º<code>5</code>ä¸­è¯­é€Ÿ</td><td align="center">å¦</td></tr><tr><td align="center"><code>pitch</code></td><td align="center"><strong>éŸ³è°ƒ</strong>ï¼šå–å€¼<code>0-15</code>ï¼Œé»˜è®¤ä¸º<code>5</code>ä¸­è¯­è°ƒ</td><td align="center">å¦</td></tr><tr><td align="center"><code>volume</code></td><td align="center"><strong>éŸ³é‡</strong>ï¼šå–å€¼<code>0-15</code>ï¼Œé»˜è®¤ä¸º<code>5</code>ä¸­éŸ³é‡ï¼ˆå–å€¼ä¸º<code>0</code>æ—¶ä¸ºéŸ³é‡æœ€å°å€¼ï¼Œå¹¶éä¸ºæ— å£°ï¼‰</td><td align="center">æ˜¯</td></tr></tbody></table><p><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/%E5%90%88%E6%88%90%E4%BB%BB%E5%8A%A1%E5%88%9B%E5%BB%BA.png" alt="ä»»åŠ¡åˆ›å»º"></p><ul><li>è¿”å›ç¤ºä¾‹<ul><li><code>task_id</code> è¡¨ç¤ºæ­¤æ¬¡åˆæˆçš„ä»»åŠ¡ <code>ID</code>ï¼Œä»»åŠ¡æ˜¯åœ¨åå°å¼‚æ­¥è·‘çš„ï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ¥å£é€šè¿‡æ­¤ <code>task_id</code> æ¥æŸ¥è¯¢ç»“æœè¯¦æƒ…ã€‚</li><li><code>task_status</code> æ­¤æ¬¡åˆæˆä»»åŠ¡çš„çŠ¶æ€ã€‚<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;log_id&quot;</span>: <span class="number">1234567890</span>,</span><br><span class="line">    <span class="attr">&quot;task_id&quot;</span>:  <span class="string">&quot;629d721fcc3dec9e3859d696&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;task_status&quot;</span>: <span class="string">&quot;Running&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="2-3ã€åˆæˆç»“æœ"><a href="#2-3ã€åˆæˆç»“æœ" class="headerlink" title="2.3ã€åˆæˆç»“æœ"></a>2.3ã€åˆæˆç»“æœ</h5><ul><li>è¯·æ±‚ <code>URL</code>ï¼š<code>https://aip.baidubce.com/rpc/2.0/tts/v1/query</code><ul><li>é€šè¿‡ <code>speech_url</code> å¯ä¸‹è½½éŸ³é¢‘æ–‡ä»¶</li></ul></li></ul><p><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%E5%8A%9F%E8%83%BD%E4%BD%93%E9%AA%8C/%E5%90%88%E6%88%90%E7%BB%93%E6%9E%9C.png" alt="åˆæˆç»“æœ"></p>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;è¯­éŸ³åˆæˆå¯å°†æ–‡å­—ä¿¡æ¯è½¬åŒ–ä¸ºå£°éŸ³ä¿¡æ¯ï¼Œé€‚ç”¨äºæ‰‹æœºAPPã€å„¿ç«¥æ•…äº‹æœºã€æ™ºèƒ½æœºå™¨äººç­‰å¤šç§åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="ç™¾åº¦æ™ºèƒ½äº‘ï¼Œè¯­éŸ³åˆæˆ" scheme="https://hushaoyu.github.io/blog/categories/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%EF%BC%8C%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/"/>
    
    
    <category term="ç™¾åº¦æ™ºèƒ½äº‘ï¼Œè¯­éŸ³åˆæˆ" scheme="https://hushaoyu.github.io/blog/tags/%E7%99%BE%E5%BA%A6%E6%99%BA%E8%83%BD%E4%BA%91%EF%BC%8C%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/"/>
    
  </entry>
  
  <entry>
    <title>G6 - å¼€å‘ç¬”è®°</title>
    <link href="https://hushaoyu.github.io/blog/2022/02/15/G6-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    <id>https://hushaoyu.github.io/blog/2022/02/15/G6-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/</id>
    <published>2022-02-15T02:55:05.000Z</published>
    <updated>2022-02-18T05:06:58.986Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯-G6-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-G6-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ G6 ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ <code>G6</code> ï¼Ÿ</h4><blockquote><p><code>G6</code> æ˜¯ä¸€ä¸ªå›¾å¯è§†åŒ–å¼•æ“ã€‚æä¾›å›¾çš„ç»˜åˆ¶ã€å¸ƒå±€ã€åˆ†æã€äº¤äº’ã€åŠ¨ç”»ç­‰.</p></blockquote><h4 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h4><ul><li>æ–‡æ¡£å‚è€ƒ<ul><li>APIï¼š<a href="https://g6.antv.vision/zh/docs/api/Graph">Link</a></li></ul></li><li>å®‰è£…<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install --save @antv/g6</span></span><br></pre></td></tr></table></figure></li><li>åœ¨æ–‡ä»¶ä¸­å¼•å…¥<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> G6 <span class="keyword">from</span> <span class="string">&#x27;@antv/g6&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>ä¸ä½¿ç”¨ <code>Echarts</code> ç±»ä¼¼ï¼Œåˆ›å»º <code>DOM</code> å®¹å™¨<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mounted&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>åˆå§‹åŒ– <code>G6</code> å®ä¾‹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph = <span class="keyword">new</span> G6.Graph(&#123;</span><br><span class="line">    <span class="attr">container</span>: <span class="built_in">document</span>.getElementById(<span class="string">&#x27;mounted&#x27;</span>), <span class="comment">// ç”¨äºæ¸²æŸ“ G6 çš„ DOM å®¹å™¨</span></span><br><span class="line">    <span class="attr">width</span>: <span class="number">500</span>, <span class="comment">// ç”»å¸ƒå®½åº¦</span></span><br><span class="line">    <span class="attr">height</span>: <span class="number">500</span>, <span class="comment">// ç”»å¸ƒé«˜åº¦</span></span><br><span class="line">    <span class="attr">modes</span>: &#123;</span><br><span class="line">        <span class="attr">default</span>: [<span class="string">&#x27;drag-canvas&#x27;</span>], <span class="comment">// å›¾çš„äº¤äº’æ¨¡å¼</span></span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="attr">layout</span>: &#123; <span class="comment">// å¸ƒå±€é…ç½®é¡¹</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;radial&#x27;</span>, </span><br><span class="line">        <span class="attr">unitRadius</span>: <span class="number">50</span>, </span><br><span class="line">        <span class="attr">center</span>: [<span class="number">500</span>, <span class="number">300</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>é…ç½®å®ä¾‹æ•°æ®ï¼Œå¹¶æ¸²æŸ“</li></ul><details><summary>code</summary><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="comment">// ç‚¹é›†</span></span><br><span class="line">    <span class="attr">nodes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;node1&#x27;</span>,</span><br><span class="line">            <span class="attr">x</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">200</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;node2&#x27;</span>,</span><br><span class="line">            <span class="attr">x</span>: <span class="number">300</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">200</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// è¾¹é›†</span></span><br><span class="line">    <span class="attr">edges</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">source</span>: <span class="string">&#x27;node1&#x27;</span>, <span class="comment">// å¿…é¡»ï¼Œèµ·å§‹ç‚¹ id</span></span><br><span class="line">            <span class="attr">target</span>: <span class="string">&#x27;node2&#x27;</span>, <span class="comment">// å¿…é¡»ï¼Œç›®æ ‡ç‚¹ id</span></span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">this</span>.graph.data(<span class="built_in">this</span>.data);</span><br><span class="line"><span class="built_in">this</span>.graph.render();</span><br></pre></td></tr></table></figure></details><h4 id="Note"><a href="#Note" class="headerlink" title="Note"></a><code>Note</code></h4><ul><li>æ·»åŠ èƒŒæ™¯å›¾ï¼Œå¹¶æ”¾åœ¨æœ€åº•å±‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bg = group.addShape(<span class="string">&#x27;image&#x27;</span>, &#123;...&#125;);</span><br><span class="line">bg.toBack();</span><br></pre></td></tr></table></figure></li><li>æ‰‹åŠ¨ç¼©æ”¾å›¾<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ (100, 100) ä¸ºä¸­å¿ƒç‚¹ï¼Œæ”¾å¤§3å€</span></span><br><span class="line">graph.zoomTo(<span class="number">3</span>, &#123; <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥å½“å‰å…ƒç´ ä½ç½®ä¸ºä¸­å¿ƒï¼Œç¼©å°åˆ° 0.5</span></span><br><span class="line">graph.zoomTo(<span class="number">0.5</span>);</span><br></pre></td></tr></table></figure></li><li>å›¾å……æ»¡ç”»å¸ƒ<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">graph.fitView();</span><br></pre></td></tr></table></figure></li><li>æŸ¥æ‰¾å¯¹è±¡<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ID</span></span><br><span class="line">graph.findById(id);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * descript: é€šè¿‡çŠ¶æ€æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span>:</span></span><br><span class="line"><span class="comment"> *  type: å…ƒç´ ç±»å‹ï¼šnodeã€edge</span></span><br><span class="line"><span class="comment"> *  stateï¼šçŠ¶æ€åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: Array</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">graph.findAllByState(type, state);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * descript: è‡ªå®šè§„åˆ™æŸ¥æ‰¾æ‰€æœ‰çš„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: Array</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">graph.findAll(type, fn);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * descript: è‡ªå®šè§„åˆ™æŸ¥æ‰¾ç¬¦åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: Object</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">graph.find(type, fn);</span><br></pre></td></tr></table></figure></li><li>æ ¹æ®æŸä¸€çŠ¶æ€æŸ¥æ‰¾ç¬¦åˆçš„æ‰€æœ‰ <code>node</code>ï¼Œå¹¶æ¸…é™¤å…¶çŠ¶æ€<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph.findAllByState(<span class="string">&#x27;node&#x27;</span>, <span class="string">&#x27;hover&#x27;</span>)</span><br><span class="line">        .map(<span class="function"><span class="params">item</span> =&gt;</span> graph.setItemState(item, <span class="string">&#x27;hover&#x27;</span>, <span class="literal">false</span>));</span><br></pre></td></tr></table></figure></li><li>æå‡è¾¹çº¿çš„é¼ æ ‡å‡»ä¸­èŒƒå›´ <code>lineAppendWidth</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rect = group.addShape(<span class="string">&#x27;rect&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">attrs</span>: &#123;</span><br><span class="line">        <span class="attr">lineAppendWidth</span>: <span class="number">3</span>, </span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;tset&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>é˜²æ­¢æ‹–åŠ¨æ–‡æœ¬æ—¶ï¼Œå‘ç”Ÿå­—ä½“æ®‹ç•™ç°è±¡ <a href="https://github.com/antvis/G6/issues/2920">Issue</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³é—­å±€éƒ¨æ¸²æŸ“</span></span><br><span class="line">graph.get(<span class="string">&#x27;canvas&#x27;</span>).set(<span class="string">&#x27;localRefresh&#x27;</span>, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></li><li><code>transform</code> åèŠ‚ç‚¹è§¦æ§å¼‚å¸¸ <a href="https://github.com/antvis/G6/issues/2976">Issue</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">graph.get(<span class="string">&#x27;canvas&#x27;</span>).set(<span class="string">&#x27;supportCSSTransform&#x27;</span>, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure></li><li>å›¾å¾ˆå¤§çš„æƒ…å†µï¼ŒtoFullDataUrl å¯¼å‡ºå›¾ç‰‡ å›¾ç‰‡è´¨é‡ä¸æ¸…æ™° <a href="https://github.com/antvis/G6/issues/2979">Issue</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">getImg = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">window</span>.oldRatio = <span class="built_in">window</span>.devicePixelRatio;</span><br><span class="line">      <span class="built_in">window</span>.devicePixelRatio = <span class="number">2</span>;</span><br><span class="line">      <span class="built_in">this</span>.graph.downloadFullImage(<span class="string">&quot;å¯¼å‡ºå›¾ç‰‡&quot;</span>, <span class="string">&quot;image/png&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">padding</span>: [<span class="number">30</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>]</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.devicePixelRatio = <span class="built_in">window</span>.oldRatio;</span><br><span class="line">      &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ç§»åŠ¨å›¾ï¼Œä½¿å¾— item å¯¹é½åˆ°è§†å£ä¸­å¿ƒï¼Œè¯¥æ–¹æ³•å¯ç”¨äºåšæœç´¢åçš„ç¼“åŠ¨åŠ¨ç”»<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span></span></span><br><span class="line"><span class="comment"> * item: å…ƒç´  id æˆ–å…ƒç´ å®ä¾‹</span></span><br><span class="line"><span class="comment"> * animateï¼šæ˜¯å¦å¸¦æœ‰åŠ¨ç”»ï¼Œé»˜è®¤false</span></span><br><span class="line"><span class="comment"> * animateCfgï¼šåŠ¨ç”»é…ç½®é¡¹</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">graph.focusItem(item, animate, animateCfg);</span><br><span class="line"></span><br><span class="line">graph.focusItem(item, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">graph.focusItem(item, <span class="literal">true</span>, &#123;</span><br><span class="line">  <span class="attr">easing</span>: <span class="string">&#x27;easeCubic&#x27;</span>,</span><br><span class="line">  <span class="attr">duration</span>: <span class="number">400</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h4 id="è‡ªå®šä¹‰å…ƒç´ -Link"><a href="#è‡ªå®šä¹‰å…ƒç´ -Link" class="headerlink" title="è‡ªå®šä¹‰å…ƒç´  Link"></a>è‡ªå®šä¹‰å…ƒç´  <a href="https://g6.antv.vision/zh/docs/api/registerItem">Link</a></h4><ul><li>å†…ç½®å…ƒç´ <ul><li><a href="https://g6.antv.vision/zh/docs/manual/middle/elements/nodes/defaultNode">å†…ç½®èŠ‚ç‚¹</a></li><li><a href="https://g6.antv.vision/zh/docs/manual/middle/elements/edges/defaultEdge">å†…ç½®è¾¹</a></li></ul></li></ul><h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a><a href="https://g6.antv.vision/zh/docs/manual/middle/animation">åŠ¨ç”»</a></h4><blockquote><p>&ensp;ç”±äº <code>G6</code> çš„å†…ç½®èŠ‚ç‚¹å’Œè¾¹æ˜¯æ²¡æœ‰åŠ¨ç”»çš„ï¼Œéœ€è¦å®ç°èŠ‚ç‚¹å’Œè¾¹ä¸Šçš„åŠ¨ç”»éœ€è¦é€šè¿‡è‡ªå®šä¹‰èŠ‚ç‚¹ã€è‡ªå®šä¹‰è¾¹æ—¶å¤å†™ <code>afterDraw</code> å®ç°.</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ä»€ä¹ˆæ˜¯-G6-ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-G6-ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ G6 ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ &lt;code&gt;G6&lt;/code&gt; ï¼Ÿ&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;G6&lt;/code&gt; æ˜¯ä¸€ä¸ªå›¾å¯è§†åŒ–å¼•æ“ã€‚æä¾›å›¾çš„ç»˜åˆ¶ã€å¸ƒå±€ã€åˆ†æã€äº¤äº’ã€åŠ¨ç”»ç­‰.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="G6" scheme="https://hushaoyu.github.io/blog/categories/G6/"/>
    
    
    <category term="G6" scheme="https://hushaoyu.github.io/blog/tags/G6/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript æ­£åˆ™æ”¶å½•</title>
    <link href="https://hushaoyu.github.io/blog/2022/02/13/JavaScript-%E6%AD%A3%E5%88%99%E6%94%B6%E5%BD%95/"/>
    <id>https://hushaoyu.github.io/blog/2022/02/13/JavaScript-%E6%AD%A3%E5%88%99%E6%94%B6%E5%BD%95/</id>
    <published>2022-02-13T02:58:35.000Z</published>
    <updated>2022-02-15T03:15:07.860Z</updated>
    
    <content type="html"><![CDATA[<details><summary>code</summary><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç«¯å£éªŒè¯*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> port_reg = <span class="regexp">/^([0-9]|[1-9]\d|[1-9]\d&#123;2&#125;|[1-9]\d&#123;3&#125;|[1-5]\d&#123;4&#125;|6[0-4]\d&#123;3&#125;|65[0-4]\d&#123;2&#125;|655[0-2]\d|6553[0-5])$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ipéªŒè¯*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ip_reg = <span class="regexp">/^(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ip:ç«¯å£</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ipAndPort_reg = <span class="regexp">/^(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])\.(\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5]):([0-9]|[1-9]\d|[1-9]\d&#123;2&#125;|[1-9]\d&#123;3&#125;|[1-5]\d&#123;4&#125;|6[0-4]\d&#123;3&#125;|65[0-4]\d&#123;2&#125;|655[0-2]\d|6553[0-5])$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è”ç³»æ–¹å¼(æ‰‹æœºã€åº§æœº)</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> phone = <span class="regexp">/^((([0-9]&#123;3,4&#125;-)?[0-9]&#123;7,8&#125;)|(0?1[3|4|5|8][0-9]\d&#123;8&#125;))$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// URL</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> urlReg = <span class="regexp">/^\/([/w]+\/?)+$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// export  const  pathReg=/(^(\/&#123;1&#125;)$)|(^(\/[a-zA-Z0-9_&lt;&gt;&quot;:;|,\!\.\*\\?-]+)+)$/;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> pathReg = <span class="regexp">/^(\/[a-z0-9_\\.-]+)+$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// export const portSegment_reg = /^(([0-9]|[1-9]\d|[1-9]\d&#123;2&#125;|[1-9]\d&#123;3&#125;|[1-5]\d&#123;4&#125;|6[0-4]\d&#123;3&#125;|65[0-4]\d&#123;2&#125;|655[0-2]\d|6553[0-5])\:([0-9]|[1-9]\d|[1-9]\d&#123;2&#125;|[1-9]\d&#123;3&#125;|[1-5]\d&#123;4&#125;|6[0-4]\d&#123;3&#125;|65[0-4]\d&#123;2&#125;|655[0-2]\d|6553[0-5]))&#123;1&#125;$/;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> forbidIp = <span class="regexp">/((?:(?:22[4-9]\.)|(?:23[0-9]\.))(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.))&#123;2&#125;(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9])))|((?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.))&#123;3&#125;(255|0))|(127\.(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.))&#123;2&#125;(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9])))/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> maskReg = <span class="regexp">/^(?=(\d+\.)&#123;3&#125;\d+$)(255\.)&#123;0,3&#125;(255|254|252|248|240|224|192|128|0)(\.0)&#123;0,3&#125;$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> forbiddenText = <span class="regexp">/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯†ç  å¿…é¡»åŒ…å« æ•°å­—,å­—æ¯,ç¬¦å· 3é¡¹ç»„åˆçš„6åˆ°20ä½å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> passWord = <span class="regexp">/^(?:(?=.*[0-9].*)(?=.*[A-Za-z].*)(?=.*[\W].*))[\W0-9A-Za-z]&#123;6,20&#125;$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èº«ä»½è¯å·</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> idCard_reg = <span class="regexp">/(^\d&#123;15&#125;$)|(^\d&#123;17&#125;([0-9]|X)$)/</span>;</span><br><span class="line"><span class="comment">// é‚®ç®±</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> email_reg = <span class="regexp">/^[a-z]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]&#123;2,3&#125;([\.][a-z]&#123;2&#125;)?$/i</span>;</span><br><span class="line"><span class="comment">// åŠå…¬å®¤ç”µè¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> office_call = <span class="regexp">/^(([0-9]&#123;3,4&#125;-)?[0-9]&#123;7,8&#125;)$/</span>;</span><br><span class="line"><span class="comment">// è”ç³»æ–¹å¼(æ‰‹æœº)</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> phone_number_reg = <span class="regexp">/^(0?1[3|4|5|8][0-9]\d&#123;8&#125;)$/</span>;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    
      
      
    <summary type="html">&lt;details&gt;
&lt;summary&gt;code&lt;/summary&gt;

&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;s</summary>
      
    
    
    
    <category term="JavaScript" scheme="https://hushaoyu.github.io/blog/categories/JavaScript/"/>
    
    <category term="æ­£åˆ™" scheme="https://hushaoyu.github.io/blog/categories/JavaScript/%E6%AD%A3%E5%88%99/"/>
    
    
    <category term="JavaScript" scheme="https://hushaoyu.github.io/blog/tags/JavaScript/"/>
    
    <category term="æ­£åˆ™" scheme="https://hushaoyu.github.io/blog/tags/%E6%AD%A3%E5%88%99/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript - Reactç»„ä»¶ä¸­çš„ç±»å‹æ³¨è§£</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/26/TypeScript-React%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/26/TypeScript-React%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3/</id>
    <published>2022-01-26T07:02:32.000Z</published>
    <updated>2022-02-11T05:43:56.063Z</updated>
    
    <content type="html"><![CDATA[<h4 id="React-ä¸­å¯èƒ½ç”¨åˆ°çš„-TypeScript-ç±»å‹æ³¨è§£"><a href="#React-ä¸­å¯èƒ½ç”¨åˆ°çš„-TypeScript-ç±»å‹æ³¨è§£" class="headerlink" title="React ä¸­å¯èƒ½ç”¨åˆ°çš„ TypeScript ç±»å‹æ³¨è§£"></a><code>React</code> ä¸­å¯èƒ½ç”¨åˆ°çš„ <code>TypeScript</code> ç±»å‹æ³¨è§£</h4><details><summary>code</summary><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> AppProps = &#123;</span><br><span class="line">  <span class="attr">message</span>: <span class="built_in">string</span>;</span><br><span class="line">  count: <span class="built_in">number</span>;</span><br><span class="line">  disabled: <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="comment">/** array of a type! */</span></span><br><span class="line">  names: <span class="built_in">string</span>[];</span><br><span class="line">  <span class="comment">/** string literals to specify exact string values, with a union type to join them together */</span></span><br><span class="line">  status: <span class="string">&quot;waiting&quot;</span> | <span class="string">&quot;success&quot;</span>;</span><br><span class="line">  <span class="comment">/** any object as long as you dont use its properties (NOT COMMON but useful as placeholder) */</span></span><br><span class="line">  obj: <span class="built_in">object</span>;</span><br><span class="line">  obj2: &#123;&#125;; <span class="comment">// almost the same as `object`, exactly the same as `Object`</span></span><br><span class="line">  <span class="comment">/** an object with any number of properties (PREFERRED) */</span></span><br><span class="line">  obj3: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">    title: <span class="built_in">string</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">/** array of objects! (common) */</span></span><br><span class="line">  objArr: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">    title: <span class="built_in">string</span>;</span><br><span class="line">  &#125;[];</span><br><span class="line">  <span class="comment">/** a dict object with any number of properties of the same type */</span></span><br><span class="line">  dict1: &#123;</span><br><span class="line">    [key: <span class="built_in">string</span>]: MyTypeHere;</span><br><span class="line">  &#125;;</span><br><span class="line">  dict2: Record&lt;<span class="built_in">string</span>, MyTypeHere&gt;; <span class="comment">// equivalent to dict1</span></span><br><span class="line">  <span class="comment">/** any function as long as you don&#x27;t invoke it (not recommended) */</span></span><br><span class="line">  onSomething: <span class="built_in">Function</span>;</span><br><span class="line">  <span class="comment">/** function that doesn&#x27;t take or return anything (VERY COMMON) */</span></span><br><span class="line">  onClick: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="comment">/** function with named prop (VERY COMMON) */</span></span><br><span class="line">  onChange: <span class="function">(<span class="params">id: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="comment">/** function type syntax that takes an event (VERY COMMON) */</span></span><br><span class="line">  onChange: <span class="function">(<span class="params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="comment">/** alternative function type syntax that takes an event (VERY COMMON) */</span></span><br><span class="line">  onClick(event: React.MouseEvent&lt;HTMLButtonElement&gt;): <span class="built_in">void</span>;</span><br><span class="line">  <span class="comment">/** an optional prop (VERY COMMON!) */</span></span><br><span class="line">  optional?: OptionalType;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h4 id="åœ¨å¯¹-Props-å’Œ-State-è¿›è¡Œç±»å‹æ³¨è§£æ—¶ï¼Œä½¿ç”¨-type-è¿˜æ˜¯-interface"><a href="#åœ¨å¯¹-Props-å’Œ-State-è¿›è¡Œç±»å‹æ³¨è§£æ—¶ï¼Œä½¿ç”¨-type-è¿˜æ˜¯-interface" class="headerlink" title="åœ¨å¯¹ Props å’Œ State è¿›è¡Œç±»å‹æ³¨è§£æ—¶ï¼Œä½¿ç”¨ type è¿˜æ˜¯ interface?"></a>åœ¨å¯¹ <code>Props</code> å’Œ <code>State</code> è¿›è¡Œç±»å‹æ³¨è§£æ—¶ï¼Œä½¿ç”¨ <code>type</code> è¿˜æ˜¯ <code>interface</code>?</h4><ul><li>å»ºè®®ï¼š<ul><li>æ€»æ˜¯ä½¿ç”¨ <code>interface</code> æ¥ä¸ºå…¬å…±åº“æˆ–è€…ç¬¬ä¸‰æ–¹ç¯å¢ƒè¿›è¡Œç±»å‹å®šä¹‰ï¼Œå› ä¸ºå¦‚æœåç»­å‘ç°ç¼ºå°‘å®šä¹‰ï¼Œä½¿ç”¨è€…å¯ä»¥é€šè¿‡å£°æ˜åˆå¹¶æ¥<a href="#">æ‰©å±•</a> <code>interface</code></li><li>è€ƒè™‘ä½¿ç”¨ <code>type</code> æ¥ä¸º <code>React</code> ç»„ä»¶çš„ <code>Props</code> å’Œ <code>State</code> è¿›è¡Œç±»å‹å®šä¹‰ï¼Œè¿™æ ·å¯ä»¥ç»™å®ƒä»¬å¢åŠ æ›´å¤šçš„é™åˆ¶å’Œæé«˜ä¸€è‡´æ€§ã€‚</li></ul></li><li>å‚è€ƒèµ„æ–™<ul><li><a href="https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c">Interface vs Type alias in TypeScript 2.7</a></li><li><a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces">Differences Between Type Aliases and Interfaces</a></li></ul></li><li>ç±»å‹å®šä¹‰å¯¹äºä½¿ç”¨è”åˆç±»å‹æ›´æœ‰å¸®åŠ©ï¼Œå¦‚ <code>type MyType = TypeA | TypeB</code>ï¼Œè€Œ <code>interface</code> æ›´é€‚åˆå£°æ˜å­—å…¸å½¢çŠ¶ï¼Œç„¶åå®ç°æˆ–æ‰©å±•å®ƒä»¬</li><li><code>type</code> å’Œ <code>interface</code> å¯¹æ¯”<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th><code>type</code></th><th><code>interface</code></th></tr></thead><tbody><tr><td>Can describe functions</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Can describe constructors</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Can describe tuples</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Interfaces can extend it</td><td>âš ï¸</td><td>âœ…</td></tr><tr><td>Classes can extend it</td><td>ğŸš«</td><td>âœ…</td></tr><tr><td>Classes can implement it (implements)</td><td>âš ï¸</td><td>âœ…</td></tr><tr><td>Can intersect another one of its kind</td><td>âœ…</td><td>âš ï¸</td></tr><tr><td>Can create a union with another one of its kind</td><td>âœ…</td><td>ğŸš«</td></tr><tr><td>Can be used to create mapped types</td><td>âœ…</td><td>ğŸš«</td></tr><tr><td>Can be mapped over with mapped types</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Expands in error messages and logs</td><td>âœ…</td><td>ğŸš«</td></tr><tr><td>Can be augmented</td><td>ğŸš«</td><td>âœ…</td></tr><tr><td>Can be recursive</td><td>âš ï¸</td><td>âœ…</td></tr></tbody></table></li><li><code>type alias</code> å’Œ <code>interface</code> çš„åŒºåˆ«<ul><li>å¦‚æœåœ¨ <code>type</code> ç±»å‹å®šä¹‰ä¸­ä½¿ç”¨äº† <code>union</code> æ“ä½œç¬¦ï¼Œå³ <code>|</code>ï¼Œåˆ™ä¸èƒ½åœ¨å…·æœ‰æ­¤ç±»å‹åˆ«åçš„ç±»ä¸Šä½¿ç”¨ <code>implements</code><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> dog = &#123;</span><br><span class="line">  <span class="attr">color</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> bean = &#123;</span><br><span class="line">  <span class="attr">fly</span>: <span class="built_in">boolean</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> cat &#123;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> animal1 = dog &amp; cat;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cat1</span> <span class="title">implements</span> <span class="title">animal1</span> </span>&#123;</span><br><span class="line">  color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">  sex = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// correct !</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> animal2 = (dog | bean) &amp; cat;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cat2</span> <span class="title">implements</span> <span class="title">animal2</span> </span>&#123;</span><br><span class="line">  color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">  sex = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">  fly= <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Error! A class can only implement an object type or intersection of object types with statically known members.</span></span><br></pre></td></tr></table></figure></li><li>åŒç†ï¼Œå¦‚æœåœ¨ <code>type</code> ç±»å‹å®šä¹‰ä¸­ä½¿ç”¨äº† <code>union</code> æ“ä½œç¬¦ï¼Œå³ <code>|</code>ï¼Œåˆ™ä¸èƒ½åœ¨å…·æœ‰æ­¤ç±»å‹åˆ«åçš„æ¥å£ä¸­ä½¿ç”¨ <code>extends</code><blockquote><p>ä¸ç±»å®ç°ä½¿ç”¨ç±»ä¼¼ï¼Œæ¥å£æ˜¯ä¸€ä¸ªâ€œé™æ€â€è“å›¾â€”â€”å®ƒä¸èƒ½ä»¥ä¸€ç§æˆ–å¦ä¸€ç§å½¢å¼å­˜åœ¨ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡è”åˆç±»å‹åˆå¹¶æ¥æ‰©å±•.</p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> dog = &#123;</span><br><span class="line">  <span class="attr">color</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> bean = &#123;</span><br><span class="line">  <span class="attr">fly</span>: <span class="built_in">boolean</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> cat &#123;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> animal1 = dog &amp; cat &amp; bean;</span><br><span class="line"><span class="keyword">interface</span> cat1 <span class="keyword">extends</span> animal1 &#123;&#125;</span><br><span class="line"><span class="comment">// correct !</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> animal2 = (dog | bean) &amp; cat;</span><br><span class="line"><span class="keyword">interface</span> cat2 <span class="keyword">extends</span> animal2 &#123;&#125;</span><br><span class="line"><span class="comment">// Error! An interface can only extend an object type or intersection of object types with statically known members.</span></span><br></pre></td></tr></table></figure></li><li>å£°æ˜åˆå¹¶å¹¶ä¸é€‚ç”¨äºç±»å‹åˆ«å<ul><li>åœ¨ <code>interface</code> ä¸­çš„å£°æ˜åˆå¹¶ï¼šå¯ä»¥å¤šæ¬¡å®šä¹‰åŒä¸€ä¸ªæ¥å£ï¼Œå…¶å®šä¹‰å°†æœ€ç»ˆåˆå¹¶ä¸ºä¸€ä¸ª<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> cat &#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> cat &#123;</span><br><span class="line">    <span class="attr">fat</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> animal1: cat = &#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">    <span class="attr">fat</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// correct !</span></span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>type alias</code> ä¸­ï¼Œç”±äºç±»å‹åˆ«åæ˜¯å…¨å±€æˆ–è€…æ¨¡å—ä¸­å”¯ä¸€çš„ï¼Œå› æ­¤ä¸èƒ½é‡å¤å®šä¹‰ç›¸åŒåç§°çš„ç±»å‹åˆ«å<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> dog = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> dog = &#123;</span><br><span class="line">    <span class="attr">fly</span>: <span class="built_in">boolean</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Error! Duplicate identifier &#x27;dog&#x27;.</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;React-ä¸­å¯èƒ½ç”¨åˆ°çš„-TypeScript-ç±»å‹æ³¨è§£&quot;&gt;&lt;a href=&quot;#React-ä¸­å¯èƒ½ç”¨åˆ°çš„-TypeScript-ç±»å‹æ³¨è§£&quot; class=&quot;headerlink&quot; title=&quot;React ä¸­å¯èƒ½ç”¨åˆ°çš„ TypeScript ç±»å‹æ³¨è§£&quot;&gt;&lt;/a&gt;&lt;code&gt;React&lt;/code&gt; ä¸­å¯èƒ½ç”¨åˆ°çš„ &lt;code&gt;TypeScript&lt;/code&gt; ç±»å‹æ³¨è§£&lt;/h4&gt;&lt;details&gt;
&lt;summary&gt;code&lt;/summary&gt;

&lt;figure class=&quot;highlight typescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; AppProps = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;message&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  count: &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  disabled: &lt;span class=&quot;built_in&quot;&gt;boolean&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** array of a type! */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  names: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;[];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** string literals to specify exact string values, with a union type to join them together */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  status: &lt;span class=&quot;string&quot;&gt;&amp;quot;waiting&amp;quot;&lt;/span&gt; | &lt;span class=&quot;string&quot;&gt;&amp;quot;success&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** any object as long as you dont use its properties (NOT COMMON but useful as placeholder) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj: &lt;span class=&quot;built_in&quot;&gt;object&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj2: &amp;#123;&amp;#125;; &lt;span class=&quot;comment&quot;&gt;// almost the same as `object`, exactly the same as `Object`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** an object with any number of properties (PREFERRED) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj3: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    title: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** array of objects! (common) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  objArr: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    title: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;[];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** a dict object with any number of properties of the same type */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  dict1: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [key: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;]: MyTypeHere;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  dict2: Record&amp;lt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;, MyTypeHere&amp;gt;; &lt;span class=&quot;comment&quot;&gt;// equivalent to dict1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** any function as long as you don&amp;#x27;t invoke it (not recommended) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  onSomething: &lt;span class=&quot;built_in&quot;&gt;Function&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** function that doesn&amp;#x27;t take or return anything (VERY COMMON) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  onClick: &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;void&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** function with named prop (VERY COMMON) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  onChange: &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;id: &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;void&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** function type syntax that takes an event (VERY COMMON) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  onChange: &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;event: React.ChangeEvent&amp;lt;HTMLInputElement&amp;gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;void&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** alternative function type syntax that takes an event (VERY COMMON) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  onClick(event: React.MouseEvent&amp;lt;HTMLButtonElement&amp;gt;): &lt;span class=&quot;built_in&quot;&gt;void&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** an optional prop (VERY COMMON!) */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  optional?: OptionalType;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/details&gt;</summary>
    
    
    
    <category term="TypeScript" scheme="https://hushaoyu.github.io/blog/categories/TypeScript/"/>
    
    <category term="React Props" scheme="https://hushaoyu.github.io/blog/categories/TypeScript/React-Props/"/>
    
    
    <category term="React" scheme="https://hushaoyu.github.io/blog/tags/React/"/>
    
    <category term="TypeScript" scheme="https://hushaoyu.github.io/blog/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript - å¼€å‘æŠ€å·§</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/26/JavaScript-%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/26/JavaScript-%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/</id>
    <published>2022-01-26T02:50:22.000Z</published>
    <updated>2022-02-13T08:53:05.297Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å°†-Json-æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶"><a href="#å°†-Json-æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶" class="headerlink" title="å°† Json æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶"></a>å°† <code>Json</code> æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> FileSaver <span class="keyword">from</span> <span class="string">&#x27;file-saver&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>data &#123;string&#125; éœ€è¦å¯¼å‡ºçš„jsonæ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fileName &#123;string&#125; å¯¼å‡ºçš„æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">exportJSON</span>(<span class="params">data, fileName</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([data], &#123;<span class="attr">type</span>: <span class="string">&quot;text/plain;charset=utf-8&quot;</span>&#125;);</span><br><span class="line">    FileSaver.saveAs(blob, fileName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®è§£å‹ç¼©"><a href="#æ•°æ®è§£å‹ç¼©" class="headerlink" title="æ•°æ®è§£å‹ç¼©"></a>æ•°æ®è§£å‹ç¼©</h4><ul><li>å¦‚æœéœ€è¦ä¼ é€’ç»™åç«¯æ¥å£çš„æ•°æ®é‡è¿‡å¤§ï¼Œå¯èƒ½å½±å“å¸¦å®½åŠå­˜å‚¨æ—¶ï¼Œå¯è€ƒè™‘å¯¹æ•°æ®è¿›è¡Œå‹ç¼©åä¼ é€’</li><li>å‹ç¼©å·¥å…·åº“ï¼š<a href="http://www.qiutianaimeili.com/html/page/2019/12/bncs8g07hcg.html">pako</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span>:</span></span><br><span class="line"><span class="comment"> *  str: éœ€è¦å‹ç¼©çš„å†…å®¹</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">zipJson</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = deflate(str, &#123; <span class="attr">to</span>: <span class="string">&#x27;string&#x27;</span>, <span class="attr">level</span>: <span class="number">8</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> data &amp;&amp; Uint8ArrayToString(data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°æ®è§£å‹ç¼©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@parasm</span>ï¼š</span></span><br><span class="line"><span class="comment"> *  strï¼šé€šè¿‡zipJsonæ–¹æ³•å‹ç¼©åçš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">unZipJson</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> strArr = stringToUint8Array(str);</span><br><span class="line">    <span class="keyword">const</span> data = inflate(strArr, &#123;</span><br><span class="line">        <span class="attr">to</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºUint8Array</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">stringToUint8Array</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = str.length; i &lt; j; i += <span class="number">1</span>) &#123;</span><br><span class="line">        arr.push(str.charCodeAt(i));</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> tmpUint8Array = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(arr);</span><br><span class="line">    <span class="keyword">return</span> tmpUint8Array;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†Uint8Arrayè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼šä½¿ç”¨pakoå‹ç¼©åçš„æ•°æ®é€šå¸¸ä¸ºUint8Arrayï¼Œéœ€è¦å°†æ­¤ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¼ é€’ç»™åç«¯æ¥å£</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Uint8ArrayToString</span>(<span class="params">fileData</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> dataString = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; fileData.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">        dataString += <span class="built_in">String</span>.fromCharCode(fileData[i]);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> dataString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Antd-è‡ªå®šä¹‰å¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹"><a href="#Antd-è‡ªå®šä¹‰å¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹" class="headerlink" title="Antd è‡ªå®šä¹‰å¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹"></a><code>Antd</code> è‡ªå®šä¹‰å¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹</h4><ul><li>é…åˆ <code>Upload</code> ç»„ä»¶å¼‚æ­¥è¯»å–æ–‡ä»¶å†…å®¹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;Upload</span><br><span class="line">    showUploadList=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">    maxCount=&#123;<span class="number">1</span>&#125;</span><br><span class="line">    accept=<span class="string">&#x27;.svg,.png,jpg,.PNG,.JPG,.JPEG&#x27;</span></span><br><span class="line">    beforeUpload=&#123;<span class="function">(<span class="params">file</span>) =&gt;</span> &#123;</span><br><span class="line">        readFileAsDataURL(file).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            addBgImg(<span class="built_in">this</span>.props.getGraph(), res)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">title</span>=<span class="string">&#x27;å¯¼å…¥èƒŒæ™¯å›¾&#x27;</span> <span class="attr">role</span>=<span class="string">&#x27;none&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;link&#x27;</span> <span class="attr">icon</span>=<span class="string">&#x27;bg-colors&#x27;</span> /&gt;</span></span></span><br><span class="line">&lt;/Upload&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fileï¼šæ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * returnï¼špromise</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">readFileAsDataURL</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">        reader.readAsDataURL(file);</span><br><span class="line">        reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">            resolve(event.target.result);</span><br><span class="line">        &#125;;</span><br><span class="line">        reader.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            reject(<span class="literal">false</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦"><a href="#è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦" class="headerlink" title="è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦"></a>è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>text &#123;string&#125; éœ€è¦è®¡ç®—çš„æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fontSize &#123;number&#125; æ–‡æœ¬å­—ä½“å¤§å°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>overflowFlag &#123;boolean&#125; æ˜¯å¦è¶…é•¿çœç•¥æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>overflowLength &#123;number&#125; è¶…é•¿çœç•¥çš„æ–‡æœ¬é•¿åº¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> computedTextWidth = <span class="function">(<span class="params">text, fontSize = <span class="number">12</span>, overflowFlag, overflowLength = <span class="number">8</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> span = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;computedTextWidth&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!span) &#123;</span><br><span class="line">        span = <span class="built_in">document</span>.createElement(<span class="string">&#x27;span&#x27;</span>);</span><br><span class="line">        span.id = <span class="string">&#x27;computedTextWidth&#x27;</span>;</span><br><span class="line">        span.style.cssText = <span class="string">&#x27;visibility:hidden;position: absolute;left: -999em;top:-999em;&#x27;</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(span);</span><br><span class="line">    &#125;</span><br><span class="line">    span.style.fontSize = <span class="string">`<span class="subst">$&#123;fontSize&#125;</span>px`</span>;</span><br><span class="line">    span.innerHTML = overflowFlag &amp;&amp; _.isString(text) &amp;&amp; text.length &gt; overflowLength ? <span class="string">`<span class="subst">$&#123;text.slice(<span class="number">0</span>, overflowLength)&#125;</span>...`</span> : text;</span><br><span class="line">    <span class="keyword">return</span> span.offsetWidth;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º"><a href="#æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º" class="headerlink" title="æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º"></a>æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼åŒ–legend æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span>:</span></span><br><span class="line"><span class="comment"> *  params: æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> *  provideNumber: æ¯ä¸€è¡Œè¦æ˜¾ç¤ºçš„æ–‡æœ¬å­—æ•°</span></span><br><span class="line"><span class="comment"> *  rows: æŒ‡å®šæœ€å¤šæ˜¾ç¤ºå¤šå°‘è¡Œ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> formatterLegendText = <span class="function">(<span class="params">params, provideNumber = <span class="number">17</span>, rows</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> newParamsName = <span class="string">&quot;&quot;</span>;<span class="comment">// æœ€ç»ˆæ‹¼æ¥æˆçš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">const</span> paramsNameNumber = params.length;<span class="comment">// å®é™…æ–‡æœ¬å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">const</span> maxRows = <span class="built_in">Math</span>.ceil(paramsNameNumber / provideNumber);<span class="comment">// æ¢è¡Œçš„è¯ï¼Œéœ€è¦æ˜¾ç¤ºå‡ è¡Œï¼Œå‘ä¸Šå–æ•´;</span></span><br><span class="line">    <span class="keyword">let</span> rowNumber = rows || maxRows;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¡ä»¶ç­‰åŒäºrowNumber&gt;1</span></span><br><span class="line">    <span class="keyword">if</span> (paramsNameNumber &gt; provideNumber) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> p = <span class="number">0</span>; p &lt; rowNumber; p += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> tempStr = <span class="string">&quot;&quot;</span>;<span class="comment">// è¡¨ç¤ºæ¯ä¸€æ¬¡æˆªå–çš„å­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">let</span> start = p * provideNumber;<span class="comment">// å¼€å§‹æˆªå–çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">let</span> end = start + provideNumber;<span class="comment">// ç»“æŸæˆªå–çš„ä½ç½®</span></span><br><span class="line">            <span class="comment">// æ­¤å¤„ç‰¹æ®Šå¤„ç†æœ€åä¸€è¡Œçš„ç´¢å¼•å€¼</span></span><br><span class="line">            <span class="keyword">if</span> (p == rowNumber - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// æœ€åä¸€æ¬¡ä¸æ¢è¡Œ</span></span><br><span class="line">                tempStr = params.substring(start, paramsNameNumber);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ¯ä¸€æ¬¡æ‹¼æ¥å­—ç¬¦ä¸²å¹¶æ¢è¡Œ</span></span><br><span class="line">                tempStr = params.substring(start, end) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            newParamsName += tempStr;<span class="comment">// æœ€ç»ˆæ‹¼æˆçš„å­—ç¬¦ä¸²</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å°†æ—§æ ‡ç­¾çš„å€¼èµ‹ç»™æ–°æ ‡ç­¾</span></span><br><span class="line">        newParamsName = params;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæŒ‡å®šäº†æœ€å¤§æ˜¾ç¤ºè¡Œæ•°ï¼Œå¹¶åˆ«æ¯”å®é™…è®¡ç®—çš„æœ€å¤§è¡Œæ•°å°ï¼Œåˆ™åç»­æ–‡æœ¬å†…å®¹çœç•¥æ˜¾ç¤º</span></span><br><span class="line">    <span class="keyword">if</span> (rows &amp;&amp; rows &lt; maxRows) &#123;</span><br><span class="line">        newParamsName += <span class="string">&#x27;...&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å°†æœ€ç»ˆçš„å­—ç¬¦ä¸²è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> newParamsName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç”Ÿæˆ-uuid"><a href="#ç”Ÿæˆ-uuid" class="headerlink" title="ç”Ÿæˆ uuid"></a>ç”Ÿæˆ <code>uuid</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿæˆuuid</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> generateUUID = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> temp_url = URL.createObjectURL(<span class="keyword">new</span> Blob());</span><br><span class="line">    <span class="keyword">const</span> uuid = temp_url.toString();</span><br><span class="line">    URL.revokeObjectURL(temp_url);</span><br><span class="line">    <span class="keyword">return</span> uuid.substr(uuid.lastIndexOf(<span class="string">&quot;/&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ ¼å¼åŒ–ç»Ÿè®¡æ•°å€¼"><a href="#æ ¼å¼åŒ–ç»Ÿè®¡æ•°å€¼" class="headerlink" title="æ ¼å¼åŒ–ç»Ÿè®¡æ•°å€¼"></a>æ ¼å¼åŒ–ç»Ÿè®¡æ•°å€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼åŒ–ç»Ÿè®¡æ•°å€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>count ç»Ÿè®¡æ•°å€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>toFixed å°æ•°ç‚¹ä¿ç•™ä½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String[]&#125;</span> </span>units è¦æ ¼å¼åŒ–çš„å•ä½</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> formatCount = <span class="function">(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">                                count = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                toFixed = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                                units = [<span class="string">&#x27;ä¸‡&#x27;</span>, <span class="string">&#x27;äº¿&#x27;</span>],</span></span></span><br><span class="line"><span class="params"><span class="function">                            &#125;=&#123;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(<span class="built_in">Number</span>(count))) &#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="comment">// 1.ã€€è®¡ç®—å•ä½</span></span><br><span class="line">    <span class="keyword">const</span> symbols = [<span class="string">&#x27;ä¸ª&#x27;</span>, <span class="string">&#x27;å&#x27;</span>, <span class="string">&#x27;ç™¾&#x27;</span>, <span class="string">&#x27;åƒ&#x27;</span>, <span class="string">&#x27;ä¸‡&#x27;</span>, <span class="string">&#x27;åä¸‡&#x27;</span>, <span class="string">&#x27;ç™¾ä¸‡&#x27;</span>, <span class="string">&#x27;åƒä¸‡&#x27;</span>, <span class="string">&#x27;äº¿&#x27;</span>];</span><br><span class="line">    <span class="keyword">const</span> len = count.toString().length;</span><br><span class="line">    <span class="keyword">const</span> unit = symbols</span><br><span class="line">        .slice(<span class="number">0</span>, len)</span><br><span class="line">        .filter(<span class="function"><span class="params">v</span> =&gt;</span> units.includes(v))</span><br><span class="line">        .reverse()[<span class="number">0</span>] || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ã€€ï¼’ï¼è®¡ç®—æ•°å€¼</span></span><br><span class="line">    <span class="keyword">const</span> index = symbols.indexOf(unit);</span><br><span class="line">    <span class="keyword">let</span> value = count / <span class="built_in">Math</span>.pow(<span class="number">10</span>, index !== -<span class="number">1</span> ? index : <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ï¼“ï¼æ ¼å¼åŒ–</span></span><br><span class="line">    <span class="keyword">if</span> (value.toString().length &gt; value.toFixed(toFixed).toString().length) &#123;</span><br><span class="line">        value = value.toFixed(toFixed);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;ã€€value , unit,  <span class="attr">format</span>: <span class="string">`<span class="subst">$&#123;value&#125;</span> <span class="subst">$&#123;unit&#125;</span>`</span> &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="Byte-æ•°å€¼è£…æ¢"><a href="#Byte-æ•°å€¼è£…æ¢" class="headerlink" title="Byte æ•°å€¼è£…æ¢"></a>Byte æ•°å€¼è£…æ¢</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Byte æ•°å€¼è£…æ¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>bytes å½“å‰ bytes å¤§å°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> byteFormat = <span class="function">(<span class="params">bytes</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(bytes)) &#123;<span class="keyword">return</span> <span class="string">&#x27;0 B&#x27;</span>;&#125;</span><br><span class="line">    <span class="keyword">const</span> symbols = [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;KB&#x27;</span>, <span class="string">&#x27;MB&#x27;</span>, <span class="string">&#x27;GB&#x27;</span>, <span class="string">&#x27;TB&#x27;</span>, <span class="string">&#x27;PB&#x27;</span>, <span class="string">&#x27;EB&#x27;</span>, <span class="string">&#x27;ZB&#x27;</span>, <span class="string">&#x27;YB&#x27;</span>];</span><br><span class="line">    <span class="keyword">let</span> exp = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.log(bytes)/<span class="built_in">Math</span>.log(<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">if</span> (exp &lt; <span class="number">1</span>) &#123;exp = <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(exp / <span class="number">10</span>);</span><br><span class="line">    bytes = bytes / <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">10</span> * i);</span><br><span class="line">    <span class="keyword">if</span> (bytes.toString().length &gt; bytes.toFixed(<span class="number">2</span>).toString().length) &#123;</span><br><span class="line">        bytes = bytes.toFixed(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        symbols,                          <span class="comment">// å•ä½åˆ—è¡¨</span></span><br><span class="line">        <span class="attr">index</span>: i,                         <span class="comment">// è½¬æ¢åå•ä½æ‰€åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•</span></span><br><span class="line">        <span class="attr">value</span>: bytes,                     <span class="comment">// è½¬æ¢åçš„å€¼</span></span><br><span class="line">        <span class="attr">unit</span>: symbols[i],                 <span class="comment">// è½¬æ¢åå•ä½</span></span><br><span class="line">        <span class="attr">format</span>: <span class="string">`<span class="subst">$&#123;bytes&#125;</span> <span class="subst">$&#123;symbols[i]&#125;</span>`</span>, <span class="comment">// æ ¼å¼åçš„å­—ç¬¦ä¸²</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="å…¨å±æ˜¾ç¤º"><a href="#å…¨å±æ˜¾ç¤º" class="headerlink" title="å…¨å±æ˜¾ç¤º"></a>å…¨å±æ˜¾ç¤º</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>ï¼šele &#123;Element&#125; æŒ‡å®šéœ€è¦å…¨å±çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fullScreen</span>(<span class="params">ele</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> element = ele || <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">if</span> (element.requestFullscreen) &#123;</span><br><span class="line">        element.requestFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.msRequestFullscreen) &#123;</span><br><span class="line">        element.msRequestFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.mozRequestFullScreen) &#123;</span><br><span class="line">        element.mozRequestFullScreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.webkitRequestFullscreen) &#123;</span><br><span class="line">        element.webkitRequestFullscreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€€å‡ºå…¨å±</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">exitFullscreen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.exitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.exitFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.msExitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.msExitFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.mozCancelFullScreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.mozCancelFullScreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.webkitExitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.webkitExitFullscreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚"><a href="#æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚" class="headerlink" title="æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚"></a>æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚</h4><ul><li>åœ¨ <code>SPA</code> åº”ç”¨ä¸­ï¼Œå½“ç”¨æˆ·åˆ‡æ¢èœå•æ—¶ï¼Œå–æ¶ˆå‰ç½®èœå•çš„æ‰€æœ‰æ¥å£è¯·æ±‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fetchæ‰‹åŠ¨å–æ¶ˆè¯·æ±‚</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">let</span> abortController = <span class="built_in">window</span>.AbortController &amp;&amp; <span class="keyword">new</span> AbortController();</span><br><span class="line"><span class="comment">// ç”±äºæ§åˆ¶å™¨å–æ¶ˆè¯·æ±‚æ—¶,å°†å–æ¶ˆç›¸åŒä¿¡å·çš„æ‰€æœ‰è¯·æ±‚,å› æ­¤ä¸ºé¿å…å–æ¶ˆè¯·æ±‚åçš„åç»­è¯·æ±‚æ­£å¸¸å‘é€,éœ€è¦é‡æ–°æ„å»ºæ§åˆ¶å™¨,ç”Ÿæˆæ–°çš„ä¿¡å·</span></span><br><span class="line"><span class="built_in">exports</span>.renewAbortController = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    abortController = <span class="built_in">window</span>.AbortController &amp;&amp; <span class="keyword">new</span> AbortController();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·å–å½“å‰æ§åˆ¶å™¨å®ä¾‹</span></span><br><span class="line"><span class="built_in">exports</span>.getAbortController = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> abortController;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢èœå•æ—¶å–æ¶ˆå‰ç½®è¯·æ±‚å¹¶é‡æ–°ç”Ÿæˆæ§åˆ¶å™¨</span></span><br><span class="line">childMenuClick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    getAbortController().abort();</span><br><span class="line">    renewAbortController();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é€è¯·æ±‚æ—¶,é…ç½®æ§åˆ¶å™¨ä¿¡å·</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">url, options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fetch(url, &#123;...options, <span class="attr">credentials</span>: <span class="string">&#x27;include&#x27;</span>, <span class="attr">signal</span>: getAbortController() &amp;&amp; getAbortController().signal&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å¯æ‹–åŠ¨å…ƒç´ "><a href="#å¯æ‹–åŠ¨å…ƒç´ " class="headerlink" title="å¯æ‹–åŠ¨å…ƒç´ "></a>å¯æ‹–åŠ¨å…ƒç´ </h4><ul><li>é¡µé¢ç»“æ„<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ref</span>=<span class="string">&#123;this.containerRef&#125;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">className</span>=<span class="string">&#123;classnames(&#123;</span></span></span><br><span class="line"><span class="tag">        &#x27;<span class="attr">sql-wrapper</span>&#x27;<span class="attr">:</span> <span class="attr">true</span>,</span></span><br><span class="line"><span class="tag">        &#x27;<span class="attr">show</span>&#x27;<span class="attr">:</span> <span class="attr">this.state.visible</span>,</span></span><br><span class="line"><span class="tag">        &#x27;<span class="attr">hide</span>&#x27;<span class="attr">:</span> !<span class="attr">this.state.visible</span>,</span></span><br><span class="line"><span class="tag">        &#x27;<span class="attr">position-modal</span>&#x27;<span class="attr">:</span> <span class="attr">this.state.modal</span> === <span class="string">&#x27;absolute&#x27;</span></span></span><br><span class="line"><span class="tag">        &#125;)&#125;</span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">&#123;&#123;left:</span> <span class="attr">this.state.position.left</span>, <span class="attr">top:</span> <span class="attr">this.state.position.top</span>&#125;&#125;</span></span><br><span class="line"><span class="tag">        <span class="attr">draggable</span>=<span class="string">&#123;this.state.modal</span> === <span class="string">&#x27;absolute&#x27;</span>&#125;</span></span><br><span class="line"><span class="tag">        <span class="attr">onDragEnd</span>=<span class="string">&#123;this.dragEnd&#125;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">onMouseDown</span>=<span class="string">&#123;this.mouseDown&#125;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    SQLé¢„è§ˆ</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;icon-container&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">title</span>=<span class="string">&#123;this.state.modal</span> === <span class="string">&#x27;default&#x27;</span> ? &#x27;å±•å¼€&#x27; <span class="attr">:</span> &#x27;æ”¶ç¼©&#x27;&#125; <span class="attr">type</span>=<span class="string">&#123;this.state.modal</span> === <span class="string">&#x27;default&#x27;</span> ? &#x27;<span class="attr">fullscreen</span>&#x27; <span class="attr">:</span> &#x27;<span class="attr">fullscreen-exit</span>&#x27;&#125; <span class="attr">onClick</span>=<span class="string">&#123;this.changeModal&#125;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">className</span>=<span class="string">&#x27;private-clipboard-icon&#x27;</span> <span class="attr">title</span>=<span class="string">&#x27;å¤åˆ¶&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;copy&#x27;</span> /&gt;</span></span><br><span class="line">        &#123;this.state.visible ? <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">title</span>=<span class="string">&#x27;æ”¶èµ·&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;arrow-down&#x27;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeView&#125;</span> /&gt;</span> : <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">type</span>=<span class="string">&#x27;arrow-up&#x27;</span> <span class="attr">title</span>=<span class="string">&#x27;å±•å¼€&#x27;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeView&#125;</span> /&gt;</span>&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;highLight-sql&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Highlight</span> <span class="attr">languageName</span>=<span class="string">&quot;sql&quot;</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">whiteSpace:</span> &#x27;<span class="attr">pre-wrap</span>&#x27; &#125;&#125;&gt;</span></span><br><span class="line">    &#123;sqlFormatter.format(_.get(this.props.alarm, &#x27;sql&#x27;, &#x27;&#x27;))&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">Highlight</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>æ€è·¯: é€šè¿‡å…ƒç´ çš„ <code>left</code> åŠ <code>top</code> æ ·å¼å±æ€§,å¯¹å…ƒç´ è¿›è¡Œç»å¯¹å®šä½,æ‹–åŠ¨è¿‡ç¨‹ä¸­æ”¹å˜å…ƒç´ è¿™ä¸¤ä¸ªå±æ€§,è¾¾åˆ°æ‹–åŠ¨å…ƒç´ çš„ç›®çš„.<ul><li>å…³é”®å±æ€§,æ›´å¤šé¼ æ ‡äº‹ä»¶å±æ€§å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent">Link</a><ul><li>clientX: é¼ æ ‡è§¦å‘äº‹ä»¶å½“å‰çš„xåæ ‡</li><li>clientY: é¼ æ ‡è§¦å‘äº‹ä»¶å½“å‰çš„yåæ ‡</li><li>element.offsetLeft: å½“å‰æ‹–åŠ¨å…ƒç´ è·ç¦»æµè§ˆå™¨è§†å£å·¦ä¾§è¾¹ç¼˜çš„è·ç¦»</li><li>element.offsetTop: å½“å‰æ‹–åŠ¨å…ƒç´ è·ç¦»æµè§ˆå™¨è§†å£ä¸Šæ–¹è¾¹ç¼˜çš„è·ç¦»</li></ul></li><li>ç›‘å¬ <code>onmousedown</code> äº‹ä»¶,è·å–æŒ‰ä¸‹é¼ æ ‡æ—¶,é¼ æ ‡åˆå§‹çš„åæ ‡,å¹¶å‡å»æ‹–åŠ¨å…ƒç´ çš„ç›¸å¯¹åç§»è·ç¦»,å¾—åˆ°é¼ æ ‡åœ¨å…ƒç´ å†…çš„ç›¸å¯¹ä½ç½®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mouseDown = <span class="function">(<span class="params">&#123;clientX, clientY&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> element = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;sql-wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">const</span> offsetX = clientX - element.offsetLeft;</span><br><span class="line">      <span class="keyword">const</span> offsetY = clientY - element.offsetTop;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">          offsetX,</span><br><span class="line">          offsetY</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li>ç›‘å¬ <code>ondragend</code> äº‹ä»¶,è·å–æ‹–åŠ¨ç»“æŸæ—¶,å½“å‰é¼ æ ‡çš„åæ ‡.å¹¶å‡å»é¼ æ ‡åœ¨æ‹–åŠ¨å…ƒç´ å†…çš„ç›¸å¯¹ä½ç½®,å¾—åˆ°æ‹–åŠ¨å…ƒç´ å·¦ä¸Šè§’çš„åæ ‡,åŠæ‹–åŠ¨å…ƒç´ æ ·å¼çš„ <code>left</code> å’Œ <code>top</code> å€¼<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dragEnd = (&#123;clientX, clientY&#125;) =&gt; &#123;</span><br><span class="line">      const &#123;offsetX, offsetY&#125; = this.state;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">          position: &#123;</span><br><span class="line">              left: clientX - offsetX,</span><br><span class="line">              top: clientY - offsetY</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li>é¢„è§ˆ<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/JavaScript%20-%20%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/drag-dom.gif" alt="é¢„è§ˆ"></li></ul></li></ul><h4 id="å¤§å±æ‹–åŠ¨æ’åº"><a href="#å¤§å±æ‹–åŠ¨æ’åº" class="headerlink" title="å¤§å±æ‹–åŠ¨æ’åº"></a>å¤§å±æ‹–åŠ¨æ’åº</h4><ul><li>ä»£ç æ–‡ä»¶è¯´æ˜<ul><li><code>MainContentContainer.js</code>: å¤§å±é¡µé¢å®¹å™¨ä¸»æ–‡ä»¶</li><li><code>DragItem.js</code>: æ‹–åŠ¨å…ƒç´ å®¹å™¨,æ‹–åŠ¨æ’åºé€»è¾‘å¤„ç†</li></ul></li><li><code>MainContentContainer.js</code><ul><li>é¡µé¢ç»“æ„<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">DragItem</span> <span class="attr">allData</span>=<span class="string">&#123;_.cloneDeep(this.chartsDataInit)&#125;</span> <span class="attr">itemData</span>=<span class="string">&#123;_.cloneDeep(this.chartsData)&#125;</span> <span class="attr">ColItem</span>=<span class="string">&#123;ColItem&#125;</span> <span class="attr">confirmSort</span>=<span class="string">&#123;this.confirmSort&#125;</span>  /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><code>ColItem</code>: æ‹–åŠ¨å…ƒç´ åŸºç¡€ç»“æ„<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColItem</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;V&#125; = <span class="built_in">this</span>.props;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content-charts&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;chart-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;V.title&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;chart-item&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">V.component</span> /&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>åˆå§‹åŒ–æ•°æ®è¯´æ˜<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¡µé¢åˆå§‹åŒ–æ•°æ®</span></span><br><span class="line"><span class="comment"> * title: æ‹–åŠ¨å…ƒç´ å›¾è¡¨æ ‡é¢˜</span></span><br><span class="line"><span class="comment"> * key: æ‹–åŠ¨å…ƒç´ å›¾è¡¨key,éœ€è¦å”¯ä¸€,åç»­å…ƒç´ éå†æ—¶ä½œä¸ºå…ƒç´ çš„key</span></span><br><span class="line"><span class="comment"> * component: React ç»„ä»¶,ä¸šåŠ¡ä»£ç </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">chartsDataInit = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æœ¬æœˆæ´»è·ƒç”¨æˆ·&#x27;</span>,</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&#x27;monthUser&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: MonthUser,</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">];</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * key: ä¸ chartsDataInit ä¸­çš„ key å¯¹åº”,åç»­ç”¨äºè·å– chartsDataInit ä¸­çš„ component ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * span: ä¸ Antd çš„ Col ç»“åˆä½¿ç”¨,ç”¨äºç™¾åˆ†æ¯”å¸ƒå±€</span></span><br><span class="line"><span class="comment"> * index: è¡¨æ˜å½“å‰å…ƒç´ çš„æ’åºåºå·</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">chartsData = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æœ¬æœˆæ´»è·ƒç”¨æˆ·&#x27;</span>,</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&#x27;monthUser&#x27;</span>,</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">index</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><code>confirmSort</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨ DragItem ç»„ä»¶ä¸­,æ‹–åŠ¨æ’åºç¡®è®¤äº‹ä»¶å°†è°ƒç”¨æ­¤æ–¹æ³•,ç”¨äºæ›´æ–°æ’åºå¸ƒå±€</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">confirmSort = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> editData = _.cloneDeep(data);</span><br><span class="line">    <span class="keyword">if</span> (!_.isArray(editData)) &#123;</span><br><span class="line">        message.warning(<span class="string">&#x27;æ•°æ®æœªæ›´æ”¹ï¼&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        <span class="attr">chartsData</span>: editData.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> (&#123;</span><br><span class="line">            ...item,</span><br><span class="line">            index</span><br><span class="line">        &#125;)),</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><code>DragItem.js</code><ul><li>æ·»åŠ ç›‘å¬äº‹ä»¶: ç›‘å¬é¡µé¢å¿«æ·é”®,ä½¿ç”¨ CTRL + I é”®åˆ‡æ¢æˆç¼–è¾‘/æŸ¥çœ‹æ¨¡å¼; ç›‘å¬å…ƒç´ çš„æ‹–åŠ¨äº‹ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">bindEvents = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> elements = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;drag-item&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; elements.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.onDragListener(elements[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ CTRL + I é”®åˆ‡æ¢æˆç¼–è¾‘/æŸ¥çœ‹æ¨¡å¼</span></span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;keydown&#x27;</span>, <span class="built_in">this</span>.onKeyDownListener.bind(<span class="built_in">this</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰é”®äº‹ä»¶ç›‘å¬</span></span><br><span class="line">onKeyDownListener = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> keyCode = event.keyCode || event.which || event.charCode;</span><br><span class="line">    <span class="keyword">const</span> keyCombination = event.ctrlKey ;</span><br><span class="line">    <span class="keyword">if</span> (keyCombination &amp;&amp; keyCode == <span class="number">73</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.state.mode === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">            <span class="built_in">this</span>.confirmChange();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">                <span class="attr">mode</span>: <span class="string">&#x27;edit&#x27;</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹–æ‹½äº‹ä»¶ç›‘å¬</span></span><br><span class="line">onDragListener = <span class="function">(<span class="params">element</span>) =&gt;</span> &#123;</span><br><span class="line">    element.addEventListener(<span class="string">&#x27;dragstart&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.eventSource = event.target;</span><br><span class="line">        <span class="built_in">this</span>.draggingPosition = <span class="built_in">this</span>.eventSource.getBoundingClientRect();</span><br><span class="line">        <span class="built_in">this</span>.sourceKey = <span class="built_in">this</span>.eventSource.getAttribute(<span class="string">&#x27;data-key&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    element.addEventListener(<span class="string">&#x27;dragenter&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.eventTarget = event.target;</span><br><span class="line">        <span class="built_in">this</span>.draggingOrder = <span class="built_in">this</span>.changeOrder(<span class="built_in">this</span>.eventSource);</span><br><span class="line">        <span class="keyword">const</span> order = <span class="built_in">this</span>.changeOrder(<span class="built_in">this</span>.eventTarget);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.state.mode === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.draggingOrder &gt; order) &#123;</span><br><span class="line">                <span class="built_in">this</span>.eventTarget.parentElement.insertBefore(<span class="built_in">this</span>.eventSource, <span class="built_in">this</span>.eventTarget);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.eventTarget.nextElementSibling) &#123;</span><br><span class="line">                    <span class="built_in">this</span>.eventTarget.parentElement.insertBefore(<span class="built_in">this</span>.eventSource, <span class="built_in">this</span>.eventTarget.nextElementSibling);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="built_in">this</span>.eventTarget.parentElement.appendChild(<span class="built_in">this</span>.eventSource);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.setEditData(<span class="built_in">this</span>.sourceKey, <span class="built_in">this</span>.eventTarget.getAttribute(<span class="string">&#x27;data-key&#x27;</span>), <span class="built_in">this</span>.draggingOrder - order);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æ’åº</span></span><br><span class="line">changeOrder = <span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> order = <span class="built_in">Array</span>.from(node.parentElement.children).indexOf(node);</span><br><span class="line">    <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span>:</span></span><br><span class="line"><span class="comment"> *  sourceKey: æ‹–æ‹½æºèŠ‚ç‚¹çš„key</span></span><br><span class="line"><span class="comment"> *  targetKeyï¼šæ‹–æ‹½ç›®æ ‡èŠ‚ç‚¹çš„key</span></span><br><span class="line"><span class="comment"> *  orderTypeï¼šbooleanã€‚æ˜¯å¦å‰ç½®. å‰ç½®è¡¨ç¤ºå°†æºèŠ‚ç‚¹æ”¾ç½®åœ¨ç›®æ ‡èŠ‚ç‚¹å‰é¢.</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">setEditData = <span class="function">(<span class="params">sourceKey, targetKey, orderType</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> sourceIndex, targetIndex;</span><br><span class="line">    <span class="keyword">const</span> editData = _.cloneDeep(<span class="built_in">this</span>.state.editData);</span><br><span class="line">    editData.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.key === targetKey) targetIndex = i;</span><br><span class="line">        <span class="keyword">if</span> (item.key === sourceKey) sourceIndex = i;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> dragItem = editData.find(<span class="function"><span class="params">item</span> =&gt;</span> item.key === sourceKey);</span><br><span class="line">    <span class="keyword">if</span> (orderType &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        editData.splice(sourceIndex, <span class="number">1</span>);</span><br><span class="line">        editData.splice(targetIndex, <span class="number">0</span>, dragItem);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (orderType &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        editData.splice(targetIndex + <span class="number">1</span>, <span class="number">0</span>, dragItem);</span><br><span class="line">        editData.splice(sourceIndex, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.props.openModalAction(&#123;</span><br><span class="line">        <span class="attr">code</span>: MODAL_CODE_DRAG_LIST,</span><br><span class="line">        <span class="attr">data</span>: _.cloneDeep(editData),</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        <span class="attr">editData</span>: editData.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> (&#123;</span><br><span class="line">            ...item,</span><br><span class="line">            index,</span><br><span class="line">        &#125;))</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li>é¢„è§ˆ<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/JavaScript%20-%20%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/drag-sort.gif" alt="é¢„è§ˆå›¾"></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;å°†-Json-æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#å°†-Json-æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å°† Json æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶&quot;&gt;&lt;/a&gt;å°† &lt;code&gt;Json&lt;/code&gt; æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; FileSaver &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;file-saver&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param &lt;/span&gt;data &amp;#123;string&amp;#125; éœ€è¦å¯¼å‡ºçš„jsonæ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param &lt;/span&gt;fileName &amp;#123;string&amp;#125; å¯¼å‡ºçš„æ–‡ä»¶åç§°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;exportJSON&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data, fileName&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; blob = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Blob([data], &amp;#123;&lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;quot;text/plain;charset=utf-8&amp;quot;&lt;/span&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    FileSaver.saveAs(blob, fileName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="JavaScript" scheme="https://hushaoyu.github.io/blog/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="https://hushaoyu.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å·¥å…·åˆé›†</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/25/%E5%B7%A5%E5%85%B7%E5%90%88%E9%9B%86/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/25/%E5%B7%A5%E5%85%B7%E5%90%88%E9%9B%86/</id>
    <published>2022-01-25T06:39:29.000Z</published>
    <updated>2022-01-25T07:34:51.223Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ–‡ä»¶å¤„ç†"><a href="#æ–‡ä»¶å¤„ç†" class="headerlink" title="æ–‡ä»¶å¤„ç†"></a>æ–‡ä»¶å¤„ç†</h4><table><thead><tr><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="https://www.meishuzi.cn/size">è·³è½¬</a></td><td>å›¾ç‰‡æ–‡å­—å¤„ç†</td></tr><tr><td><a href="http://www.uupoop.com/ps/">è·³è½¬</a></td><td>åœ¨çº¿PS</td></tr><tr><td><a href="https://www.gaitubao.com/jpg-gif-png/">è·³è½¬</a></td><td>å›¾ç‰‡æ ¼å¼è½¬æ¢</td></tr><tr><td><a href="https://www.yasuotu.com/gif">è·³è½¬</a></td><td>å›¾ç‰‡å‹ç¼©</td></tr><tr><td><a href="https://convertio.co/zh/">è·³è½¬</a></td><td>æ–‡ä»¶è½¬æ¢å™¨</td></tr><tr><td><a href="https://app.xunjiepdf.com/pdf2jpg">è·³è½¬</a></td><td>PDFè½¬æ¢å™¨</td></tr><tr><td><a href="https://www.sslshopper.com/ssl-checker.html">è·³è½¬</a></td><td>SVGè½¬æ¢é€æ˜èƒŒæ™¯</td></tr></tbody></table><h4 id="èµ„æºè·å–"><a href="#èµ„æºè·å–" class="headerlink" title="èµ„æºè·å–"></a>èµ„æºè·å–</h4><table><thead><tr><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="http://www.1ppt.com/xiazai/zongjie/">è·³è½¬</a></td><td>PPTæ¨¡æ¿</td></tr><tr><td><a href="https://www.chuangkit.com/sj-pi3-si23-or0-pt0-pn1.html">è·³è½¬</a></td><td>æ–‡æ¡£æ¨¡æ¿</td></tr></tbody></table><h4 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h4><table><thead><tr><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="http://tool.oschina.net/hexconvert/">è·³è½¬</a></td><td>è¿›åˆ¶è½¬æ¢</td></tr><tr><td><a href="http://www.ku51.net/color/rgb.html">è·³è½¬</a></td><td>RGBé¢œè‰²æŸ¥è¯¢å¯¹ç…§è¡¨</td></tr><tr><td><a href="https://suijimimashengcheng.51240.com/">è·³è½¬</a></td><td>ç”Ÿæˆéšæœºå¯†ç </td></tr><tr><td><a href="http://cron.qqe2.com/">è·³è½¬</a></td><td>CRONè¡¨è¾¾å¼ç”Ÿæˆ</td></tr><tr><td><a href="http://jsrun.net/6NXKp/edit">è·³è½¬</a></td><td>JavaScriptç¼–è¾‘å™¨</td></tr><tr><td><a href="https://codesandbox.io/s/">è·³è½¬</a></td><td>codesandbox åœ¨çº¿æ¡†æ¶ç¼–ç¨‹</td></tr><tr><td><a href="https://www.caniuse.com/#search=sticky">è·³è½¬</a></td><td>csså±æ€§å…¼å®¹æ€§æŸ¥çœ‹</td></tr><tr><td><a href="https://uigradients.com/#Behongo">è·³è½¬</a></td><td>æ¸å˜è‰²ç”Ÿæˆ</td></tr><tr><td><a href="https://www.typescriptlang.org/play#code/Aco">è·³è½¬</a></td><td>TypeScriptç¼–è¾‘å™¨</td></tr></tbody></table><h4 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h4><table><thead><tr><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="http://www.uugai.com/">è·³è½¬</a></td><td>Logoè®¾è®¡</td></tr><tr><td><a href="https://www.fotor.com.cn/app.html">è·³è½¬</a></td><td>è®¾è®¡</td></tr><tr><td><a href="http://shufa.388g.com/?page=4">è·³è½¬</a></td><td>è‰ºæœ¯å­—ç”Ÿæˆ</td></tr></tbody></table><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><p>| é“¾æ¥ | æè¿° |<br>| <a href="https://jiema.wwei.cn/">è·³è½¬</a> | äºŒç»´ç è§£ç  |<br>| <a href="https://zhcn.109876543210.com/">è·³è½¬</a> | OCR |<br>| <a href="https://www.sslshopper.com/ssl-checker.html">è·³è½¬</a> | SSLå®‰è£…æ ¡éªŒ |<br>| <a href="https://www.myssl.cn/tools/merge-pem-cert.html">è·³è½¬</a> | ç½‘ç«™è¯ä¹¦æ–‡ä»¶å¤„ç† |</p>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;æ–‡ä»¶å¤„ç†&quot;&gt;&lt;a href=&quot;#æ–‡ä»¶å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶å¤„ç†&quot;&gt;&lt;/a&gt;æ–‡ä»¶å¤„ç†&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é“¾æ¥&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://www.meishuzi.cn/size&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å›¾ç‰‡æ–‡å­—å¤„ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://www.uupoop.com/ps/&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;åœ¨çº¿PS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://www.gaitubao.com/jpg-gif-png/&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å›¾ç‰‡æ ¼å¼è½¬æ¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://www.yasuotu.com/gif&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å›¾ç‰‡å‹ç¼©&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://convertio.co/zh/&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;æ–‡ä»¶è½¬æ¢å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://app.xunjiepdf.com/pdf2jpg&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;PDFè½¬æ¢å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://www.sslshopper.com/ssl-checker.html&quot;&gt;è·³è½¬&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;SVGè½¬æ¢é€æ˜èƒŒæ™¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    <category term="å·¥å…·" scheme="https://hushaoyu.github.io/blog/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="å·¥å…·" scheme="https://hushaoyu.github.io/blog/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Typescript - åŸºç¡€</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/25/Typescript-%E5%9F%BA%E7%A1%80/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/25/Typescript-%E5%9F%BA%E7%A1%80/</id>
    <published>2022-01-25T06:34:15.000Z</published>
    <updated>2022-01-26T06:57:06.167Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯-TypeScript"><a href="#ä»€ä¹ˆæ˜¯-TypeScript" class="headerlink" title="ä»€ä¹ˆæ˜¯ TypeScript"></a>ä»€ä¹ˆæ˜¯ <code>TypeScript</code></h4><blockquote><p><code>TypeScript</code> æ˜¯ <code>JavaScript</code> çš„ä¸€ä¸ªè¶…é›†ã€‚</p></blockquote><h4 id="å­¦ä¹ æ–‡æ¡£"><a href="#å­¦ä¹ æ–‡æ¡£" class="headerlink" title="å­¦ä¹ æ–‡æ¡£"></a>å­¦ä¹ æ–‡æ¡£</h4><ul><li><code>TypeScript with React</code> <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/setup/">Link</a></li><li>è¿›åº¦<ul><li><a href="https://2ality.com/2018/04/type-notation-typescript.html#typing-objects">Link</a></li></ul></li></ul><h4 id="ç±»å‹æ³¨è§£"><a href="#ç±»å‹æ³¨è§£" class="headerlink" title="ç±»å‹æ³¨è§£"></a>ç±»å‹æ³¨è§£</h4><ul><li>åœ¨å˜é‡ååé¢æ¥ç€ä¸€ä¸ªå†’å·ï¼Œå†’å·åé¢è·Ÿç€ç±»å‹è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼æè¿°äº†è¿™ä¸ªå˜é‡å¯ä»¥å…·æœ‰çš„å€¼ã€‚<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x: <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure></li><li>ä¸Šè¿°è¡¨è¾¾å¼ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ•°å­—ç±»å‹çš„å˜é‡ <code>x</code>ã€‚ä½ ä¹Ÿè®¸ä¼šæœ‰ç–‘é—®ï¼Œ<code>x</code> åœ¨å®šä¹‰æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šå…·ä½“çš„å€¼ï¼ŒæŒ‰ç†å€¼åº”è¯¥æ˜¯ <code>undefined</code>ï¼Œè¿™å°±ä¸å®šä¹‰çš„ <code>number</code> ç±»å‹ä¸ä¸€æ ·äº†ã€‚<code>TypeScript</code> é’ˆå¯¹è¿™ç§å˜é‡å®šä¹‰æœªèµ‹å€¼çš„æƒ…å†µï¼Œæ˜¯ä¸å…è®¸ç¨‹åºåç»­è¯»å–çš„ã€‚<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">number</span>;</span><br><span class="line">alert(a);</span><br><span class="line"><span class="comment">// Variable &#x27;a&#x27; is used before being assigned.</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ç±»å‹è¡¨è¾¾å¼"><a href="#ç±»å‹è¡¨è¾¾å¼" class="headerlink" title="ç±»å‹è¡¨è¾¾å¼"></a>ç±»å‹è¡¨è¾¾å¼</h4><ul><li>é’ˆå¯¹ <code>JavaScript</code> è®¾å®šçš„ç±»å‹å¯é€‰è¡¨è¾¾å¼<ul><li><code>undefined</code>ã€<code>null</code></li><li><code>boolean</code>ã€<code>number</code>ã€<code>string</code></li><li><code>symbol</code></li><li><code>object</code></li></ul></li><li><code>TypeScript</code> ç‰¹æœ‰çš„<ul><li><code>Array</code></li><li><code>any</code></li><li><code>...</code></li></ul></li><li>é™¤äº†ä¸Šè¿°çš„å•ä¸€ç±»å‹ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥å°†è¿™äº›ç±»å‹ç»„åˆæˆæ–°çš„<a href="#union-type">è”åˆç±»å‹</a>ï¼Œå¦‚ä½¿ç”¨äº¤å¹¶é›†ç¬¦å· <code>(U)</code>ã€<code>(âˆ©)</code>ã€‚<a href="#">æ›´å¤š</a></li></ul><h4 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h4><ul><li>å¯ä»¥é’ˆå¯¹æŸä¸€ä¸ªç±»å‹ï¼Œä½¿ç”¨ <code>type</code> å…³é”®å­—åˆ›å»ºåˆ«å<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Age = <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">let</span> age: Age = <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h4><ul><li>å¹¶ä¸æ˜¯åœ¨ä»»ä½•æ—¶å€™éƒ½éœ€è¦æ˜¾ç¤ºåœ°æŒ‡å®šå®šä¹‰å˜é‡çš„ç±»å‹ï¼Œ<code>TypeScript</code> ä¼šä¾ç…§ç±»å‹æ¨æ–­çš„è§„åˆ™ï¼Œæ¨æ–­å‡ºå˜é‡çš„ç±»å‹<ul><li>å¦‚ä¸‹ä»£ç ï¼Œæ ¹æ®ç±»å‹æ¨æ–­è§„åˆ™ï¼Œå˜é‡ <code>a</code> è¢«æ¨æ–­ä¸º <code>number</code> ç±»å‹ï¼Œå¦‚æœåç»­æ›´æ”¹ä¸ºå…¶ä»–ç±»å‹ï¼Œå°†æŠ¥é”™<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);</span><br><span class="line"><span class="comment">// &quot;number&quot;</span></span><br><span class="line">a = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="comment">// Type &#x27;string&#x27; is not assignable to type &#x27;number&#x27;.</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="TypeScript-ä¸­çš„ç±»å‹"><a href="#TypeScript-ä¸­çš„ç±»å‹" class="headerlink" title="TypeScript ä¸­çš„ç±»å‹"></a><code>TypeScript</code> ä¸­çš„ç±»å‹</h4><blockquote><p>&ensp;&ensp;<code>JavaScript</code> ä¸­æœ‰8ä¸­<a href="#">æ•°æ®ç±»å‹</a>ï¼Œåˆ†åˆ«æ˜¯ <code>Undefined</code>ã€<code>Null</code>ã€<code>Boolean</code>ã€<code>String</code>ã€<code>Number</code>ã€<code>BigInt</code>ã€<code>Symbol</code>ã€<code>Object</code>ã€‚æ‰€æœ‰è¿™äº›æ•°æ®çš„ç±»å‹æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥å†ç¨‹åºè¿è¡Œæ—¶ä¿®æ”¹æ•°æ®çš„ç±»å‹ã€‚</p></blockquote><ul><li>å¸ƒå°”å€¼ï¼šä½¿ç”¨ <code>boolean</code> å®šä¹‰çš„å€¼<ul><li>å®šä¹‰<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li>å½“ä¿®æ”¹æˆå…¶ä»–ç±»å‹çš„å€¼æ—¶ï¼Œä¼šæŠ¥é”™<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">isDone = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// .code.tio.ts(2,1): error TS2322: Type &#x27;3&#x27; is not assignable to type &#x27;boolean&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>é€šè¿‡æ„é€ å‡½æ•° <code>Boolean</code> åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ä¸æ˜¯ <code>boolean</code> ç±»å‹çš„å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ª <code>Boolean</code> å¯¹è±¡ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ <code>Boolean</code> åˆ›å»ºå®ä¾‹å¯¹è±¡èµ‹å€¼ç»™ <code>boolean</code> å®šä¹‰çš„å˜é‡<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">a = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// Type &#x27;Boolean&#x27; is not assignable to type &#x27;boolean&#x27;.</span></span><br><span class="line"><span class="comment">// &#x27;boolean&#x27; is a primitive, but &#x27;Boolean&#x27; is a wrapper object. Prefer using &#x27;boolean&#x27; when possible.</span></span><br></pre></td></tr></table></figure></li></ul></li><li>æ•°å€¼å‹ï¼šä½¿ç”¨ <code>number</code> å®šä¹‰çš„å€¼<ul><li>å®šä¹‰<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span> = <span class="number">4</span>;</span><br></pre></td></tr></table></figure></li><li>åŒæ ·çš„ï¼Œæ— æ³•é€šè¿‡æ„é€ å‡½æ•° <code>Number</code> åˆ›å»ºçš„å®ä¾‹å¯¹è±¡èµ‹å€¼ç»™ <code>number</code> ç±»å‹çš„å˜é‡</li><li>ç‰¹åˆ«çš„ï¼Œå¯ä»¥å°†åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€<code>NaN</code> åŠ <code>Infinity</code>ã€è¡¨ç¤ºæ— ç©·å¤§çš„æ•°å€¼ï¼Œè¶…å‡º 1.7976931348623157E+103088 çš„æ•°å€¼ã€‘èµ‹å€¼ç»™ <code>number</code> ç±»å‹çš„å˜é‡<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span> = <span class="number">4</span>;</span><br><span class="line">num = <span class="number">0xf00d</span>;</span><br><span class="line">num = <span class="number">0b1010</span>;</span><br><span class="line">num = <span class="number">0o744</span>;</span><br><span class="line">num = <span class="literal">NaN</span>;</span><br><span class="line">num = <span class="literal">Infinity</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li>å­—ç¬¦ä¸²ç±»å‹ï¼šä½¿ç”¨ <code>string</code> å®šä¹‰çš„å€¼<ul><li>å®šä¹‰<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str: <span class="built_in">string</span> = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> stri = <span class="string">`String is <span class="subst">$&#123;str&#125;</span>`</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li>æ•°ç»„<ul><li><code>JavaScript</code> æ•°ç»„åœ¨ <code>TypeScript</code> ä¸­æœ‰ä¸¤ç§è¡¨ç°å½¢å¼ï¼Œ<code>List</code> å’Œ <code>Tuple</code></li><li><code>List</code>ï¼šé›†åˆææ‰€æœ‰å…ƒç´ çš„ç±»å‹ç›¸åŒï¼Œä½†æ˜¯é›†åˆçš„é•¿åº¦ä¸å›ºå®š<ul><li>å®šä¹‰<ul><li>ä¸¤ç§å®šä¹‰æ–¹å¼<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1: <span class="built_in">number</span>[] = [];</span><br><span class="line"><span class="keyword">let</span> arr2: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [];</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><code>Tuple</code>ï¼šå…ƒç»„å†…å…ƒç´ çš„ç±»å‹ä¸ä¸€å®šéƒ½ä¸€æ ·ï¼Œä½†æ˜¯å…ƒç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„<ul><li>å®šä¹‰<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point: [<span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">7</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> points: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>];</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li>å‡½æ•°<ul><li>ç®€å†™æ–¹å¼<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(num: <span class="built_in">number</span>) =&gt; <span class="built_in">string</span></span><br></pre></td></tr></table></figure></li><li>å®Œæ•´å†™æ³•<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func: <span class="function">(<span class="params">num: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">string</span> =</span><br><span class="line"><span class="function">(<span class="params">num: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">String</span>(num);</span><br></pre></td></tr></table></figure></li><li>å¤æ‚çš„ä¾‹å­<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringify123</span>(<span class="params">callback: (num: <span class="built_in">number</span>) =&gt; <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> callback(<span class="number">123</span>);</span><br><span class="line">&#125;</span><br><span class="line">stringify123();</span><br><span class="line"><span class="comment">// Expected 1 arguments, but got 0.</span></span><br><span class="line">stringify123(<span class="number">123</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;number&#x27; is not assignable to parameter of type &#x27;(num: number) =&gt; string&#x27;.</span></span><br><span class="line">stringify123(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;number&#x27; is not assignable to parameter of type &#x27;(num: number) =&gt; string&#x27;.</span></span><br><span class="line">stringify123(<span class="built_in">Number</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;NumberConstructor&#x27; is not assignable to parameter of type &#x27;(num: number) =&gt; string&#x27;.</span></span><br><span class="line"><span class="comment">// Type &#x27;number&#x27; is not assignable to type &#x27;string&#x27;.</span></span><br><span class="line">stringify123(<span class="built_in">String</span>);</span><br><span class="line">stringify123(<span class="function">() =&gt;</span> <span class="string">&#x27;123&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li>ä¸Šè¿° <code>stringify123</code> å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ <code>string</code> ç±»å‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ˜¾ç¤ºåœ°æŒ‡å®šå‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¨èå¯¹æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¾ç¤ºåœ°æ³¨æ˜æ•°æ®ç±»å‹<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringify123</span>(<span class="params">callback: (num: <span class="built_in">number</span>) =&gt; <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> callback(<span class="number">123</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ç‰¹æ®Šçš„ç±»å‹æ³¨è§£ï¼š<code>void</code><blockquote><p>&ensp;&ensp;<code>void</code> æ˜¯å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šç»“æœç±»å‹ï¼šå®ƒå‘Šè¯‰ <code>TypeScript</code> å‡½æ•°æ€»æ˜¯è¿”å› <code>undefined</code>ï¼ˆæ˜¾å¼æˆ–éšå¼ï¼‰</p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123; <span class="keyword">return</span> <span class="literal">undefined</span> &#125; <span class="comment">// æ˜¾ç¤º</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123; &#125; <span class="comment">// éšå¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123; <span class="keyword">return</span> <span class="string">&#x27;abc&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// Type &#x27;string&#x27; is not assignable to type &#x27;void&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>å¯é€‰çš„å‚æ•°ï¼šæ ‡è¯†ç¬¦ <code>?</code>åé¢çš„å‚æ•°è¡¨ç¤ºæ˜¯å¯é€‰å‚æ•°<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringify123</span>(<span class="params">callback?: (num: <span class="built_in">number</span>) =&gt; <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (callback === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    callback = <span class="built_in">String</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> callback(<span class="number">123</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stringify123();</span><br><span class="line">stringify123(<span class="string">&#x27;234&#x27;</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;&quot;234&quot;&#x27; is not assignable to parameter of type &#x27;((num: number) =&gt; string) | undefined&#x27;.</span></span><br><span class="line">stringify123(<span class="built_in">String</span>);</span><br></pre></td></tr></table></figure></li><li>å‚æ•°é»˜è®¤å€¼ï¼šé…ç½®äº†å‚æ•°é»˜è®¤å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå‚æ•°çš„ç±»å‹æ³¨è§£æ˜¯å¯é€‰çš„ï¼Œå› ä¸º <code>TypeScript</code> ä¼šæ ¹æ®å‚æ•°é»˜è®¤å€¼æ¨æ–­å‡ºå‚æ•°çš„ç±»å‹<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPoint</span>(<span class="params">x=<span class="number">0</span>, y=<span class="number">0</span></span>): [<span class="title">number</span>, <span class="title">number</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line">createPoint();</span><br><span class="line">createPoint(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">createPoint(<span class="string">&#x27;1&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;&quot;&quot;&#x27; is not assignable to parameter of type &#x27;number | undefined&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>å‰©ä½™å‚æ•°ï¼šå‰©ä½™å‚æ•°å¿…é¡»æ˜¯æ•°ç»„ç±»å‹<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">joinNumbers</span>(<span class="params">a: <span class="built_in">string</span>, ...nums: <span class="built_in">number</span>[]</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> nums.join(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">joinNumbers(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;number&#x27; is not assignable to parameter of type &#x27;string&#x27;.</span></span><br><span class="line">joinNumbers(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;string&#x27; is not assignable to parameter of type &#x27;number&#x27;.</span></span><br><span class="line">joinNumbers(<span class="string">&#x27;1&#x27;</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><span id='union-type'>è”åˆç±»å‹</span><ul><li>åœ¨ <code>JavaScript</code> ä¸­ï¼Œå˜é‡çš„ç±»å‹æ˜¯åŠ¨æ€çš„ï¼Œä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼Œåœ¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å¤„äºä¸åŒçš„ç±»å‹ï¼Œä¸ºäº†æè¿°è¿™äº›å˜é‡ï¼Œåœ¨ <code>TypeScript</code> ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è”åˆç±»å‹ï¼Œè”åˆç±»å‹ä½¿ç”¨ <code>|</code> åˆ†å‰²<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getScore</span>(<span class="params">numberOrString: <span class="built_in">number</span>|<span class="built_in">string</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> numberOrString === <span class="string">&#x27;string&#x27;</span></span><br><span class="line">    &amp;&amp; <span class="regexp">/^\*&#123;1,5&#125;$/</span>.test(numberOrString)) &#123;</span><br><span class="line">      <span class="keyword">return</span> numberOrString.length;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> numberOrString === <span class="string">&#x27;number&#x27;</span></span><br><span class="line">    &amp;&amp; numberOrString &gt;= <span class="number">1</span> &amp;&amp; numberOrString &lt;= <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> numberOrString</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Illegal value: &#x27;</span> + <span class="built_in">JSON</span>.stringify(numberOrString));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">getScore(<span class="number">1</span>);</span><br><span class="line">getScore(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">getScore(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;boolean&#x27; is not assignable to parameter of type &#x27;string | number&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤éæ˜¾ç¤ºåœ°æŒ‡å®šï¼Œå¦åˆ™è”åˆç±»å‹æ˜¯ä¸åŒ…æ‹¬ <code>undefined</code> å’Œ <code>null</code> çš„ã€‚<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getScore(<span class="literal">undefined</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;undefined&#x27; is not assignable to parameter of type &#x27;string | number&#x27;.</span></span><br><span class="line">getScore(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;null&#x27; is not assignable to parameter of type &#x27;string | number&#x27;.</span></span><br></pre></td></tr></table></figure></li></ul></li><li>æ¯”è¾ƒï¼šå¯é€‰ã€é»˜è®¤å€¼ã€è”åˆç±»å‹ï¼š<code>undefined | null</code><ul><li>å¦‚æœå‚æ•°æ˜¯å¯é€‰çš„ï¼Œé‚£å‚æ•°å¯ä»¥è¢«çœç•¥ï¼Œçœç•¥æ—¶å€¼é»˜è®¤ä¸º <code>undefined</code>ï¼Œä¸çœç•¥ï¼Œåªèƒ½ä¼ ç»™å®šç±»å‹çš„å€¼<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x?: <span class="built_in">number</span></span>) </span>&#123; <span class="built_in">console</span>.log(x) &#125;;</span><br><span class="line">f1(); <span class="comment">// undefined</span></span><br><span class="line">f1(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">f1(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;&quot;a&quot;&#x27; is not assignable to parameter of type &#x27;number | undefined&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>å¦‚æœå‚æ•°æ˜¯æœ‰é»˜è®¤å€¼çš„ï¼Œå‚æ•°çš„å€¼ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œçœç•¥æ—¶ï¼Œå‚æ•°çš„å€¼ä¸ºç»™å®šçš„é»˜è®¤å€¼ã€‚ä¸çœç•¥æ—¶ï¼Œé™¤äº†ä¼ ç»™å®šç±»å‹çš„å€¼å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸º <code>undefined</code><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x = <span class="number">1</span></span>) </span>&#123; <span class="built_in">console</span>.log(x) &#125;;</span><br><span class="line">f1(); <span class="comment">// 1</span></span><br><span class="line">f1(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">f1(<span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br><span class="line">f1(<span class="literal">null</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;null&#x27; is not assignable to parameter of type &#x27;number | undefined&#x27;.</span></span><br><span class="line">f1(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="comment">// Argument of type &#x27;&quot;a&quot;&#x27; is not assignable to parameter of type &#x27;number | undefined&#x27;.</span></span><br></pre></td></tr></table></figure></li><li>å¦‚æœæ˜¯è”åˆç±»å‹ï¼š<code>undefined | null</code>ï¼Œé‚£å‚æ•°æ˜¯ä¸èƒ½çœç•¥çš„<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">x: <span class="built_in">number</span> | <span class="literal">undefined</span></span>) </span>&#123; <span class="built_in">console</span>.log(x) &#125;;</span><br><span class="line">f1();</span><br><span class="line"><span class="comment">// Expected 1 arguments, but got 0.</span></span><br><span class="line">f1(<span class="number">1</span>);</span><br><span class="line">f1(<span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li>å¯¹è±¡ç±»å‹</li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ä»€ä¹ˆæ˜¯-TypeScript&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-TypeScript&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ TypeScript&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ &lt;code&gt;TypeScript&lt;/code&gt;&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;TypeScript&lt;/code&gt; æ˜¯ &lt;code&gt;JavaScript&lt;/code&gt; çš„ä¸€ä¸ªè¶…é›†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="TypeScript" scheme="https://hushaoyu.github.io/blog/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://hushaoyu.github.io/blog/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>ThreeJS - çŸ¥è¯†ä½“ç³»</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/24/ThreeJS-%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/24/ThreeJS-%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/</id>
    <published>2022-01-24T08:25:59.000Z</published>
    <updated>2022-01-24T08:51:26.252Z</updated>
    
    <content type="html"><![CDATA[<h4 id="åŸºäºç‰©ç†çš„æ¸²æŸ“"><a href="#åŸºäºç‰©ç†çš„æ¸²æŸ“" class="headerlink" title="åŸºäºç‰©ç†çš„æ¸²æŸ“"></a>åŸºäºç‰©ç†çš„æ¸²æŸ“</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;åŸºäºç‰©ç†çš„æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#åŸºäºç‰©ç†çš„æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;åŸºäºç‰©ç†çš„æ¸²æŸ“&quot;&gt;&lt;/a&gt;åŸºäºç‰©ç†çš„æ¸²æŸ“&lt;/h4&gt;</summary>
      
    
    
    
    <category term="ThreeJs" scheme="https://hushaoyu.github.io/blog/categories/ThreeJs/"/>
    
    
    <category term="ThreeJs" scheme="https://hushaoyu.github.io/blog/tags/ThreeJs/"/>
    
  </entry>
  
  <entry>
    <title>Hexo - æŒç»­æ”¹è¿›</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/24/Hexo-%E6%8C%81%E7%BB%AD%E6%94%B9%E8%BF%9B/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/24/Hexo-%E6%8C%81%E7%BB%AD%E6%94%B9%E8%BF%9B/</id>
    <published>2022-01-24T08:04:40.000Z</published>
    <updated>2022-01-26T09:17:19.745Z</updated>
    
    <content type="html"><![CDATA[<h4 id="è¡¨æ ¼æ ·å¼æ”¹è¿›"><a href="#è¡¨æ ¼æ ·å¼æ”¹è¿›" class="headerlink" title="è¡¨æ ¼æ ·å¼æ”¹è¿›"></a>è¡¨æ ¼æ ·å¼æ”¹è¿›</h4><ul><li>åœ¨ <code>themes/next/source/css</code> ç›®å½•ä¸‹æ–°å»ºç›®å½• <code>_custom</code>ï¼Œå¹¶æ–°å»ºè¡¨æ ¼æ ·å¼æ–‡ä»¶ <code>table.css</code>ï¼Œæ ·å¼å†…å®¹å¦‚ä¸‹ï¼š</li></ul><details><summary>CSS</summary><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*è¡¨æ ¼å®½åº¦*/</span></span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">65em</span>; <span class="comment">/*è¡¨æ ¼æœ€å¤§å®½åº¦ï¼Œé¿å…è¡¨æ ¼è¿‡å®½*/</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dedede</span>; <span class="comment">/*è¡¨æ ¼å¤–è¾¹æ¡†è®¾ç½®*/</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">15px</span> auto; <span class="comment">/*å¤–è¾¹è·*/</span></span><br><span class="line">  <span class="attribute">border-collapse</span>: collapse; <span class="comment">/*ä½¿ç”¨å•ä¸€çº¿æ¡çš„è¾¹æ¡†*/</span></span><br><span class="line">  <span class="attribute">empty-cells</span>: show; <span class="comment">/*å•å…ƒæ ¼æ— å†…å®¹ä¾æ—§ç»˜åˆ¶è¾¹æ¡†*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">th</span>,<span class="selector-tag">table</span> <span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">35px</span>; <span class="comment">/*ç»Ÿä¸€æ¯ä¸€è¡Œçš„é»˜è®¤é«˜åº¦*/</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dedede</span>; <span class="comment">/*å†…éƒ¨è¾¹æ¡†æ ·å¼*/</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>; <span class="comment">/*å†…è¾¹è·*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold; <span class="comment">/*åŠ ç²—*/</span></span><br><span class="line">  <span class="attribute">text-align</span>: center <span class="meta">!important</span>; <span class="comment">/*å†…å®¹å±…ä¸­ï¼ŒåŠ ä¸Š !important é¿å…è¢« Markdown æ ·å¼è¦†ç›–*/</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">158</span>,<span class="number">188</span>,<span class="number">226</span>,<span class="number">0.2</span>); <span class="comment">/*èƒŒæ™¯è‰²*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap; <span class="comment">/*è¡¨å¤´å†…å®¹å¼ºåˆ¶åœ¨ä¸€è¡Œæ˜¾ç¤º*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">td</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="comment">/*é¦–åˆ—ä¸æ¢è¡Œ*/</span></span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tbody</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>n) &#123;</span><br><span class="line">  <span class="comment">/*éš”è¡Œå˜è‰²*/</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">102</span>, <span class="number">128</span>, <span class="number">153</span>, <span class="number">0.05</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">245</span>, <span class="number">166</span>, <span class="number">5</span>, <span class="number">0.77</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><ul><li>åœ¨ <code>themes/next/source/css/main.styl</code> æ–‡ä»¶çš„æœ€åº•éƒ¨ï¼Œå¼•å…¥è¡¨æ ¼æ ·å¼æ–‡ä»¶<blockquote><p>æ³¨æ„ï¼šå¼•ç”¨çš„æ–‡ä»¶è·¯å¾„ä¸ºç›¸å¯¹è¯¥ <code>main.styl</code> çš„è·¯å¾„</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;_custom/table.css&quot;</span>;</span><br></pre></td></tr></table></figure></li><li>æ ·å¼æ›´æ”¹å‰åå¯¹æ¯”<ul><li>æ›´æ”¹å‰<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo%20-%20%E6%8C%81%E7%BB%AD%E6%94%B9%E8%BF%9B/table_css_unchange.png" alt="é¢„è§ˆ"></li><li>æ›´æ”¹å<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo%20-%20%E6%8C%81%E7%BB%AD%E6%94%B9%E8%BF%9B/table_css_changed.png" alt="é¢„è§ˆ"></li></ul></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;è¡¨æ ¼æ ·å¼æ”¹è¿›&quot;&gt;&lt;a href=&quot;#è¡¨æ ¼æ ·å¼æ”¹è¿›&quot; class=&quot;headerlink&quot; title=&quot;è¡¨æ ¼æ ·å¼æ”¹è¿›&quot;&gt;&lt;/a&gt;è¡¨æ ¼æ ·å¼æ”¹è¿›&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;themes/next/source/css&lt;/code&gt; ç›®å½•ä¸‹æ–°å»ºç›®å½• &lt;code&gt;_custom&lt;/code&gt;ï¼Œå¹¶æ–°å»ºè¡¨æ ¼æ ·å¼æ–‡ä»¶ &lt;code&gt;table.css&lt;/code&gt;ï¼Œæ ·å¼å†…å®¹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Reactæ’ä»¶ - react-codemirror2</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/23/React%E6%8F%92%E4%BB%B6-react-codemirror2/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/23/React%E6%8F%92%E4%BB%B6-react-codemirror2/</id>
    <published>2022-01-23T01:42:36.000Z</published>
    <updated>2022-01-23T08:21:20.262Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><ul><li><code>react-codemirror2</code> æ˜¯åŸºäº <code>CodeMirror</code> å·¥ä½œåŸç†ï¼Œå¯ä»¥åœ¨Reactç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨çš„ä¸€ä¸ªä»£ç ç¼–è¾‘å™¨ã€‚<blockquote><p>&ensp;&ensp; <a href="https://codemirror.net/">CodeMirror</a> æ˜¯ä¸€ä¸ªç”¨ <code>JavaScript</code> ä¸ºæµè§ˆå™¨å®ç°çš„é€šç”¨æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒä¸“é—¨ç”¨äºç¼–è¾‘ä»£ç ï¼Œå¹¶å¸¦æœ‰å¤šç§è¯­è¨€æ¨¡å¼å’Œæ’ä»¶ï¼Œå¯å®ç°æ›´é«˜çº§çš„ç¼–è¾‘åŠŸèƒ½ã€‚</p></blockquote></li></ul><h4 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h4><ul><li>å®‰è£…<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install react-codemirror2 codemirror --save</span><br></pre></td></tr></table></figure></li><li>ç»„ä»¶ï¼š<code>UnControlled</code> å’Œ <code>Controlled</code><ul><li><code>react-codemirror2</code> æœ‰ä¸¤ç§ç»„ä»¶ï¼Œä¸€ç§æ˜¯ç”± <code>codemirror</code> æœ¬èº«å†…éƒ¨çš„å·¥ä½œåŸç†æä¾›åŠŸèƒ½æ”¯æŒï¼Œéå—æ§çš„ç»„ä»¶ <code>UnControlled</code>ï¼›ä¸€ç§æ˜¯é€šè¿‡ <code>React</code> çš„çŠ¶æ€ <code>State</code> æ¥è¿›è¡Œæ•°æ®æ§åˆ¶çš„å—æ§ç»„ä»¶ <code>Controlled</code>ã€‚</li></ul></li><li>æ–‡ä»¶è¯´æ˜</li></ul><p><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/plugins-files-desc.png" alt="æ–‡ä»¶ç›®å½•"></p><table><thead><tr><th>ç›®å½•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>addon</td><td>å¯é€‰çš„æ‰©å±•åŠŸèƒ½é…ä»¶</td></tr><tr><td>mode</td><td>ç¼–è¾‘å™¨å½“å‰æ”¯æŒçš„è¯­è¨€ç±»å‹</td></tr><tr><td>src</td><td></td></tr><tr><td>theme</td><td>ç¼–è¾‘å™¨çš„æ ·å¼ä¸»é¢˜</td></tr></tbody></table><ul><li>ç‰¹æ€§<ul><li>æ”¯æŒè¶…è¿‡ <a href="https://codemirror.net/mode/index.html">100ç§</a> å¼€ç®±å³ç”¨çš„è¯­è¨€</li><li>å¼ºå¤§çš„ã€<a href="#%E9%A1%B5%E5%86%85%E8%B7%B3%E8%BD%AC">å¯ç»„åˆ</a> çš„è¯­è¨€æ¨¡å¼ç³»ç»Ÿ</li><li><a href="https://codemirror.net/doc/manual.html#addon_show-hint">ä»£ç æç¤ºï¼Œè‡ªåŠ¨å®Œæˆ</a> æç¤ºåŠŸèƒ½</li><li><a href="https://codemirror.net/doc/manual.html#addon_foldcode">ä»£ç æŠ˜å </a></li><li>å¯é…ç½®çš„ <a href="https://codemirror.net/doc/manual.html#option_extraKeys">å¿«æ·é”®ç»‘å®š</a></li><li>å¯é…ç½®çš„ï¼ŒåŸºäº <a href="https://codemirror.net/demo/vim.html">Vim</a> ã€<a href="https://codemirror.net/demo/emacs.html">Emacs</a> ã€<a href="https://codemirror.net/demo/sublime.html">Sublime Text</a> çš„é”®æ˜ å°„ç»‘å®š</li><li><a href="https://codemirror.net/doc/manual.html#addon_search">æŸ¥æ‰¾å’Œæ›¿æ¢</a> æ“ä½œç•Œé¢</li><li><a href="https://codemirror.net/doc/manual.html#addon_matchbrackets">æ‹¬å·</a> å’Œ <a href="https://codemirror.net/doc/manual.html#addon_matchtags">æ ‡ç­¾</a> åŒ¹é…</li><li>æ”¯æŒ <a href="https://codemirror.net/demo/buffers.html">æ‹†åˆ†è§†å›¾</a></li><li>é›†æˆ <a href="https://codemirror.net/doc/manual.html#addon_lint">lint</a> è¿›è¡Œè¯­æ³•æ£€æµ‹</li><li>å¯é…ç½®çš„ <a href="https://codemirror.net/demo/variableheight.html">å­—ä½“å¤§å°å’Œæ ·å¼</a></li><li>å¤§é‡çš„å¯é…ç½® <a href="https://codemirror.net/demo/theme.html">ä¸»é¢˜</a></li><li>èƒ½å¤Ÿè°ƒæ•´å¤§å°ä»¥ <a href="https://codemirror.net/demo/resize.html">è‡ªé€‚åº”å†…å®¹</a></li><li><a href="https://codemirror.net/doc/manual.html#mark_replacedWith">å†…è”</a> å’Œ <a href="https://codemirror.net/doc/manual.html#mark_replacedWith">å—çº§</a> çš„å°éƒ¨ä»¶</li><li>æ–‡æœ¬æ ‡è®°ï¼š<a href="https://codemirror.net/doc/manual.html#mark_replacedWith">å—æ§æ ·å¼</a> ã€<a href="https://codemirror.net/doc/manual.html#markText">åªè¯»</a> ã€<a href="https://codemirror.net/doc/manual.html#markText">åŸå­</a></li><li><a href="https://codemirror.net/demo/bidi.html">åŒå‘æ–‡æœ¬æ”¯æŒ</a> ï¼š<code>LRT</code>ã€<code>RTL</code></li><li><a href="#search-func">æœç´¢</a></li></ul></li></ul><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul><li>æ–‡ä»¶å¼•å…¥<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;Controlled <span class="keyword">as</span> CodeMirror&#125; <span class="keyword">from</span> <span class="string">&#x27;react-codemirror2&#x27;</span>; <span class="comment">// å—æ§ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/lib/codemirror.css&#x27;</span>; <span class="comment">// ç¼–è¾‘å™¨ä¸»ä½“æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/theme/material-darker.css&#x27;</span>; <span class="comment">// ç¼–è¾‘å™¨ä½¿ç”¨ material-darker ä¸»é¢˜</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/mode/properties/properties.js&#x27;</span>; <span class="comment">// ç¼–è¾‘å™¨ä»£ç è¯­è¨€æ”¯æŒï¼šproperties é…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></li><li>ç»„ä»¶é…ç½®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">state = &#123;</span><br><span class="line">    <span class="attr">value</span>: _.get(<span class="built_in">this</span>.props, <span class="string">&#x27;initialValue&#x27;</span>, <span class="literal">undefined</span>),</span><br><span class="line">&#125;</span><br><span class="line">editorChange = <span class="function">(<span class="params">editor, data, value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å—æ§ç»„ä»¶è®¾ç½®ç¼–è¾‘å™¨å†…å®¹</span></span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        value</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;CodeMirror</span><br><span class="line">    value=&#123;<span class="built_in">this</span>.state.value&#125;</span><br><span class="line">    options=&#123;&#123;</span><br><span class="line">        <span class="attr">width</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">mode</span>: <span class="string">&#x27;properties&#x27;</span>, <span class="comment">// ç¼–è¾‘å™¨è¯­è¨€ï¼Œéœ€å¼•å…¥è¯­è¨€jsæ–‡ä»¶</span></span><br><span class="line">        <span class="attr">theme</span>: <span class="string">&#x27;material-darker&#x27;</span>, <span class="comment">// ä¸»é¢˜é…ç½®ï¼Œéœ€è¦å¼•å…¥ä¸»é¢˜æ ·å¼æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">lineNumbers</span>: <span class="literal">true</span>,        <span class="comment">// æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">    onBeforeChange=&#123;<span class="built_in">this</span>.editorChange&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/editor-demo.png" alt="é¢„è§ˆ"></li></ul><h4 id="å¯ç»„åˆçš„è¯­è¨€æ¨¡å¼"><a href="#å¯ç»„åˆçš„è¯­è¨€æ¨¡å¼" class="headerlink" title="å¯ç»„åˆçš„è¯­è¨€æ¨¡å¼"></a>å¯ç»„åˆçš„è¯­è¨€æ¨¡å¼</h4><ul><li>ç¼–è¾‘å™¨å¯é…ç½®æ˜¾ç¤ºå¤šç§è¯­è¨€ï¼Œå¦‚å¸¸è§çš„ <code>html</code> æ–‡ä»¶ï¼Œå°±åŒ…å«ä¸‰ç§è¯­è¨€ï¼š <code>html</code>ã€<code>JavaScript</code>ã€<code>css</code>ã€‚å®˜æ–¹è¯­è¨€æ¨¡å¼ä¸­ï¼Œ<code>html</code> æ–‡ä»¶æœ‰ä¸€ä¸ªå†…ç½®çš„é›†æˆè¯­è¨€æ¨¡å¼é…ç½®å€¼ï¼š <code>htmlmixed</code><blockquote><p><code>html</code> è¯­è¨€æ˜¯åŸºäº <code>xml</code> è¯­è¨€æ¥è§£æçš„ï¼Œå› æ­¤å¦‚æœéœ€è¦å•ç‹¬é…ç½® <code>html</code> è¯­è¨€æ”¯æŒï¼Œéœ€è¦å¼•å…¥çš„æ˜¯ <code>xml</code> è¯­è¨€é…ç½® <code>js</code> æ–‡ä»¶</p></blockquote><ul><li>å¼•å…¥è¯­è¨€æ¨¡å¼æ–‡ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/mode/htmlmixed/htmlmixed.js&#x27;</span>; <span class="comment">// å¼•å…¥è¯­è¨€æ¨¡å¼jsæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></li><li>ä¿®æ”¹é…ç½®ä¸­çš„ <code>mode</code> å±æ€§<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">options=&#123;&#123;</span></span><br><span class="line">  <span class="attr">width:</span> <span class="number">300</span><span class="string">,</span></span><br><span class="line">  <span class="attr">mode:</span> <span class="string">&#x27;htmlmixed&#x27;</span><span class="string">,</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">&#x27;material-darker&#x27;</span><span class="string">,</span></span><br><span class="line">  <span class="attr">lineNumbers:</span> <span class="literal">true</span><span class="string">,</span>              <span class="string">//</span> <span class="string">æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line"><span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure></li><li>é¢„è§ˆ<ul><li>ä¿®æ”¹å‰<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/htmlmixed-none.png" alt="é¢„è§ˆ"></li><li>ä¿®æ”¹å<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/htmlmixed-able.png" alt="é¢„è§ˆ"></li></ul></li></ul></li></ul><h4 id="ä»£ç æç¤ºï¼Œè‡ªåŠ¨å®Œæˆ"><a href="#ä»£ç æç¤ºï¼Œè‡ªåŠ¨å®Œæˆ" class="headerlink" title="ä»£ç æç¤ºï¼Œè‡ªåŠ¨å®Œæˆ"></a>ä»£ç æç¤ºï¼Œè‡ªåŠ¨å®Œæˆ</h4><ul><li>ç›®å‰æ’ä»¶æ”¯æŒçš„ä»£ç æç¤ºæœ‰ <code>html</code>ã€<code>JavaScript</code>ã€<code>css</code>ã€<code>xml</code>ã€<code>sql</code>ï¼Œä»¥åŠ <code>anyword</code>ï¼Œ<code>anyword</code> æŒ‡åœ¨å½“å‰æ–‡æœ¬è¾“å…¥å…‰æ ‡é™„è¿‘æŸ¥æ‰¾ç›¸åº”çš„è¯è¯­è¿›è¡Œè‡ªåŠ¨æç¤ºã€‚</li><li>ä»¥ <code>sql</code> ä¸ºä¾‹ï¼Œå¼•å…¥ç›¸åº”çš„ <code>css</code> æ ·å¼ åŠ <code>js</code> è„šæœ¬<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/hint/show-hint.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/mode/sql/sql.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/hint/show-hint.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/hint/sql-hint.js&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><code>option</code> æ·»åŠ  <code>hintOptions</code> é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">options=&#123;&#123;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">300</span><span class="string">,</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">&#x27;sql&#x27;</span><span class="string">,</span></span><br><span class="line">    <span class="attr">theme:</span> <span class="string">&#x27;material-darker&#x27;</span><span class="string">,</span></span><br><span class="line">    <span class="attr">hintOptions:</span> &#123;</span><br><span class="line">        <span class="attr">completeSingle:</span> <span class="literal">false</span></span><br><span class="line">    &#125;<span class="string">,</span></span><br><span class="line">    <span class="attr">lineNumbers:</span> <span class="literal">true</span><span class="string">,</span>              <span class="string">//</span> <span class="string">æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">    <span class="attr">styleActiveLine:</span> <span class="literal">true</span><span class="string">,</span>          <span class="string">//</span> <span class="string">é€‰ä¸­è¡Œé«˜äº®</span></span><br><span class="line"><span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>onBeforeChange</code> æ–¹æ³•å†…è°ƒç”¨ <code>.showHint()</code> æ–¹æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">editorChange = <span class="function">(<span class="params">editor, data, value</span>) =&gt;</span> &#123;</span><br><span class="line">    editor.showHint();</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        value</span><br><span class="line">    &#125;);</span><br><span class="line">    _.isFunction(<span class="built_in">this</span>.props.editorChange) &amp;&amp; <span class="built_in">this</span>.props.editorChange(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/hint-sql.gif" alt="é¢„è§ˆ"></li></ul><h4 id="ä»£ç æŠ˜å "><a href="#ä»£ç æŠ˜å " class="headerlink" title="ä»£ç æŠ˜å "></a>ä»£ç æŠ˜å </h4><ul><li>å¼•å…¥æ ·å¼åŠè„šæœ¬æ–‡ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ˜å </span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/fold/foldgutter.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/fold/foldcode&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/fold/foldgutter&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/fold/brace-fold&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/fold/comment-fold&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><code>option</code> æ·»åŠ é…ç½®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foldGutter: <span class="literal">true</span>, <span class="comment">// æ”¯æŒæŠ˜å </span></span><br><span class="line"><span class="attr">lineWrapping</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">gutters</span>: [<span class="string">&#x27;CodeMirror-linenumbers&#x27;</span>, <span class="string">&#x27;CodeMirror-foldgutter&#x27;</span>, <span class="string">&#x27;CodeMirror-lint-markers&#x27;</span>],</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/code-fold.gif" alt="é¢„è§ˆ"></li></ul><h4 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a><span id='search-func'>æœç´¢</span></h4><ul><li>å¼•å…¥æ ·å¼åŠè„šæœ¬æ–‡ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœç´¢</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/scroll/annotatescrollbar.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/search/matchesonscrollbar.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/search/match-highlighter.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/search/jump-to-line.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/dialog/dialog.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/dialog/dialog.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/search/searchcursor.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/search/search.js&#x27;</span></span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨å¿«æ·é”® <code>ctrl + F</code> æŸ¥æ‰¾<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/search.gif" alt="é¢„è§ˆ"></li><li>æ”¯æŒçš„å¿«æ·é”®</li></ul><table><thead><tr><th>å¿«æ·é”®</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>ctrl + F</code></td><td>æŸ¥æ‰¾</td></tr><tr><td><code>ctrl + G</code></td><td>æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</td></tr><tr><td><code>shift + ctrl + F</code></td><td>æŸ¥æ‰¾ä¸Šä¸€ä¸ª</td></tr><tr><td><code>shift + ctrl + F</code></td><td>æ›¿æ¢</td></tr><tr><td><code>shift + ctrl + R</code></td><td>æ›¿æ¢å…¨éƒ¨</td></tr></tbody></table><ul><li>ä½¿ç”¨å›¾å½¢äº¤äº’æ‰§è¡ŒæŸ¥æ‰¾æ›¿æ¢ä½¿ç”¨å¿«æ·é”®<blockquote><p>&ensp;&ensp;å¯¹äºä¸ä¹ æƒ¯ä½¿ç”¨å¿«æ·é”®æ–¹å¼çš„ç”¨æˆ·ï¼Œå¯ä»¥æä¾› <code>UI</code> æ§ä»¶ï¼Œæ¥å”¤èµ·æŸ¥æ‰¾å¯¹è¯æ¡†</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">editor = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">mounted = <span class="function"><span class="params">editor</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.editor = editor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">find = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.editor &amp;&amp; <span class="built_in">this</span>.editor.execCommand(<span class="string">&#x27;find&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;Row&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Col</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.find&#125;</span>&gt;</span>æŸ¥æ‰¾<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">Col</span>&gt;</span></span></span><br><span class="line">&lt;/Row&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">CodeMirror</span> <span class="attr">editorDidMount</span>=<span class="string">&#123;this.mounted&#125;</span> <span class="attr">value</span>=<span class="string">&#123;this.state.value&#125;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/search-ui.gif" alt="é¢„è§ˆ"></li><li>å…¶ä»–ç›¸å…³æŒ‡ä»¤ç”¨æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">findNext = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.editor &amp;&amp; <span class="built_in">this</span>.editor.execCommand(<span class="string">&#x27;findNext&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">findPrev = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.editor &amp;&amp; <span class="built_in">this</span>.editor.execCommand(<span class="string">&#x27;findPrev&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">replace = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.editor &amp;&amp; <span class="built_in">this</span>.editor.execCommand(<span class="string">&#x27;replace&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">replaceAll = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.editor &amp;&amp; <span class="built_in">this</span>.editor.execCommand(<span class="string">&#x27;replaceAll&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><a href="https://codemirror.net/doc/manual.html#commands">æ‰€æœ‰å¯ç”¨çš„æŒ‡ä»¤</a></li></ul><h4 id="è¯­æ³•æ ¡éªŒ"><a href="#è¯­æ³•æ ¡éªŒ" class="headerlink" title="è¯­æ³•æ ¡éªŒ"></a>è¯­æ³•æ ¡éªŒ</h4><ul><li>æ’ä»¶ç›®å‰æ”¯æŒè¯­æ³•æ ¡éªŒæœ‰ï¼š<code>javaScript</code>ã€<code>coffeeScript</code>ã€<code>css</code>ã€<code>html</code>ã€<code>xml</code>ã€<code>json</code>ï¼Œä»¥ä¸‹ä»¥ <code>JavaScript</code> ä¸ºä¾‹</li><li>å¼•å…¥æ ·å¼åŠè„šæœ¬æ–‡ä»¶<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•é”™è¯¯æç¤º</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/lint/lint.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/lint/lint.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;codemirror/addon/lint/javascript-lint.js&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><code>option</code> å†…æ·»åŠ æ–°çš„é…ç½®ï¼Œå¯ç”¨æ£€æµ‹<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lint:</span> <span class="literal">true</span><span class="string">,</span></span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨é¡¹ç›®ï¼Œå‘ç°è¯­æ³•æ£€æµ‹å¹¶æ²¡ç”Ÿæ•ˆï¼Œå¹¶ä¸”æ§åˆ¶å°æŠ¥ <code>JSHINT</code> ç›¸å…³çš„é”™è¯¯<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/javaScript-lint-unwork.png" alt="é¢„è§ˆ"></li><li>æŸ¥æ‰¾èµ„æ–™ï¼Œå‘ç°æ’ä»¶å†…çš„ <code>JavaScript</code> æ£€æµ‹ä¾èµ–ç¬¬ä¸‰æ–¹æ’ä»¶ <code>jslint</code>ï¼Œå› æ­¤éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…è¯¥æ’ä»¶ï¼Œå¹¶å…¨å±€è®¾ç½®è¯¥å˜é‡<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install jslint --save</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; JSHINT &#125; <span class="keyword">from</span> <span class="string">&quot;jshint&quot;</span>;</span><br><span class="line"><span class="built_in">window</span>.JSHINT = JSHINT;</span><br></pre></td></tr></table></figure></li><li>é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ° <code>JavaScript</code> è¯­æ³•æ£€æµ‹ç”Ÿæ•ˆäº†<br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/javascript-lint-success.gif" alt="é¢„è§ˆ"></li><li>é…åˆ <code>React</code> çš„ <code>state</code> è®¾ç½®ï¼Œåœ¨å‡ºç°è¯­æ³•é”™è¯¯æ—¶ï¼Œä¸å…è®¸æäº¤<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">state = &#123;</span><br><span class="line">  <span class="attr">value</span>: _.get(<span class="built_in">this</span>.props, <span class="string">&#x27;initialValue&#x27;</span>, <span class="literal">undefined</span>),</span><br><span class="line">  <span class="attr">validFlag</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">editorChange = <span class="function">(<span class="params">editor, data, value</span>) =&gt;</span> &#123;</span><br><span class="line">    editor.showHint();</span><br><span class="line">    <span class="comment">// è·å–æ ¡éªŒçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">const</span> validFlag = <span class="built_in">this</span>.validCheck(_.get(editor, <span class="string">&#x27;state.lint.marked&#x27;</span>, []));</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        value,</span><br><span class="line">        validFlag</span><br><span class="line">    &#125;);</span><br><span class="line">    _.isFunction(<span class="built_in">this</span>.props.editorChange) &amp;&amp; <span class="built_in">this</span>.props.editorChange(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ ¹æ®ç±»ååˆ¤æ–­æ˜¯å¦å‡ºç°é”™è¯¯è¯­æ³•</span></span><br><span class="line">validCheck = <span class="function">(<span class="params">marks</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (_.isEmpty(marks)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">const</span> errorFlag = _.isArray(marks) &amp;&amp; marks.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.className.indexOf(<span class="string">&#x27;error&#x27;</span>) &gt;= <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> errorFlag &lt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/React%E6%8F%92%E4%BB%B6%20-%20react-codemirror2/javascript-lint-state.gif" alt="é¢„è§ˆ"></li></ul><h4 id="ä»£ç åˆå¹¶"><a href="#ä»£ç åˆå¹¶" class="headerlink" title="ä»£ç åˆå¹¶"></a>ä»£ç åˆå¹¶</h4><ul><li><a href="https://github.com/scniro/react-codemirror2/issues/123">å‚è€ƒæ–‡æ¡£</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;react-codemirror2&lt;/code&gt; æ˜¯åŸºäº &lt;code&gt;CodeMirror&lt;/code&gt; å·¥ä½œåŸç†ï¼Œå¯ä»¥åœ¨Reactç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨çš„ä¸€ä¸ªä»£ç ç¼–è¾‘å™¨ã€‚&lt;blockquote&gt;
&lt;p&gt;&amp;ensp;&amp;ensp; &lt;a href=&quot;https://codemirror.net/&quot;&gt;CodeMirror&lt;/a&gt; æ˜¯ä¸€ä¸ªç”¨ &lt;code&gt;JavaScript&lt;/code&gt; ä¸ºæµè§ˆå™¨å®ç°çš„é€šç”¨æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒä¸“é—¨ç”¨äºç¼–è¾‘ä»£ç ï¼Œå¹¶å¸¦æœ‰å¤šç§è¯­è¨€æ¨¡å¼å’Œæ’ä»¶ï¼Œå¯å®ç°æ›´é«˜çº§çš„ç¼–è¾‘åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="React" scheme="https://hushaoyu.github.io/blog/categories/React/"/>
    
    <category term="æ’ä»¶" scheme="https://hushaoyu.github.io/blog/categories/React/%E6%8F%92%E4%BB%B6/"/>
    
    
    <category term="React" scheme="https://hushaoyu.github.io/blog/tags/React/"/>
    
    <category term="æ’ä»¶" scheme="https://hushaoyu.github.io/blog/tags/%E6%8F%92%E4%BB%B6/"/>
    
    <category term="react-codemirror2" scheme="https://hushaoyu.github.io/blog/tags/react-codemirror2/"/>
    
  </entry>
  
  <entry>
    <title>Echarts - å¼€å‘ç¬”è®°</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/18/Echarts-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/18/Echarts-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/</id>
    <published>2022-01-18T06:49:12.000Z</published>
    <updated>2022-01-18T09:28:09.764Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®"><a href="#æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®" class="headerlink" title="æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®"></a>æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®</h4><ul><li>åœ¨ <code>setOption</code> æ—¶æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å‚æ•° <code>true</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.chart.setOption(<span class="built_in">this</span>.option, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><ul><li><code>setOption</code> å‚æ•°è¯´æ˜è¯·å‚è€ƒ <a href="https://echarts.apache.org/zh/api.html#echartsInstance.setOption">æ–‡æ¡£</a></li></ul></li></ul><h4 id="å…¨å±æ˜¾ç¤ºå›¾è¡¨"><a href="#å…¨å±æ˜¾ç¤ºå›¾è¡¨" class="headerlink" title="å…¨å±æ˜¾ç¤ºå›¾è¡¨"></a>å…¨å±æ˜¾ç¤ºå›¾è¡¨</h4><ul><li>å…¨å±ã€é€€å‡ºå…¨å±<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fullScreen</span>(<span class="params">ele</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> element = ele || <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">if</span> (element.requestFullscreen) &#123;</span><br><span class="line">        element.requestFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.msRequestFullscreen) &#123;</span><br><span class="line">        element.msRequestFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.mozRequestFullScreen) &#123;</span><br><span class="line">        element.mozRequestFullScreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (element.webkitRequestFullscreen) &#123;</span><br><span class="line">        element.webkitRequestFullscreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€€å‡ºå…¨å±</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">exitFullscreen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.exitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.exitFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.msExitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.msExitFullscreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.mozCancelFullScreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.mozCancelFullScreen();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.webkitExitFullscreen) &#123;</span><br><span class="line">        <span class="built_in">document</span>.webkitExitFullscreen();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è§¦å‘<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">handle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.chart) &#123;</span><br><span class="line">        fullScreen(<span class="built_in">this</span>.chart._dom.parentElement);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å…¨å±çŠ¶æ€ä¸‹ï¼ŒèƒŒæ™¯è‰²è®¾ç½®<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å„ä¸ªæµè§ˆå™¨ä¸‹ å…¨å±çŠ¶æ€ä¸‹èƒŒæ™¯è‰²è®¾ç½®</span></span><br><span class="line">:<span class="selector-tag">-webkit-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: $content-bg <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line">:<span class="selector-tag">-moz-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: $content-bg <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:<span class="selector-tag">-ms-fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: $content-bg <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: $content-bg <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="æŠ˜çº¿å›¾éœ€æ±‚ï¼šåŒä¸€å¤©å†…å¯èƒ½å­˜åœ¨ä¸€æ¡ã€ä¸¤æ¡æˆ–è€…ä¸‰æ¡æ•°æ®"><a href="#æŠ˜çº¿å›¾éœ€æ±‚ï¼šåŒä¸€å¤©å†…å¯èƒ½å­˜åœ¨ä¸€æ¡ã€ä¸¤æ¡æˆ–è€…ä¸‰æ¡æ•°æ®" class="headerlink" title="æŠ˜çº¿å›¾éœ€æ±‚ï¼šåŒä¸€å¤©å†…å¯èƒ½å­˜åœ¨ä¸€æ¡ã€ä¸¤æ¡æˆ–è€…ä¸‰æ¡æ•°æ®"></a>æŠ˜çº¿å›¾éœ€æ±‚ï¼šåŒä¸€å¤©å†…å¯èƒ½å­˜åœ¨ä¸€æ¡ã€ä¸¤æ¡æˆ–è€…ä¸‰æ¡æ•°æ®</h4><ul><li>æ„é€ Xè½´æ•°æ®ã€é…ç½®axisLabelåŠaxisTickåŠformatter<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">option</span> <span class="string">=</span> &#123;</span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">xAxis:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">...</span></span><br><span class="line">            <span class="attr">axisTick:</span> &#123;</span><br><span class="line">              <span class="attr">interval:</span> <span class="string">(index</span>, <span class="string">indexName)</span> <span class="string">=&gt;</span> <span class="string">indexName.length</span> <span class="string">&lt;</span> <span class="number">11</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">axisLabel:</span> &#123;</span><br><span class="line">                <span class="attr">interval:</span> <span class="string">(index</span>, <span class="string">indexName)</span> <span class="string">=&gt;</span> <span class="string">indexName.length</span> <span class="string">&lt;</span> <span class="number">11</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">data:</span> [</span><br><span class="line">                <span class="string">&#x27;2009/6/12&#x27;</span>, <span class="string">&#x27;2009/6/12 12&#x27;</span>, <span class="string">&#x27;2009/6/12 12&#x27;</span>, </span><br><span class="line">                <span class="string">&#x27;2009/6/13&#x27;</span>, <span class="string">&#x27;2009/6/13 12&#x27;</span>, <span class="string">&#x27;2009/6/14&#x27;</span>],</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">series:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="string">...</span></span><br><span class="line">                <span class="attr">data:</span> [</span><br><span class="line">                  <span class="number">3.75</span>,<span class="number">3.75</span>,<span class="number">5.66</span>,<span class="number">6.95</span>,<span class="number">0.95</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,</span><br><span class="line">                  <span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,</span><br><span class="line">                  <span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,</span><br><span class="line">                  <span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>,<span class="number">0.94</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;<span class="string">;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="è‡ªå®šä¹‰è§¦å‘è¡Œä¸º"><a href="#è‡ªå®šä¹‰è§¦å‘è¡Œä¸º" class="headerlink" title="è‡ªå®šä¹‰è§¦å‘è¡Œä¸º"></a>è‡ªå®šä¹‰è§¦å‘è¡Œä¸º</h4><ul><li>æ‰‹åŠ¨ç¼©æ”¾ <code>dataZoom</code><ul><li>å•ä¸ªç¼©æ”¾<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">myChart.dispatchAction(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;dataZoom&#x27;</span>,</span><br><span class="line">    <span class="attr">start</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">end</span>: <span class="number">30</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>æ‰¹é‡ç¼©æ”¾<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">myChart.dispatchAction(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;dataZoom&#x27;</span>,</span><br><span class="line">    <span class="attr">batch</span>: [&#123;</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ª dataZoom ç»„ä»¶</span></span><br><span class="line">        <span class="attr">start</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">end</span>: <span class="number">30</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="comment">// ç¬¬äºŒä¸ª dataZoom ç»„ä»¶</span></span><br><span class="line">        <span class="attr">dataZoomIndex</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">start</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">end</span>: <span class="number">20</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul></li><li>è½®æ’­é«˜äº®æ˜¾ç¤º<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">getEchart = <span class="function">(<span class="params">chart</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (chart &amp;&amp; _.isFunction(chart) &amp;&amp; !<span class="built_in">this</span>.timer) &#123;</span><br><span class="line">        <span class="keyword">const</span> instance = chart();</span><br><span class="line">        <span class="comment">// è®°å½•å½“å‰è½®æ’­çš„æ•°æ®ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·é¼ æ ‡ hover æ—¶ï¼Œåœæ­¢è½®æ’­</span></span><br><span class="line">            !<span class="built_in">this</span>.state.hovered &amp;&amp; instance &amp;&amp;instance.dispatchAction(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;showTip&#x27;</span>,</span><br><span class="line">                <span class="attr">seriesIndex</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">dataIndex</span>: index</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">// ç”¨æˆ·é¼ æ ‡ hover æ—¶ï¼Œåœæ­¢è½®æ’­æ•°æ®é¡¹è®¡æ•°ï¼Œhoveräº¤äº’ç§»é™¤åï¼Œç»§ç»­å½“å‰ç´¢å¼•è¿›è¡Œè½®æ’­</span></span><br><span class="line">            !<span class="built_in">this</span>.state.hovered &amp;&amp; index++;</span><br><span class="line">            <span class="keyword">if</span> (index &gt; <span class="built_in">this</span>.state.list.length - <span class="number">1</span>) &#123;</span><br><span class="line">                index = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Echarts%20-%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/dispaction_highlight.gif" alt="é¢„è§ˆ"></li></ul><h4 id="é¥¼å›¾å†…æ ‡é¢˜æ–‡å­—è‡ªé€‚åº”æ˜¾ç¤º"><a href="#é¥¼å›¾å†…æ ‡é¢˜æ–‡å­—è‡ªé€‚åº”æ˜¾ç¤º" class="headerlink" title="é¥¼å›¾å†…æ ‡é¢˜æ–‡å­—è‡ªé€‚åº”æ˜¾ç¤º"></a>é¥¼å›¾å†…æ ‡é¢˜æ–‡å­—è‡ªé€‚åº”æ˜¾ç¤º</h4><ul><li><code>options</code> é…ç½®ï¼ŒåŠ¨æ€è®¾ç½®å­—ä½“å¤§å°<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">title: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">text</span>: _.get(<span class="built_in">this</span>.state, <span class="string">`chartData.<span class="subst">$&#123;day&#125;</span>`</span>, <span class="number">0</span>),</span><br><span class="line">        <span class="attr">top</span>: <span class="string">&#x27;32%&#x27;</span>,</span><br><span class="line">        <span class="attr">left</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">textStyle</span>: &#123;</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;#FF0014&#x27;</span>,</span><br><span class="line">            <span class="attr">fontSize</span>: <span class="built_in">this</span>.getFontSize(_.get(<span class="built_in">this</span>.state, <span class="string">`chartData.<span class="subst">$&#123;day&#125;</span>`</span>, <span class="number">0</span>)),</span><br><span class="line">            <span class="attr">fontWeight</span>: <span class="number">600</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li>è·å–è‡ªé€‚åº”åçš„å­—ä½“å¤§å°<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">getFontSize = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> screenWidth = <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line">    <span class="keyword">let</span> fontSize = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">const</span> valueLength = _.isNumber(value) &amp;&amp; value.toString().length;</span><br><span class="line">    <span class="keyword">if</span> (screenWidth &gt;= <span class="number">1900</span>) &#123;</span><br><span class="line">        fontSize = <span class="built_in">this</span>.generateSize(<span class="number">120</span>, valueLength);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (screenWidth &lt; <span class="number">1920</span> &amp;&amp; screenWidth &gt;= <span class="number">1660</span>) &#123;</span><br><span class="line">        fontSize = <span class="built_in">this</span>.generateSize(<span class="number">100</span>, valueLength);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (screenWidth &lt; <span class="number">1680</span> &amp;&amp; screenWidth &gt;= <span class="number">1400</span>) &#123;</span><br><span class="line">        fontSize = <span class="built_in">this</span>.generateSize(<span class="number">80</span>, valueLength);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fontSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>é™å®šå­—ä½“å¤§å°èŒƒå›´<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">generateSize = <span class="function">(<span class="params">size, length</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fontSize = <span class="built_in">Math</span>.ceil(size / length);</span><br><span class="line">    <span class="keyword">if</span> (fontSize &gt; <span class="number">26</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">26</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fontSize &lt; <span class="number">8</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">8</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fontSize;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Echarts%20-%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/pie_title_autoSize.png" alt="é¢„è§ˆ"></li></ul><h4 id="æ ¹æ®yè½´åˆ»åº¦æ ‡ç­¾æ–‡æœ¬åŠ¨æ€è®¾ç½®è¾¹è·"><a href="#æ ¹æ®yè½´åˆ»åº¦æ ‡ç­¾æ–‡æœ¬åŠ¨æ€è®¾ç½®è¾¹è·" class="headerlink" title="æ ¹æ®yè½´åˆ»åº¦æ ‡ç­¾æ–‡æœ¬åŠ¨æ€è®¾ç½®è¾¹è·"></a>æ ¹æ®yè½´åˆ»åº¦æ ‡ç­¾æ–‡æœ¬åŠ¨æ€è®¾ç½®è¾¹è·</h4><ul><li>è·å–Yè½´æ–‡æœ¬é•¿åº¦æœ€é•¿çš„ä¸€é¡¹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> maxLabel = _.get(yData.slice().sort(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> computedTextWidth(next) - computedTextWidth(pre)), <span class="string">&#x27;[0]&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><code>options</code> é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">grid:</span> &#123;</span><br><span class="line">    <span class="attr">borderWidth:</span> <span class="number">0</span>,</span><br><span class="line">    <span class="attr">top:</span> <span class="number">15</span>,</span><br><span class="line">    <span class="attr">bottom:</span> <span class="number">20</span>,</span><br><span class="line">    <span class="attr">right:</span> <span class="string">computedTextWidth(maxValue)</span> <span class="string">+</span> <span class="number">18</span>,</span><br><span class="line">    <span class="attr">left:</span> <span class="string">computedTextWidth(maxLabel</span>, <span class="number">12</span>, <span class="literal">true</span><span class="string">)</span> <span class="string">+</span> <span class="number">18</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è®¡ç®—æ–‡æœ¬é•¿åº¦å·¥å…·æ–¹æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>è®¡ç®—å­—ç¬¦ä¸²åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>text &#123;string|number&#125; éœ€è¦è®¡ç®—çš„æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fontSize &#123;number&#125; æ–‡æœ¬å­—ä½“å¤§å°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>overflowFlag &#123;boolean&#125; æ˜¯å¦è¶…é•¿çœç•¥æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> computedTextWidth = <span class="function">(<span class="params">text, fontSize = <span class="number">12</span>, overflowFlag</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> span = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;computedTextWidth&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!span) &#123;</span><br><span class="line">        span = <span class="built_in">document</span>.createElement(<span class="string">&#x27;span&#x27;</span>);</span><br><span class="line">        span.id = <span class="string">&#x27;computedTextWidth&#x27;</span>;</span><br><span class="line">        span.style.cssText = <span class="string">&#x27;visibility:hidden;position: absolute;left: -999em;top:-999em;&#x27;</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(span);</span><br><span class="line">    &#125;</span><br><span class="line">    span.style.fontSize = <span class="string">`<span class="subst">$&#123;fontSize&#125;</span>px`</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœè®¾ç½®è¶…é•¿çœç•¥æ˜¾ç¤ºï¼Œåˆ™è¶…å‡º8ä¸ªå­—ç¬¦ä¸²åï¼Œæ¥çœç•¥å·æ˜¾ç¤º</span></span><br><span class="line">    span.innerHTML = overflowFlag &amp;&amp; _.isString(text) &amp;&amp; text.length &gt; <span class="number">8</span> ? <span class="string">`<span class="subst">$&#123;text.slice(<span class="number">0</span>, <span class="number">8</span>)&#125;</span>...`</span> : text;</span><br><span class="line">    <span class="keyword">return</span> span.offsetWidth;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Echarts%20-%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/Y_label_overflow.png" alt="é¢„è§ˆ"></li></ul><h4 id="legend-æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º"><a href="#legend-æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º" class="headerlink" title="legend æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º"></a><code>legend</code> æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º</h4><ul><li><code>legend</code> é…ç½®é¡¹è®¾ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">legend:</span> &#123;</span><br><span class="line">          <span class="string">top:&#x27;20%&#x27;</span>,</span><br><span class="line">          <span class="string">width:222</span>,</span><br><span class="line">          <span class="string">right:30</span>,</span><br><span class="line">          <span class="attr">orient:</span> <span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">          <span class="attr">type:</span> <span class="string">&#x27;scroll&#x27;</span>,</span><br><span class="line">          <span class="attr">data:</span> <span class="string">this.props.userList</span>,</span><br><span class="line">          <span class="attr">formatter:</span> <span class="string">function</span> <span class="string">(params)</span> &#123;</span><br><span class="line">            <span class="string">return</span> <span class="string">formatterLegendText(params);</span></span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å·¥å…·æ–¹æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼åŒ–legend æ–‡æœ¬è¿‡é•¿æ¢è¡Œæ˜¾ç¤º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span>:</span></span><br><span class="line"><span class="comment"> *  params: æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> *  provideNumber: æ¯ä¸€è¡Œè¦æ˜¾ç¤ºçš„æ–‡æœ¬å­—æ•°</span></span><br><span class="line"><span class="comment"> *  rows: æŒ‡å®šæœ€å¤šæ˜¾ç¤ºå¤šå°‘è¡Œ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> formatterLegendText = <span class="function">(<span class="params">params, provideNumber = <span class="number">17</span>, rows</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//è¶…è¿‡åä¸ªå­—ç¬¦å°±æ¢è¡Œå±•ç¤º</span></span><br><span class="line">    <span class="keyword">let</span> newParamsName = <span class="string">&quot;&quot;</span>;<span class="comment">// æœ€ç»ˆæ‹¼æ¥æˆçš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">const</span> paramsNameNumber = params.length;<span class="comment">// å®é™…æ ‡ç­¾çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">// const provideNumber = 17;// æ¯è¡Œèƒ½æ˜¾ç¤ºçš„å­—çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">const</span> maxRows = <span class="built_in">Math</span>.ceil(paramsNameNumber / provideNumber);<span class="comment">// æ¢è¡Œçš„è¯ï¼Œéœ€è¦æ˜¾ç¤ºå‡ è¡Œï¼Œå‘ä¸Šå–æ•´;</span></span><br><span class="line">    <span class="keyword">let</span> rowNumber = rows || maxRows;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¡ä»¶ç­‰åŒäºrowNumber&gt;1</span></span><br><span class="line">    <span class="keyword">if</span> (paramsNameNumber &gt; provideNumber) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> p = <span class="number">0</span>; p &lt; rowNumber; p += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> tempStr = <span class="string">&quot;&quot;</span>;<span class="comment">// è¡¨ç¤ºæ¯ä¸€æ¬¡æˆªå–çš„å­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">let</span> start = p * provideNumber;<span class="comment">// å¼€å§‹æˆªå–çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">let</span> end = start + provideNumber;<span class="comment">// ç»“æŸæˆªå–çš„ä½ç½®</span></span><br><span class="line">            <span class="comment">// æ­¤å¤„ç‰¹æ®Šå¤„ç†æœ€åä¸€è¡Œçš„ç´¢å¼•å€¼</span></span><br><span class="line">            <span class="keyword">if</span> (p == rowNumber - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// æœ€åä¸€æ¬¡ä¸æ¢è¡Œ</span></span><br><span class="line">                tempStr = params.substring(start, paramsNameNumber);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ¯ä¸€æ¬¡æ‹¼æ¥å­—ç¬¦ä¸²å¹¶æ¢è¡Œ</span></span><br><span class="line">                tempStr = params.substring(start, end) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            newParamsName += tempStr;<span class="comment">// æœ€ç»ˆæ‹¼æˆçš„å­—ç¬¦ä¸²</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å°†æ—§æ ‡ç­¾çš„å€¼èµ‹ç»™æ–°æ ‡ç­¾</span></span><br><span class="line">        newParamsName = params;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (rows &amp;&amp; rows &lt; maxRows) &#123;</span><br><span class="line">        newParamsName += <span class="string">&#x27;...&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å°†æœ€ç»ˆçš„å­—ç¬¦ä¸²è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> newParamsName</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Echarts%20-%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/legend_wrap.png" alt="é¢„è§ˆ"></li></ul><h4 id="å°†æŸä¸ªçœä»½åœ°åŒºï¼Œåˆ‡å‰²æˆä¸¤éƒ¨åˆ†æ˜¾ç¤º"><a href="#å°†æŸä¸ªçœä»½åœ°åŒºï¼Œåˆ‡å‰²æˆä¸¤éƒ¨åˆ†æ˜¾ç¤º" class="headerlink" title="å°†æŸä¸ªçœä»½åœ°åŒºï¼Œåˆ‡å‰²æˆä¸¤éƒ¨åˆ†æ˜¾ç¤º"></a>å°†æŸä¸ªçœä»½åœ°åŒºï¼Œåˆ‡å‰²æˆä¸¤éƒ¨åˆ†æ˜¾ç¤º</h4><ul><li>å¼•å…¥å®Œæ•´å¤©æ´¥åœ°å›¾<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> chinaCity <span class="keyword">from</span> <span class="string">&#x27;echarts/map/json/province/tianjin.json&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>é€šè¿‡åœ°åŒºä»£ç å®šä¹‰éœ€è¦åˆ†å‰²çš„å‰¯åœ°å›¾åŒºåŸŸæ•°æ®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subMapArea = [<span class="string">&#x27;120101&#x27;</span>,<span class="string">&#x27;120102&#x27;</span>,<span class="string">&#x27;120103&#x27;</span>,<span class="string">&#x27;120104&#x27;</span>,<span class="string">&#x27;120105&#x27;</span>,<span class="string">&#x27;120106&#x27;</span>];</span><br></pre></td></tr></table></figure></li><li>é€šè¿‡åŒºåŸŸæ•°æ®ï¼Œå°†å®Œæ•´åœ°å›¾jsonæ•°æ®åˆ’åˆ†ä¸ºä¸¤ä»½åœ°å›¾æ•°æ®ï¼Œå¹¶æ³¨å†Œåœ°å›¾åç§°<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">componentWillMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> mainMap = _.cloneDeep(chinaCity);</span><br><span class="line">    <span class="keyword">const</span> subMap = _.cloneDeep(chinaCity);</span><br><span class="line">    <span class="keyword">const</span> mainFeatures = [], subFeatures = [];</span><br><span class="line">    chinaCity.features.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.subMapArea.indexOf(item.id) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            mainFeatures.push(_.cloneDeep(item));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            subFeatures.push(_.cloneDeep(item));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    mainMap.features = _.cloneDeep(mainFeatures);</span><br><span class="line">    subMap.features = _.cloneDeep(subFeatures);</span><br><span class="line">    echarts.registerMap(<span class="string">&#x27;mainMap&#x27;</span>, mainMap);</span><br><span class="line">    echarts.registerMap(<span class="string">&#x27;subMap&#x27;</span>, subMap);</span><br><span class="line">    mainMap.features.map(<span class="function">(<span class="params">&#123;properties: &#123;cp = [], name = <span class="string">&#x27;&#x27;</span>&#125;, id&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.geoCoordMap[name] = cp.slice();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    subMap.features.map(<span class="function">(<span class="params">&#123;properties: &#123;cp = [], name = <span class="string">&#x27;&#x27;</span>&#125;, id&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subGeoCoordMap[name] = cp.slice();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>åœ¨å„è‡ªçš„optionä¸­geoçš„å®šä¹‰ä¸­ï¼Œä½¿ç”¨ä¸åŒçš„åœ°å›¾åç§°æ˜¾ç¤ºåœ°å›¾è½®å»“<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">geo:</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">map:&#x27;mainMap&#x27;</span>,</span><br><span class="line">    <span class="string">...</span></span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Echarts%20-%20%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/subMap.png" alt="é¢„è§ˆ"></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®&quot;&gt;&lt;a href=&quot;#æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®&quot;&gt;&lt;/a&gt;æ›´æ–°æ¸²æŸ“ä¼šæ®‹ç•™ä¹‹å‰çš„æ•°æ®&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;setOption&lt;/code&gt; æ—¶æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å‚æ•° &lt;code&gt;true&lt;/code&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;this&lt;/span&gt;.chart.setOption(&lt;span class=&quot;built_in&quot;&gt;this&lt;/span&gt;.option, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;setOption&lt;/code&gt; å‚æ•°è¯´æ˜è¯·å‚è€ƒ &lt;a href=&quot;https://echarts.apache.org/zh/api.html#echartsInstance.setOption&quot;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="Echarts" scheme="https://hushaoyu.github.io/blog/categories/Echarts/"/>
    
    
    <category term="Echarts" scheme="https://hushaoyu.github.io/blog/tags/Echarts/"/>
    
    <category term="å¼€å‘ç¬”è®°" scheme="https://hushaoyu.github.io/blog/tags/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åº - å¼€å‘ç¬”è®°</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/17/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/17/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/</id>
    <published>2022-01-17T06:13:12.000Z</published>
    <updated>2022-01-17T08:21:58.424Z</updated>
    
    <content type="html"><![CDATA[<h4 id="data-æŒ‡ä»¤"><a href="#data-æŒ‡ä»¤" class="headerlink" title="data-* æŒ‡ä»¤"></a><code>data-*</code> æŒ‡ä»¤</h4><blockquote><p>ç”¨äºå°† <code>wxml</code> é¡µé¢çš„æ•°æ®ä¼ é€’è‡³åå° <code>js</code></p></blockquote><ul><li><code>wxml</code> ä»£ç <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;container&#x27;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;nav_left&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;navLeftItems&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;nav_left_items&#x27;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;switchItem&#x27;</span> <span class="attr">data-id</span>=<span class="string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item.categoryName&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><code>js</code> ä»£ç ï¼šé€šè¿‡ <code>event</code> å‚æ•°è·å–éœ€è¦ä¼ é€’çš„ <code>data-*</code> å‚æ•°<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">switchItem: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event.target.dataset.id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è·¯ç”±è·³è½¬æ–¹å¼åŠåŒºåˆ«"><a href="#è·¯ç”±è·³è½¬æ–¹å¼åŠåŒºåˆ«" class="headerlink" title="è·¯ç”±è·³è½¬æ–¹å¼åŠåŒºåˆ«"></a>è·¯ç”±è·³è½¬æ–¹å¼åŠåŒºåˆ«</h4><ul><li><p><code>wx.switchTab</code></p><ul><li>è·³è½¬è‡³ <code>tabBar</code> é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–é <code>tabBar</code> é¡µé¢</li><li>å‚æ•°è¯´æ˜<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…é¡»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>/</td><td>æ˜¯</td><td>éœ€è¦è·³è½¬çš„ <code>tabBar</code> é¡µé¢çš„è·¯å¾„ï¼ˆéœ€åœ¨ <code>app.json</code> çš„ <code>tabBar</code> å­—æ®µå®šä¹‰çš„é¡µé¢ï¼‰ï¼Œ<span style="color:red;">è·¯å¾„åä¸èƒ½å¸¦å‚æ•°</span>ï¼ˆä¼ å‚å¯ç”¨å…¨å±€å˜é‡ï¼‰</td></tr><tr><td><code>success</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>fail</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>complete</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></li><li>ä»£ç ç¤ºä¾‹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·³è½¬</span></span><br><span class="line">wx.switchTab(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/pages/catagory/catagory&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>wx.navigationTo</code></p><ul><li><p><span style="color:red;">ä¿ç•™å½“å‰é¡µé¢</span>ï¼Œè·³è½¬è‡³åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ä½†æ˜¯<span style="color:red;">ä¸èƒ½è·³è½¬è‡³ <code>tabBar</code> é¡µé¢ã€‚</span>è°ƒç”¨æ­¤æ–¹æ³•ï¼Œé¡µé¢ä¼šè¢«åŠ å…¥å †æ ˆï¼Œå¯ä»¥ä½¿ç”¨ <code>wx.navigateBack</code> æ‰§è¡Œè¿”å›ä¸Šä¸€é¡µæ“ä½œã€‚</p></li><li><p>å‚æ•°è¯´æ˜</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…é¡»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>/</td><td>æ˜¯</td><td>éœ€è¦è·³è½¬çš„åº”ç”¨å†…é <code>tabBar</code> çš„é¡µé¢çš„è·¯å¾„, è·¯å¾„åå¯ä»¥å¸¦å‚æ•°ã€‚å‚æ•°ä¸è·¯å¾„ä¹‹é—´ä½¿ç”¨ <code>?</code> åˆ†éš”ï¼Œå‚æ•°é”®ä¸å‚æ•°å€¼ç”¨ <code>=</code> ç›¸è¿ï¼Œä¸åŒå‚æ•°ç”¨ <code>&amp;</code> åˆ†éš”ï¼›å¦‚ <code>path?key=value&amp;key2=value2</code></td></tr><tr><td><code>events</code></td><td>object</td><td>/</td><td>å¦</td><td>é¡µé¢é—´é€šä¿¡æ¥å£ï¼Œç”¨äºç›‘å¬è¢«æ‰“å¼€é¡µé¢å‘é€åˆ°å½“å‰é¡µé¢çš„æ•°æ®ã€‚åŸºç¡€åº“ <code>2.7.3</code> å¼€å§‹æ”¯æŒ</td></tr><tr><td><code>success</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>fail</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>complete</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></li><li><p>ä»£ç ç¤ºä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·³è½¬</span></span><br><span class="line"><span class="attr">confirmSearch</span>: <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">`/pages/product_list/product_list?name=<span class="subst">$&#123;event.detail.value&#125;</span>`</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‚æ•°æ¥æ”¶</span></span><br><span class="line"><span class="attr">onLoad</span>: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> searchName = options.name || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>wx.redirectTo</code></p><ul><li><p><span style="color:red;">å…³é—­å½“å‰é¡µé¢</span>ï¼Œè·³è½¬è‡³åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ä½†æ˜¯<span style="color:red;">ä¸èƒ½è·³è½¬è‡³ <code>tabBar</code> é¡µé¢ã€‚</span>è°ƒç”¨æ­¤æ–¹æ³•ï¼Œé¡µé¢ä¸ä¼šè¢«åŠ å…¥å †æ ˆï¼Œæ— æ³•ä½¿ç”¨ <code>wx.navigateBack</code> æ‰§è¡Œè¿”å›ä¸Šä¸€é¡µæ“ä½œã€‚</p></li><li><p>å‚æ•°è¯´æ˜</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…é¡»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>/</td><td>æ˜¯</td><td>éœ€è¦è·³è½¬çš„åº”ç”¨å†…é <code>tabBar</code> çš„é¡µé¢çš„è·¯å¾„, è·¯å¾„åå¯ä»¥å¸¦å‚æ•°ã€‚å‚æ•°ä¸è·¯å¾„ä¹‹é—´ä½¿ç”¨ <code>?</code> åˆ†éš”ï¼Œå‚æ•°é”®ä¸å‚æ•°å€¼ç”¨ <code>=</code> ç›¸è¿ï¼Œä¸åŒå‚æ•°ç”¨ <code>&amp;</code> åˆ†éš”ï¼›å¦‚ <code>path?key=value&amp;key2=value2</code></td></tr><tr><td><code>success</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>fail</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>complete</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></li><li><p>ä½¿ç”¨æ–¹æ³•ä¸ <code>wx.navigateTo</code> ç±»ä¼¼</p></li></ul></li><li><p><code>wx.navigateBack</code></p><ul><li><p>å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€é¡µé¢æˆ–å¤šçº§é¡µé¢ã€‚å¯é€šè¿‡ getCurrentPages è·å–å½“å‰çš„é¡µé¢æ ˆï¼Œå†³å®šéœ€è¦è¿”å›å‡ å±‚</p></li><li><p>å‚æ•°è¯´æ˜</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…é¡»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>delta</code></td><td>number</td><td>/</td><td>æ˜¯</td><td>è¿”å›çš„é¡µé¢æ•°ï¼Œå¦‚æœ <code>delta</code> å¤§äºç°æœ‰é¡µé¢æ•°ï¼Œåˆ™è¿”å›åˆ°é¦–é¡µ</td></tr><tr><td><code>success</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>fail</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>complete</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></li><li><p>ä»£ç ç¤ºä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤å¤„æ˜¯Aé¡µé¢</span></span><br><span class="line">wx.navigateTo(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;B?id=1&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ­¤å¤„æ˜¯Bé¡µé¢</span></span><br><span class="line">wx.navigateTo(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;C?id=1&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// åœ¨Cé¡µé¢å†… navigateBackï¼Œå°†è¿”å›Aé¡µé¢</span></span><br><span class="line">wx.navigateBack(&#123;</span><br><span class="line">    <span class="attr">delta</span>: <span class="number">2</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>wx.reLaunch</code></p><ul><li><p>å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢</p></li><li><p>å‚æ•°è¯´æ˜</p><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…é¡»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>url</code></td><td>string</td><td>/</td><td>æ˜¯</td><td>éœ€è¦è·³è½¬çš„é¡µé¢çš„è·¯å¾„, è·¯å¾„åå¯ä»¥å¸¦å‚æ•°ã€‚å‚æ•°ä¸è·¯å¾„ä¹‹é—´ä½¿ç”¨ <code>?</code> åˆ†éš”ï¼Œå‚æ•°é”®ä¸å‚æ•°å€¼ç”¨ <code>=</code> ç›¸è¿ï¼Œä¸åŒå‚æ•°ç”¨ <code>&amp;</code> åˆ†éš”ï¼›å¦‚ <code>path?key=value&amp;key2=value2</code></td></tr><tr><td><code>success</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>fail</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><code>complete</code></td><td>function</td><td>/</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></li></ul></li></ul><h4 id="wxml-ä¸­ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦"><a href="#wxml-ä¸­ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="wxml ä¸­ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦"></a><code>wxml</code> ä¸­ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;activeFilterName===&#x27;sale&#x27; ? &#x27;active&#x27; : &#x27;&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;onClickFilter&#x27;</span> <span class="attr">data-name</span>=<span class="string">&#x27;sale&#x27;</span>&gt;</span>é”€é‡<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;activeFilterName===&#x27;new_product&#x27; ? &#x27;active&#x27; : &#x27;&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;onClickFilter&#x27;</span> <span class="attr">data-name</span>=<span class="string">&#x27;new_product&#x27;</span>&gt;</span>æ–°å“<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;activeFilterName===&#x27;high_praise&#x27; ? &#x27;active&#x27; : &#x27;&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;onClickFilter&#x27;</span> <span class="attr">data-name</span>=<span class="string">&#x27;high_praise&#x27;</span>&gt;</span>å¥½è¯„<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;activeFilterName===&#x27;price&#x27; ? &#x27;active&#x27; : &#x27;&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;onClickFilter&#x27;</span> <span class="attr">data-name</span>=<span class="string">&#x27;price&#x27;</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®å’Œè·å–å…¨å±€å˜é‡"><a href="#è®¾ç½®å’Œè·å–å…¨å±€å˜é‡" class="headerlink" title="è®¾ç½®å’Œè·å–å…¨å±€å˜é‡"></a>è®¾ç½®å’Œè·å–å…¨å±€å˜é‡</h4><blockquote><p><code>getApp()</code> æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œåœ¨åº”ç”¨å†…æ‰€æœ‰é¡µé¢å¯ä»¥ä½¿ç”¨ã€‚</p></blockquote><ul><li>è®¾ç½®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æˆ·è‡ªå®šä¹‰æ–¹æ³•</span></span><br><span class="line"><span class="attr">hotItemClick</span>: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    getApp().globalData.activeItemName = event.currentTarget.dataset.name;</span><br><span class="line">    getApp().globalData.activeItemIndex = event.currentTarget.dataset.index;</span><br><span class="line">    wx.switchTab(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/catagory/catagory&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è·å–<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.getCategory();</span><br><span class="line">    <span class="keyword">const</span> activeItemName = getApp().globalData.activeItemName;</span><br><span class="line">    <span class="keyword">const</span> activeItemIndex = getApp().globalData.activeItemIndex;</span><br><span class="line">    <span class="keyword">if</span> (activeItemName &amp;&amp; activeItemIndex) &#123;</span><br><span class="line">      <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">        <span class="attr">activeItem</span>: activeItemName,</span><br><span class="line">        <span class="attr">activeIndex</span>: activeItemIndex,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="é¡µé¢è®¾ç½®èƒŒæ™¯è‰²"><a href="#é¡µé¢è®¾ç½®èƒŒæ™¯è‰²" class="headerlink" title="é¡µé¢è®¾ç½®èƒŒæ™¯è‰²"></a>é¡µé¢è®¾ç½®èƒŒæ™¯è‰²</h4><ul><li><code>wxss</code> é…ç½®<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">page</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="éšè—ä¸æ˜¾ç¤ºå…ƒç´ "><a href="#éšè—ä¸æ˜¾ç¤ºå…ƒç´ " class="headerlink" title="éšè—ä¸æ˜¾ç¤ºå…ƒç´ "></a>éšè—ä¸æ˜¾ç¤ºå…ƒç´ </h4><ul><li><code>wx:if</code><ul><li><code>showClass</code> ä¸º <code>true</code> æ—¶æ˜¾ç¤ºï¼Œä¸º <code>false</code> æ—¶éšè—ã€‚<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;official_wrapper&#x27;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;showClass&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">official-account</span> <span class="attr">class</span>=<span class="string">&quot;official&quot;</span> <span class="attr">bindload</span>=<span class="string">&quot;loadOfficial&quot;</span> <span class="attr">binderror</span>=<span class="string">&quot;errorOfficial&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">official-account</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><code>hidden</code><ul><li><code>faceShow</code> ä¸º <code>true</code> æ—¶æ˜¾ç¤ºï¼Œä¸º <code>false</code> æ—¶éšè—ã€‚<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123;faceShow&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;toFace&quot;</span>&gt;</span>äººè„¸è¯†åˆ«<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li>åŒºåˆ«<ul><li><code>wx:if</code> åœ¨éšè—çš„æ—¶å€™ï¼Œå…ƒç´ ä¼šè¢«é”€æ¯ä¸æ¸²æŸ“ï¼Œè€Œ <code>hidden</code> åœ¨éšè—æ—¶ä»ç„¶æ¸²æŸ“ï¼Œåªæ˜¯ä¸å‘ˆç°ã€‚</li><li>å› æ­¤å‡ºäºå¯¹æ€§èƒ½çš„è€ƒè™‘ï¼Œå¦‚æœè¯¥å…ƒç´ éœ€è¦é¢‘ç¹çš„è¿›è¡Œæ˜¾ç¤ºéšè—æ“ä½œï¼Œåˆ™é€‰æ‹©ä½¿ç”¨ <code>hidden</code> å±æ€§è¿›è¡Œæ§åˆ¶ã€‚å¦‚æœè¯¥å…ƒç´ åªåœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è®¾ç½®å…¶æ˜¯å¦æ˜¾ç¤ºï¼Œåˆ™ä½¿ç”¨ <code>wx:if</code> è¿›è¡Œå¤„ç†ã€‚</li></ul></li></ul><h4 id="é˜¿é‡Œäº‘OSSå›¾ç‰‡ç¼©ç•¥å›¾"><a href="#é˜¿é‡Œäº‘OSSå›¾ç‰‡ç¼©ç•¥å›¾" class="headerlink" title="é˜¿é‡Œäº‘OSSå›¾ç‰‡ç¼©ç•¥å›¾"></a>é˜¿é‡Œäº‘OSSå›¾ç‰‡ç¼©ç•¥å›¾</h4><ul><li>ä½¿ç”¨æ–¹æ³•<ul><li>å›¾ç‰‡è·¯å¾„åé¢æ‹¼æ¥å¦‚ä¸‹è·¯å¾„ï¼š<ul><li>æ ¼å¼ï¼š<code>?x-oss-process=image/[å¤„ç†ç±»å‹],x_100,y_50[å®½é«˜ç­‰å‚æ•°]</code></li><li>ç¤ºä¾‹ï¼š<code>?x-oss-process=image/resize,m_fill,h_100,w_200,limit_0</code></li></ul></li></ul></li><li>åŸå›¾<ul><li><code>https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/home.png</code><br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/home.png" alt="åŸå›¾"></li></ul></li><li>ç¼©ç•¥å›¾<ul><li><code>https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/home.png?x-oss-process=image/resize,m_fill,h_100,w_200,limit_0</code><br><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/home.png?x-oss-process=image/resize,m_fill,h_100,w_200,limit_0" alt="åŸå›¾"></li></ul></li><li><i class="fa fa-link"></i> <a href="https://help.aliyun.com/document_detail/44688.html">å‚è€ƒæ–‡æ¡£</a></li></ul><h4 id="é˜¿é‡Œäº‘OSSè§†é¢‘é¢„è§ˆå›¾"><a href="#é˜¿é‡Œäº‘OSSè§†é¢‘é¢„è§ˆå›¾" class="headerlink" title="é˜¿é‡Œäº‘OSSè§†é¢‘é¢„è§ˆå›¾"></a>é˜¿é‡Œäº‘OSSè§†é¢‘é¢„è§ˆå›¾</h4><ul><li><code>OSS</code> æä¾›çš„è§†é¢‘æˆªå¸§åŠŸèƒ½å’Œ <code>OSS</code> å›¾ç‰‡æœåŠ¡åŠŸèƒ½ä½¿ç”¨çš„æ–¹å¼æ˜¯ç±»ä¼¼çš„ï¼Œéƒ½æ˜¯é€šè¿‡ä¼ å…¥ <code>x-oss-process</code> å‚æ•°çš„æ–¹å¼æ¥å®ç°çš„ã€‚æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼å°±æ˜¯ç›´æ¥åœ¨ <code>url</code> åé¢æ‹¼æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚æ¯”å¦‚å¦‚ä¸‹çš„ <code>url</code>ï¼š<br><code>http://a-image-demo.oss-cn-qingdao.aliyuncs.com/demo.mp4?x-oss-process=video/snapshot,t_10000,m_fast</code><br><img src="http://a-image-demo.oss-cn-qingdao.aliyuncs.com/demo.mp4?x-oss-process=video/snapshot,t_10000,m_fast" alt="é¢„è§ˆå›¾"><ul><li>æŒ‡å®šçš„å°±æ˜¯å¯¹ <code>demo.mp4</code> è¿™ä¸ªæ–‡ä»¶ç›´æ¥è°ƒç”¨è§†é¢‘æˆªå›¾ï¼Œæˆªå›¾çš„ä½ç½®ç”±å‚æ•° <code>t</code> æŒ‡å®šï¼Œåé¢çš„å•ä½æ˜¯ <code>ms</code>ï¼Œå› æ­¤è¿™ä¸ª <code>url</code> çš„å«ä¹‰å°±æ˜¯æˆªå–è§†é¢‘æ–‡ä»¶çš„ç¬¬ <code>10s</code> çš„å†…å®¹ã€‚ç”Ÿæˆçš„ <code>url</code> å¯ä»¥ç›´æ¥åµŒå…¥åœ¨ç½‘é¡µæä¾›ç»™ç”¨æˆ·æµè§ˆã€‚</li></ul></li><li>æ§åˆ¶å›¾ç‰‡è¾“å‡ºå¤§å°<ul><li>è§†é¢‘æˆªå¸§åŠŸèƒ½æ”¯æŒé€‰æ‹©è¾“å‡ºå›¾ç‰‡çš„å¤§å°ï¼Œä½¿ç”¨ <code>w</code> å‚æ•°æŒ‡å®šå®½åº¦ï¼Œ<code>h</code> æŒ‡å®šé•¿åº¦;</li><li>ä¸æŒ‡å®š <code>w</code> å’Œ <code>h</code> å‚æ•°ï¼Œæˆ–è€… <code>w</code> å’Œ <code>h</code> éƒ½æŒ‡å®šä¸º <code>0</code>ï¼Œè¾“å‡ºçš„å›¾ç‰‡å¤§å°ä¸ºè§†é¢‘çš„çœŸå®é•¿å®½;</li><li>å•ç‹¬æŒ‡å®š <code>w</code> æˆ–è€… <code>h</code> å‚æ•°ï¼Œè¾“å‡ºçš„å›¾ç‰‡å¤§å°æŒ‡å®šçš„æ•°å€¼ï¼Œå¦å¤–ä¸€ä¸ªæ²¡æœ‰æŒ‡å®šçš„æ•°å€¼é€šè¿‡è§†é¢‘åŸå§‹æ¯”ä¾‹è‡ªåŠ¨è®¡ç®—å‡ºæ¥;</li><li>åŒæ—¶æŒ‡å®š <code>w</code> å’Œ <code>h</code> å‚æ•°ï¼Œè¾“å‡ºå›¾ç‰‡å¤§å°ä¸ºæŒ‡å®šçš„æ•°å€¼ï¼Œå¦‚æœé•¿å®½æ¯”ä¾‹å’ŒåŸå§‹è§†é¢‘æ¯”ä¸ç›¸ç­‰åˆ™å¼ºåˆ¶æ‹‰ä¼¸;</li></ul></li><li>æ¯”å¦‚ä¸‹é¢è¿™ä¸ª <code>url</code> å°±æ˜¯å°†è¾“å‡ºçš„å›¾ç‰‡å¤§å°æŒ‡å®šä¸º <code>800</code> å®½åº¦<ul><li>è¾“å‡ºæ ¼å¼ï¼š<code>OSS</code> è¾“å‡ºçš„è§†é¢‘æ ¼å¼æ”¯æŒ <code>jpg</code> å’Œ <code>png</code> ä¸¤ç§æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ <code>f</code> å‚æ•°æ¥åˆ‡æ¢ï¼Œé»˜è®¤è¾“å‡ºçš„æ˜¯ <code>jpg</code> æ ¼å¼ï¼Œå¯¹äºæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„ç”¨æˆ·æ— éœ€æŒ‡å®šè¯¥å‚æ•°<br><code>http://a-image-demo.oss-cn-qingdao.aliyuncs.com/demo.mp4?x-oss-process=video/snapshot,t_10000,m_fast,w_800</code><br><img src="http://a-image-demo.oss-cn-qingdao.aliyuncs.com/demo.mp4?x-oss-process=video/snapshot,t_10000,m_fast,w_800" alt="é¢„è§ˆå›¾"></li></ul></li><li><i class="fa fa-link"></i> <a href="https://help.aliyun.com/document_detail/64555.html">å‚è€ƒæ–‡æ¡£</a></li></ul><h4 id="ä¿å­˜-base64-æ ¼å¼çš„å›¾ç‰‡"><a href="#ä¿å­˜-base64-æ ¼å¼çš„å›¾ç‰‡" class="headerlink" title="ä¿å­˜ base64 æ ¼å¼çš„å›¾ç‰‡"></a>ä¿å­˜ <code>base64</code> æ ¼å¼çš„å›¾ç‰‡</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> saveImg = wx.getFileSystemManager()</span><br><span class="line"><span class="keyword">const</span> number = <span class="built_in">Math</span>.random()</span><br><span class="line">saveImg.writeFile(&#123;</span><br><span class="line">    <span class="attr">filePath</span>: wx.env.USER_DATA_PATH + <span class="string">&#x27;/pic&#x27;</span> + number + <span class="string">&#x27;.png&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: fileData,</span><br><span class="line">    <span class="attr">encoding</span>: <span class="string">&#x27;base64&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">            <span class="attr">filePath</span>: wx.env.USER_DATA_PATH + <span class="string">&#x27;/pic&#x27;</span> + number + <span class="string">&#x27;.png&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                    <span class="attr">title</span>: <span class="string">&#x27;ä¿å­˜æˆåŠŸ&#x27;</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">fail</span>: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(err)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;, <span class="attr">fail</span>: <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å°ç¨‹åºåˆ—è¡¨æ¸²æŸ“-wx-for-ä¸­è‡ªå®šä¹‰-index-item"><a href="#å°ç¨‹åºåˆ—è¡¨æ¸²æŸ“-wx-for-ä¸­è‡ªå®šä¹‰-index-item" class="headerlink" title="å°ç¨‹åºåˆ—è¡¨æ¸²æŸ“ wx:for ä¸­è‡ªå®šä¹‰ index,item"></a>å°ç¨‹åºåˆ—è¡¨æ¸²æŸ“ <code>wx:for</code> ä¸­è‡ªå®šä¹‰ <code>index</code>,<code>item</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;in&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;it&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;in&#125;&#125;:&#123;&#123;it&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¾®ä¿¡å¼€æ”¾èƒ½åŠ›-open-type-å‚è€ƒæ–‡æ¡£"><a href="#å¾®ä¿¡å¼€æ”¾èƒ½åŠ›-open-type-å‚è€ƒæ–‡æ¡£" class="headerlink" title="å¾®ä¿¡å¼€æ”¾èƒ½åŠ› open-type  å‚è€ƒæ–‡æ¡£"></a>å¾®ä¿¡å¼€æ”¾èƒ½åŠ› <code>open-type</code> <i class="fa fa-link"></i> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html">å‚è€ƒæ–‡æ¡£</a></h4><table><thead><tr><th>åˆæ³•å€¼</th><th>è¯´æ˜</th><th>é”šç‚¹</th></tr></thead><tbody><tr><td><code>contact</code></td><td>æ‰“å¼€å®¢æœä¼šè¯ï¼Œå¦‚æœç”¨æˆ·åœ¨ä¼šè¯ä¸­ç‚¹å‡»æ¶ˆæ¯å¡ç‰‡åè¿”å›å°ç¨‹åºï¼Œå¯ä»¥ä» <code>bindcontact</code> å›è°ƒä¸­è·å¾—å…·ä½“ä¿¡æ¯</td><td><a href="#contact-button">è·³è½¬</a></td></tr><tr><td><code>share</code></td><td>è§¦å‘ç”¨æˆ·è½¬å‘</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>getPhoneNumber</code></td><td>è·å–ç”¨æˆ·æ‰‹æœºå·ï¼Œå¯ä»¥ä» <code>bindgetphonenumber</code> å›è°ƒä¸­è·å–åˆ°ç”¨æˆ·ä¿¡æ¯</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>getUserInfo</code></td><td>è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå¯ä»¥ä» <code>bindgetuserinfo</code> å›è°ƒä¸­è·å–åˆ°ç”¨æˆ·ä¿¡æ¯</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>launchApp</code></td><td>æ‰“å¼€ <code>APP</code>ï¼Œå¯ä»¥é€šè¿‡ <code>app-parameter</code> å±æ€§è®¾å®šå‘ <code>APP</code> ä¼ çš„å‚æ•°</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>openSetting</code></td><td>æ‰“å¼€æˆæƒè®¾ç½®é¡µ</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>feedback</code></td><td>æ‰“å¼€â€œæ„è§åé¦ˆâ€é¡µé¢ï¼Œç”¨æˆ·å¯æäº¤åé¦ˆå†…å®¹å¹¶ä¸Šä¼ æ—¥å¿—ï¼Œå¼€å‘è€…å¯ä»¥ç™»å½•å°ç¨‹åºç®¡ç†åå°åè¿›å…¥å·¦ä¾§èœå•â€œå®¢æœåé¦ˆâ€é¡µé¢è·å–åˆ°åé¦ˆå†…å®¹</td><td><a href="#">è·³è½¬</a></td></tr><tr><td><code>chooseAvatar</code></td><td>è·å–ç”¨æˆ·å¤´åƒï¼Œå¯ä»¥ä» <code>bindchooseavatar</code> å›è°ƒä¸­è·å–åˆ°å¤´åƒä¿¡æ¯</td><td><a href="#">è·³è½¬</a></td></tr></tbody></table><h4 id="å¾®ä¿¡å°ç¨‹åºç»„ä»¶ä¹‹-button-å®¢æœä¼šè¯åŠŸèƒ½"><a href="#å¾®ä¿¡å°ç¨‹åºç»„ä»¶ä¹‹-button-å®¢æœä¼šè¯åŠŸèƒ½" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºç»„ä»¶ä¹‹ button å®¢æœä¼šè¯åŠŸèƒ½"></a><span id="contact-button">å¾®ä¿¡å°ç¨‹åºç»„ä»¶ä¹‹ <code>button</code> å®¢æœä¼šè¯åŠŸèƒ½</span></h4><ul><li>å…ˆç™»å½• <a href="https://mp.weixin.qq.com/">å¾®ä¿¡å…¬ä¼—å¹³å°</a> ï¼Œå¦‚æœæ²¡æœ‰è´¦æˆ·å¯ä»¥å»ç”³è¯·ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºè´¦å·.</li><li>åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°å¯åŠ¨å°ç¨‹åºå®¢æœæ¨é€ï¼Œç‚¹å‡»å®¢æœåé¦ˆæ¥æ·»åŠ å®¢æœäººå‘˜(å®¢æœäººå‘˜å¯ä»¥æ·»åŠ 100ä¸ª).</li><li>æ‰“å¼€ <a href="https://mpkf.weixin.qq.com/">å¾®ä¿¡å…¬ä¼—å¹³å°å®¢æœ</a> ï¼Œä½¿ç”¨ç»‘å®šçš„å¾®ä¿¡å·æ‰«ç ç™»å½•ï¼Œç‚¹å‡»ç™»å½•è¿›å…¥å¾®ä¿¡å…¬ä¼—å¹³å°å®¢æœç•Œé¢.</li><li>é‚£ä¹ˆå°±å¼€å§‹æ„‰å¿«çš„æ•²ä»£ç <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span> <span class="attr">bindcontact</span>=<span class="string">&quot;handleContact&quot;</span>&gt;</span>å®¢æœ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;data-æŒ‡ä»¤&quot;&gt;&lt;a href=&quot;#data-æŒ‡ä»¤&quot; class=&quot;headerlink&quot; title=&quot;data-* æŒ‡ä»¤&quot;&gt;&lt;/a&gt;&lt;code&gt;data-*&lt;/code&gt; æŒ‡ä»¤&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;ç”¨äºå°† &lt;code&gt;wxml&lt;/code&gt; é¡µé¢çš„æ•°æ®ä¼ é€’è‡³åå° &lt;code&gt;js&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åºï¼Œå¼€å‘ç¬”è®°" scheme="https://hushaoyu.github.io/blog/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åºï¼Œå¼€å‘ç¬”è®°" scheme="https://hushaoyu.github.io/blog/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>nodeppt - css</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/14/nodeppt-css/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/14/nodeppt-css/</id>
    <published>2022-01-14T08:23:10.000Z</published>
    <updated>2022-01-14T08:23:32.120Z</updated>
    
    
    
    
    <category term="nodeppt" scheme="https://hushaoyu.github.io/blog/categories/nodeppt/"/>
    
    
    <category term="nodeppt" scheme="https://hushaoyu.github.io/blog/tags/nodeppt/"/>
    
  </entry>
  
  <entry>
    <title>ç”ŸæˆPPT - nodeppt</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/14/%E7%94%9F%E6%88%90PPT-nodeppt/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/14/%E7%94%9F%E6%88%90PPT-nodeppt/</id>
    <published>2022-01-14T07:25:16.000Z</published>
    <updated>2022-01-14T08:22:29.628Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å…¨å±€å®‰è£…è„šæœ¬"><a href="#å…¨å±€å®‰è£…è„šæœ¬" class="headerlink" title="å…¨å±€å®‰è£…è„šæœ¬"></a>å…¨å±€å®‰è£…è„šæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g nodeppt</span><br></pre></td></tr></table></figure><ul><li><a href="https://github.com/ksky521/nodeppt">github</a></li></ul><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><ul><li>å‘½ä»¤<ul><li><code>new</code>ï¼šä½¿ç”¨çº¿ä¸Šæ¨¡æ¿åˆ›å»ºä¸€ä¸ªmdæ–‡ä»¶<ul><li><code>nodeppt new demo.md</code> # æ ¹æ®å®˜æ–¹æ¨¡æ¿åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>slide</code> æ¿å—</li><li><code>nodeppt new demo.md -t username/repo</code> # æ ¹æ® <code>github</code> æŒ‡å®šæ¨¡æ¿åˆ›å»ºæ–°çš„ <code>slide</code>æ¿å—</li></ul></li><li><code>serve</code>ï¼šå¯åŠ¨ä¸€ä¸ªæŒ‡å®šçš„mdæ–‡ä»¶é¢„è§ˆ</li><li><code>build</code>ï¼šç¼–è¯‘äº§å‡ºä¸€ä¸ªmdæ–‡ä»¶</li></ul></li></ul><h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Page:</span> <span class="string">â†‘/â†“/â†/â†’</span> <span class="string">Space</span> <span class="string">Home</span> <span class="string">End</span></span><br><span class="line"><span class="attr">Fullscreen:</span> <span class="string">F</span></span><br><span class="line"><span class="attr">Overview:</span> <span class="string">-/+</span></span><br><span class="line"><span class="attr">Speaker Note:</span> <span class="string">N</span></span><br><span class="line"><span class="attr">Grid Background:</span> <span class="string">Enter</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">nodeppt</span> <span class="string">markdown</span> <span class="string">æ¼”ç¤º</span></span><br><span class="line"><span class="attr">speaker:</span> <span class="string">ä¸‰æ°´æ¸…</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://github.com/ksky521/nodeppt</span></span><br><span class="line"><span class="attr">js:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://www.echartsjs.com/asset/theme/shine.js</span></span><br><span class="line"><span class="attr">prismTheme:</span> <span class="string">solarizedlight</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echarts</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mermaid</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">katex</span></span><br></pre></td></tr></table></figure><ul><li><code>title</code>ï¼šæ¼”è®²ä¸»é¢˜</li><li><code>speaker</code>ï¼šæ¼”è®²äºº</li><li><code>url</code>ï¼šåœ°å€</li><li><code>js</code>ï¼šéœ€è¦åŠ è½½çš„ <code>js</code> æ–‡ä»¶æ•°ç»„ï¼Œå°†è¢«æ”¾åœ¨ <code>body</code> æ ‡ç­¾ä¹‹å‰</li><li><code>css</code>ï¼šéœ€è¦åŠ è½½çš„ <code>css</code> æ–‡ä»¶æ•°ç»„ï¼Œå°†è¢«æ”¾åœ¨ <code>head</code> æ ‡ç­¾å†…</li><li><code>prismTheme</code>ï¼š<code>prism</code> é…è‰²ï¼Œå–å€¼èŒƒå›´ <code>[&#39;dark&#39;, &#39;coy&#39;, &#39;funky&#39;, &#39;okaidia&#39;, &#39;tomorrow&#39;, &#39;solarizedlight&#39;, &#39;twilight&#39;]</code></li><li><code>plugins</code>ï¼šä¸»é¢˜é…è‰²æ’ä»¶ï¼Œç›®å‰æ”¯æŒçš„æœ‰ <a href="https://github.com/ksky521/nodeppt/blob/master/site/echarts.md">echarts</a> ã€<a href="https://github.com/ksky521/nodeppt/blob/master/site/mermaid.md">mermaid</a> ã€<a href="https://www.npmjs.com/package/markdown-it-katex">katex</a></li></ul><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title=" è¯­æ³•"></a><slide> è¯­æ³•</h4>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;å…¨å±€å®‰è£…è„šæœ¬&quot;&gt;&lt;a href=&quot;#å…¨å±€å®‰è£…è„šæœ¬&quot; class=&quot;headerlink&quot; title=&quot;å…¨å±€å®‰è£…è„šæœ¬&quot;&gt;&lt;/a&gt;å…¨å±€å®‰è£…è„šæœ¬&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install -g nodeppt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="PPT" scheme="https://hushaoyu.github.io/blog/categories/PPT/"/>
    
    <category term="nodeppt" scheme="https://hushaoyu.github.io/blog/categories/PPT/nodeppt/"/>
    
    
    <category term="nodeppt" scheme="https://hushaoyu.github.io/blog/tags/nodeppt/"/>
    
    <category term="PPT" scheme="https://hushaoyu.github.io/blog/tags/PPT/"/>
    
  </entry>
  
  <entry>
    <title>React åŸºç¡€å¼€å‘æ¡†æ¶æ­å»º</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/14/React-%E5%9F%BA%E7%A1%80%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/14/React-%E5%9F%BA%E7%A1%80%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/</id>
    <published>2022-01-14T02:02:01.000Z</published>
    <updated>2022-01-14T02:15:50.078Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><blockquote><p>&ensp;&ensp;Create React App æ˜¯ä¸€ç§å®˜æ–¹æ”¯æŒçš„åˆ›å»ºå•é¡µ React åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæ²¡æœ‰é…ç½®çš„ç°ä»£æ„å»ºè®¾ç½®ã€‚</p></blockquote><h4 id=""><a href="#" class="headerlink" title=""></a></h4>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;ensp;&amp;ensp;Create React App æ˜¯ä¸€ç§å®˜æ–¹æ”¯æŒçš„åˆ›å»ºå•é¡µ React åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæ²¡æœ‰é…ç½®çš„ç°ä»£æ„å»ºè®¾ç½®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="React" scheme="https://hushaoyu.github.io/blog/categories/React/"/>
    
    <category term="create-react-app" scheme="https://hushaoyu.github.io/blog/categories/React/create-react-app/"/>
    
    
    <category term="React" scheme="https://hushaoyu.github.io/blog/tags/React/"/>
    
    <category term="æ¡†æ¶æ­å»º" scheme="https://hushaoyu.github.io/blog/tags/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/"/>
    
    <category term="creat-react-app" scheme="https://hushaoyu.github.io/blog/tags/creat-react-app/"/>
    
  </entry>
  
  <entry>
    <title>webpack - æŠ€å·§ç¯‡</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/14/webpack-%E6%8A%80%E5%B7%A7%E7%AF%87/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/14/webpack-%E6%8A%80%E5%B7%A7%E7%AF%87/</id>
    <published>2022-01-14T01:56:14.000Z</published>
    <updated>2022-01-14T02:01:15.564Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ‰“åŒ…å›¾ç‰‡èµ„æº"><a href="#æ‰“åŒ…å›¾ç‰‡èµ„æº" class="headerlink" title="æ‰“åŒ…å›¾ç‰‡èµ„æº"></a>æ‰“åŒ…å›¾ç‰‡èµ„æº</h4><ul><li>å®‰è£… <code>loader</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev file-loader</span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>webpack.config.js</code> æ–‡ä»¶çš„è§„åˆ™ä¸­æ·»åŠ é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">test:</span> <span class="string">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">    <span class="attr">use:</span> [<span class="string">&#x27;file-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;æ‰“åŒ…å›¾ç‰‡èµ„æº&quot;&gt;&lt;a href=&quot;#æ‰“åŒ…å›¾ç‰‡èµ„æº&quot; class=&quot;headerlink&quot; title=&quot;æ‰“åŒ…å›¾ç‰‡èµ„æº&quot;&gt;&lt;/a&gt;æ‰“åŒ…å›¾ç‰‡èµ„æº&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å®‰è£… &lt;code&gt;loader&lt;/code&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install --save-dev file-loader&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;webpack.config.js&lt;/code&gt; æ–‡ä»¶çš„è§„åˆ™ä¸­æ·»åŠ é…ç½®&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;test:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;/\.(png|svg|jpg|gif)$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;use:&lt;/span&gt; [&lt;span class=&quot;string&quot;&gt;&amp;#x27;file-loader&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="webpack" scheme="https://hushaoyu.github.io/blog/categories/webpack/"/>
    
    
    <category term="webpack" scheme="https://hushaoyu.github.io/blog/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>CSS - å¼€å‘æŠ€å·§</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/13/CSS-%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/13/CSS-%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/</id>
    <published>2022-01-13T07:58:19.000Z</published>
    <updated>2022-01-21T05:22:26.257Z</updated>
    
    
    
    
    <category term="CSS" scheme="https://hushaoyu.github.io/blog/categories/CSS/"/>
    
    
    <category term="CSS" scheme="https://hushaoyu.github.io/blog/tags/CSS/"/>
    
    <category term="å¼€å‘æŠ€å·§" scheme="https://hushaoyu.github.io/blog/tags/%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Note - ä½¿ç”¨NexTä¸»é¢˜</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/10/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/10/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/</id>
    <published>2022-01-10T02:08:41.000Z</published>
    <updated>2022-02-13T03:18:49.586Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><blockquote><p>&ensp;&ensp;Â«NexTÂ» is a high quality elegant Hexo theme. It is crafted from scratch with love.</p></blockquote><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><h4 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><ul><li>è¿›å…¥hexoé¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œå°†ä¸»é¢˜å…‹éš†è‡³themesæ–‡ä»¶å¤¹ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> hexo</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></li><li>åœ¨é¡¹ç›®çš„æ ¹é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­ï¼Œå°† <code>theme</code> çš„é…ç½®å€¼ä¿®æ”¹ä¸º  <code>next</code> åº”ç”¨ä¸»é¢˜ï¼Œé‡æ–°æ‰§è¡Œæ„å»ºå‘½ä»¤æ›´æ–°ç¨‹åºã€‚<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure></li><li><code>Tips</code>ï¼šæ¯æ¬¡æ›´æ–°é¡¹ç›®éœ€è¦æ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> æ‰èƒ½åº”ç”¨æœ¬åœ°æ›´æ–°ï¼Œç•¥æ˜¾éº»çƒ¦ï¼Œå¯ä»¥åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>start</code> å‘½ä»¤ï¼Œæœ‰æ”¹åŠ¨åªéœ€è¦æ‰§è¡Œ <code>npm start</code> å°±å¯ä»¥äº†<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;start&quot;:</span> <span class="string">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo s&quot;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="ä¸»é¢˜åˆ‡æ¢"><a href="#ä¸»é¢˜åˆ‡æ¢" class="headerlink" title="ä¸»é¢˜åˆ‡æ¢"></a>ä¸»é¢˜åˆ‡æ¢</h4><ul><li>NexTé»˜è®¤é›†æˆäº†4ä¸­ä¸»é¢˜æ¨¡å¼ï¼Œ<code>Gemini</code>ã€<code>Mist</code>ã€<code>Muse</code>ã€<code>Pisces</code>ã€‚åœ¨é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ <code>scheme</code> æ¥åº”ç”¨ä¸åŒçš„ä¸»é¢˜æ¨¡å¼ã€‚</li></ul><h4 id="éšè—ç½‘ç«™é¡µé¢åº•éƒ¨çš„-powered-by"><a href="#éšè—ç½‘ç«™é¡µé¢åº•éƒ¨çš„-powered-by" class="headerlink" title="éšè—ç½‘ç«™é¡µé¢åº•éƒ¨çš„ powered by"></a>éšè—ç½‘ç«™é¡µé¢åº•éƒ¨çš„ <code>powered by</code></h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/layout/_partials/footer.swig</code> ä¸­ï¼Œå°† <code>footer.powered</code> ä»£ç å—ä½¿ç”¨ <code>&lt;!-- --&gt;</code> æ³¨é‡Šæ‰ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">&#123;%- <span class="keyword">if</span> theme.footer.powered %&#125;</span><br><span class="line">  &lt;div class=<span class="string">&quot;powered-by&quot;</span>&gt;</span><br><span class="line">    &#123;%- <span class="built_in">set</span> next_site = <span class="string">&#x27;https://theme-next.org&#x27;</span> %&#125;</span><br><span class="line">    &#123;%- <span class="keyword">if</span> theme.scheme !== <span class="string">&#x27;Gemini&#x27;</span> %&#125;</span><br><span class="line">      &#123;%- <span class="built_in">set</span> next_site = <span class="string">&#x27;https://&#x27;</span> + theme.scheme | lower + <span class="string">&#x27;.theme-next.org&#x27;</span> %&#125;</span><br><span class="line">    &#123;%- endif %&#125;</span><br><span class="line">    &#123;&#123;- __(<span class="string">&#x27;footer.powered&#x27;</span>, next_url(<span class="string">&#x27;https://hexo.io&#x27;</span>, <span class="string">&#x27;Hexo&#x27;</span>, &#123;class: <span class="string">&#x27;theme-link&#x27;</span>&#125;) + <span class="string">&#x27; &amp; &#x27;</span> + next_url(next_site, <span class="string">&#x27;NexT.&#x27;</span> + theme.scheme, &#123;class: <span class="string">&#x27;theme-link&#x27;</span>&#125;)) &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ–‡ç« æ·»åŠ é˜´å½±"><a href="#æ–‡ç« æ·»åŠ é˜´å½±" class="headerlink" title="æ–‡ç« æ·»åŠ é˜´å½±"></a>æ–‡ç« æ·»åŠ é˜´å½±</h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/source/css/_common/components/post/post.styl</code> ä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼ï¼š<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, .<span class="number">5</span>);</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, .<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è®¾ç½®å„æ¿å—çš„èƒŒæ™¯é€æ˜åº¦"><a href="#è®¾ç½®å„æ¿å—çš„èƒŒæ™¯é€æ˜åº¦" class="headerlink" title="è®¾ç½®å„æ¿å—çš„èƒŒæ™¯é€æ˜åº¦"></a>è®¾ç½®å„æ¿å—çš„èƒŒæ™¯é€æ˜åº¦</h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/source/css/_schemes/Pisces/_layout.styl</code> ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¿å—çš„ <code>background</code> å±æ€§ï¼Œé…ç½®çš„éƒ½æ˜¯ <code>--content-bg-color</code> å˜é‡ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€æ‰¾åˆ°è¿™ä¸ªå˜é‡æ‰€åœ¨çš„ä½ç½®è¿›è¡Œä¿®æ”¹æ—¢å¯ä»¥äº†ã€‚</li><li>åœ¨é¡¹ç›®ä¸­æœç´¢ï¼Œå¯ä»¥æ‰¾åˆ°æ˜¯åœ¨ <code>themes/next/source/css/_variables/base.styl</code> æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®çš„ï¼Œå°†å…¶å€¼ä¿®æ”¹å¦‚ä¸‹<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$body-bg-color</span> = rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">8</span>);</span><br><span class="line"><span class="variable">$content-bg-color</span> = rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">8</span>);</span><br></pre></td></tr></table></figure></li></ul><h4 id="è®¾ç½®ç½‘ç«™å›¾æ ‡-favicon-ico"><a href="#è®¾ç½®ç½‘ç«™å›¾æ ‡-favicon-ico" class="headerlink" title="è®¾ç½®ç½‘ç«™å›¾æ ‡ favicon.ico"></a>è®¾ç½®ç½‘ç«™å›¾æ ‡ <code>favicon.ico</code></h4><ul><li>åœ¨æ–‡ä»¶å¤¹ <code>/themes/next/source/images</code> ä¸­ï¼Œæœ‰ä¸åŒåœºæ™¯ä¸åŒæ ¼å¼çš„ç½‘ç«™å›¾æ ‡ï¼Œæ ¹æ®æ ¼å¼è¿›è¡Œæ›¿æ¢ã€‚</li><li>å…¶ä»–å¯è‡ªå®šä¹‰é…ç½®å›¾æ ‡<ul><li><code>avatar.gif</code>ï¼šç½‘ç«™ä¸ªäººä»‹ç»logo</li></ul></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/favicon.png" alt="ç½‘ç«™å›¾æ ‡"></li></ul><h4 id="ä¿®æ”¹åšå®¢åº•éƒ¨æ ‡ç­¾æ ·å¼"><a href="#ä¿®æ”¹åšå®¢åº•éƒ¨æ ‡ç­¾æ ·å¼" class="headerlink" title="ä¿®æ”¹åšå®¢åº•éƒ¨æ ‡ç­¾æ ·å¼"></a>ä¿®æ”¹åšå®¢åº•éƒ¨æ ‡ç­¾æ ·å¼</h4><ul><li>åœ¨æ–‡ä»¶ <code>/themes/next/layout/_macro/post.swig</code> ä¸­ï¼Œæœç´¢ <code>rel=&quot;tag&quot;</code>ï¼Œå°†<code>#</code>æ›¿æ¢æˆ <code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/article_tag.png" alt="æ–‡ç« åº•éƒ¨æ ‡ç­¾"></li></ul><h4 id="æ˜¾ç¤ºå½“å‰é¡µé¢çš„æµè§ˆè¿›åº¦"><a href="#æ˜¾ç¤ºå½“å‰é¡µé¢çš„æµè§ˆè¿›åº¦" class="headerlink" title="æ˜¾ç¤ºå½“å‰é¡µé¢çš„æµè§ˆè¿›åº¦"></a>æ˜¾ç¤ºå½“å‰é¡µé¢çš„æµè§ˆè¿›åº¦</h4><ul><li>NexTé»˜è®¤å·²ç»é›†æˆè¯¥åŠŸèƒ½ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œå°† <code>scrollpercent</code> çš„é…ç½®å€¼è®¾ç½®ä¸º <code>true</code>ï¼Œåœ¨é¡µé¢å³ä¸‹è§’å³å¯çœ‹åˆ°å›¾æ ‡ã€‚<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ä¿®æ”¹é“¾æ¥æ–‡å­—æ ·å¼"><a href="#ä¿®æ”¹é“¾æ¥æ–‡å­—æ ·å¼" class="headerlink" title="ä¿®æ”¹é“¾æ¥æ–‡å­—æ ·å¼"></a>ä¿®æ”¹é“¾æ¥æ–‡å­—æ ·å¼</h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/source/css/_common/components/post/post.styl</code> ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç <figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff106c</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è®¾ç½®å¼•ç”¨å—æ ·å¼"><a href="#è®¾ç½®å¼•ç”¨å—æ ·å¼" class="headerlink" title="è®¾ç½®å¼•ç”¨å—æ ·å¼"></a>è®¾ç½®å¼•ç”¨å—æ ·å¼</h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/source/css/_common/scaffolding/base.styl</code> ä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">4px</span> solid <span class="number">#f39406</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> <span class="number">#6e6d6d</span>91;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è®¾ç½®å¯æŠ˜å å†…å®¹æ ·å¼"><a href="#è®¾ç½®å¯æŠ˜å å†…å®¹æ ·å¼" class="headerlink" title="è®¾ç½®å¯æŠ˜å å†…å®¹æ ·å¼"></a>è®¾ç½®å¯æŠ˜å å†…å®¹æ ·å¼</h4><ul><li>åœ¨ <code>themes/next/source/css/_custom</code> è·¯å¾„ä¸‹æ–°å»ºæ–‡ä»¶ <code>default.css</code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">details</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> <span class="number">#666565</span>ad;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">details</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(<span class="number">101</span>, <span class="number">243</span>, <span class="number">243</span>, <span class="number">0.71</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">details</span> &gt; <span class="selector-tag">summary</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">details</span> &gt; <span class="selector-tag">summary</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>themes/next/source/css/main.styl</code> æ–‡ä»¶åº•éƒ¨å¼•å…¥ä¸Šè¿°æ–°å¢æ ·å¼æ–‡ä»¶<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;_custom/default.css&quot;</span>;</span><br></pre></td></tr></table></figure><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/details-style.gif" alt="é¢„è§ˆ"></li></ul><h4 id="è®¾ç½®å¤´åƒçš„æ‚¬åœæ•ˆæœ"><a href="#è®¾ç½®å¤´åƒçš„æ‚¬åœæ•ˆæœ" class="headerlink" title="è®¾ç½®å¤´åƒçš„æ‚¬åœæ•ˆæœ"></a>è®¾ç½®å¤´åƒçš„æ‚¬åœæ•ˆæœ</h4><ul><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° <code>avatar</code> é…ç½®ï¼Œå°†å…¶ <code>rotated</code> å±æ€§è®¾ç½®ä¸º <code>true</code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.gif</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be dispalyed in circle.</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be rotated with the cursor.</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="æ ¹æ®å‘å¸ƒçš„åšå®¢è‡ªåŠ¨ç”Ÿæˆé¦–é¡µ"><a href="#æ ¹æ®å‘å¸ƒçš„åšå®¢è‡ªåŠ¨ç”Ÿæˆé¦–é¡µ" class="headerlink" title="æ ¹æ®å‘å¸ƒçš„åšå®¢è‡ªåŠ¨ç”Ÿæˆé¦–é¡µ"></a>æ ¹æ®å‘å¸ƒçš„åšå®¢è‡ªåŠ¨ç”Ÿæˆé¦–é¡µ</h4><ul><li>æ ¹ç›®å½•æ‰§è¡Œä»£ç ï¼Œå®‰è£…æ’ä»¶ <a href="https://github.com/chekun/hexo-excerpt">hexo-excerpt</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-excerpt --save</span><br></pre></td></tr></table></figure></li><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å°† <code>excerpt_description</code> çš„é…ç½®å€¼è®¾ç½®ä¸ºtrueï¼Œå¦å¤–åœ¨æ ¹é¡¹ç›®ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–é¡µ</span></span><br><span class="line"><span class="attr">excerpt:</span></span><br><span class="line">  <span class="attr">depth:</span> <span class="number">2</span>  <span class="comment">#æŒ‰å±‚æ¥ç®—ï¼Œä¹Ÿå°±æ˜¯æŒ‰ä»£ç å—æ¥ç®—ï¼Œæˆªå–åšæ–‡å¤šå°‘å±‚çš„å†…å®¹æ¥æ˜¾ç¤ºåœ¨ä¸»é¡µ</span></span><br><span class="line">  <span class="attr">excerpt_excludes:</span> []</span><br><span class="line">  <span class="attr">more_excludes:</span> []</span><br><span class="line">  <span class="attr">hideWholePostExcerpts:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><a href="https://hushaoyu.github.io/blog/">åœ¨çº¿é¢„è§ˆ</a></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/home.png" alt="é¦–é¡µ"></li></ul><h4 id="é¦–é¡µé˜…è¯»æ›´å¤šæŒ‰é’®æ ·å¼æ›´æ”¹"><a href="#é¦–é¡µé˜…è¯»æ›´å¤šæŒ‰é’®æ ·å¼æ›´æ”¹" class="headerlink" title="é¦–é¡µé˜…è¯»æ›´å¤šæŒ‰é’®æ ·å¼æ›´æ”¹"></a>é¦–é¡µé˜…è¯»æ›´å¤šæŒ‰é’®æ ·å¼æ›´æ”¹</h4><ul><li>åœ¨æ–‡ä»¶ <code>themes/next/source/css/_common/components/post/post.styl</code> ä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼ï¼š<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-button</span> <span class="selector-class">.btn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>);</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, <span class="number">#a166ab</span> <span class="number">0%</span>, <span class="number">#ef4e7b</span> <span class="number">25%</span>, <span class="number">#f37055</span> <span class="number">50%</span>, <span class="number">#ef4e7b</span> <span class="number">75%</span>, <span class="number">#a166ab</span> <span class="number">100%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="æš—é»‘æ¨¡å¼åˆ‡æ¢"><a href="#æš—é»‘æ¨¡å¼åˆ‡æ¢" class="headerlink" title="æš—é»‘æ¨¡å¼åˆ‡æ¢"></a>æš—é»‘æ¨¡å¼åˆ‡æ¢</h4><ul><li>æ ¹ç›®å½•æ‰§è¡Œä»£ç ï¼Œå®‰è£…æ’ä»¶ <a href="https://github.com/rqh656418510/hexo-next-darkmode/blob/main/README_CN.md">Hexo NexT Darkmode</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-next-darkmode --save</span><br></pre></td></tr></table></figure></li><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œé¦–å…ˆå°†NexTé»˜è®¤çš„æš—é»‘ä¸»é¢˜è®¾ç½®ä¸º <code>false</code> ï¼š<ul><li><code>darkmode: false</code></li></ul></li><li>ä¹‹åæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">darkmode_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">&#x27;64px&#x27;</span> <span class="comment"># default: &#x27;32px&#x27;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="string">&#x27;100px&#x27;</span> <span class="comment"># default: &#x27;32px&#x27;</span></span><br><span class="line">  <span class="attr">left:</span> <span class="string">&#x27;unset&#x27;</span> <span class="comment"># default: &#x27;unset&#x27;</span></span><br><span class="line">  <span class="attr">time:</span> <span class="string">&#x27;0.5s&#x27;</span> <span class="comment"># default: &#x27;0.3s&#x27;</span></span><br><span class="line">  <span class="attr">mixColor:</span> <span class="string">&#x27;transparent&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">backgroundColor:</span> <span class="string">&#x27;transparent&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorDark:</span> <span class="string">&#x27;#100f2c&#x27;</span> <span class="comment"># default: &#x27;#100f2c&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorLight:</span> <span class="string">&#x27;#fff&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">isActivated:</span> <span class="literal">true</span> <span class="comment"># default false</span></span><br><span class="line">  <span class="attr">saveInCookies:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">label:</span> <span class="string">&#x27;ğŸŒ“&#x27;</span> <span class="comment"># default: &#x27;&#x27;</span></span><br><span class="line">  <span class="attr">autoMatchOsTheme:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="comment"># Set custom library cdn url for Darkmode.js</span></span><br></pre></td></tr></table></figure></li><li>é»˜è®¤æ¿€æ´»æš—é»‘/å¤œé—´æ¨¡å¼ï¼Œè¯·å§‹ç»ˆä¸ <code>saveInCookies: false</code>ã€<code>autoMatchOsTheme: false</code> ä¸€èµ·ä½¿ç”¨</li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/theme_mode.png" alt="ä¸»é¢˜æš—é»‘æ¨¡å¼åˆ‡æ¢"></li></ul><h4 id="åšæ–‡åŠ å¯†è®¿é—®"><a href="#åšæ–‡åŠ å¯†è®¿é—®" class="headerlink" title="åšæ–‡åŠ å¯†è®¿é—®"></a>åšæ–‡åŠ å¯†è®¿é—®</h4><ul><li>NexTé»˜è®¤é›†æˆåŠ å¯†è®¿é—®åŠŸèƒ½ï¼Œåœ¨æ–‡ä»¶ <code>themes/next/layout/_partials/head/head.swig</code> ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#JavaScript</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&#x27;&#123;&#123; page.password &#125;&#125;&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">&#x27;è¯·è¾“å…¥å¯†ç &#x27;</span>) !== <span class="string">&#x27;&#123;&#123; page.password &#125;&#125;&#x27;</span>)&#123;</span><br><span class="line">                alert(<span class="string">&#x27;å¯†ç é”™è¯¯&#x27;</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li>ä¹‹ååœ¨éœ€è¦åŠ å¯†è®¿é—®çš„åšå®¢ä¸­ï¼Œåœ¨å¤´éƒ¨æ·»åŠ  <code>password</code> é…ç½®å³å¯å¼€å¯ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password: 123456</span><br></pre></td></tr></table></figure></li><li>é»˜è®¤çš„åŠ å¯†è®¿é—®åŠŸèƒ½ï¼Œåœ¨æ ·å¼ä¸Šå¹¶ä¸ä¼˜ç¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ’ä»¶æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚æ ¹é¡¹ç›®å®‰è£…æ’ä»¶<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></li><li><a href="https://github.com/D0n9X1n/hexo-blog-encrypt">hexo-blog-encrypt</a></li><li>åœ¨æ ¹é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">encrypt:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li>ç„¶åå’Œä¹‹å‰ä¸€æ ·ï¼Œåœ¨éœ€è¦è¿›è¡ŒåŠ å¯†çš„åšæ–‡ä¸­ï¼Œé…ç½®ç›¸åº”çš„ <code>password</code> å±æ€§å³å¯ç”Ÿæ•ˆã€‚</li><li>è¿™ç§å°†å¯†ç é…ç½®åˆ°åšæ–‡ä¸­çš„æ–¹å¼ï¼Œçµæ´»æ€§ä¸è¶³ï¼Œå¦‚æœéœ€è¦ç»Ÿä¸€é…ç½®å’Œæ›´æ”¹å¯†ç ï¼Œéœ€è¦åœ¨æ¯ä¸ªåšæ–‡ä¸­ä¿®æ”¹ä¸€éã€‚ä¸ºè§£å†³è¿™ç§é—®é¢˜ï¼Œæ’ä»¶å…è®¸é€šè¿‡æŒ‡å®š <code>tag</code> æ¥è¿›è¡ŒåŠ å¯†ï¼Œå¹¶ä¸”ä¸åŒçš„ <code>tag</code> å¯ä»¥æŒ‡å®šä¸åŒçš„å¯†ç ã€‚åŒæ ·åœ¨æ ¹é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ä¹‹å‰çš„ <code>encrypt</code> é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ç« åŠ å¯†è®¿é—®</span></span><br><span class="line"><span class="attr">encrypt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">silent:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">surge</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">encrypt</span>, <span class="attr">password:</span> <span class="number">123456</span>&#125;</span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">åšæ–‡å·²åŠ å¯†ï¼Œè¯·æä¾›å¯†ç æŸ¥çœ‹ï¼</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">è¾“å…¥å¯†ç ï¼ŒæŸ¥çœ‹æ–‡ç« </span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">å¯†ç éªŒè¯å¤±è´¥ï¼Œè¯·æä¾›æ­£ç¡®çš„å¯†ç .</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">æŠ±æ­‰,</span> <span class="string">è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ,</span> <span class="string">ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.</span></span><br></pre></td></tr></table></figure></li><li>è®¾ç½® <code>tags</code> å±æ€§ï¼ŒæŒ‡å®š <code>tag</code> çš„ <code>name</code> å’Œ <code>password</code> å±æ€§ï¼ŒåŒæ—¶åœ¨éœ€è¦è¿›è¡ŒåŠ å¯†çš„åšæ–‡ä¸­ï¼Œè®¾ç½®æ­¤ <code>tag</code> å€¼<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tags:</span> [<span class="string">web</span>, <span class="string">ThreeJS</span>, <span class="string">React</span>, <span class="string">encrypt</span>]</span><br></pre></td></tr></table></figure></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/password_needed.png" alt="éœ€è¦åŠ å¯†è®¿é—®"></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/password_confirm.png" alt="ç¡®è®¤å¯†ç "></li></ul><h4 id="å¢åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡åŠé˜…è¯»æ—¶é•¿åŠŸèƒ½"><a href="#å¢åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡åŠé˜…è¯»æ—¶é•¿åŠŸèƒ½" class="headerlink" title="å¢åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡åŠé˜…è¯»æ—¶é•¿åŠŸèƒ½"></a>å¢åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡åŠé˜…è¯»æ—¶é•¿åŠŸèƒ½</h4><ul><li>æ ¹é¡¹ç›®ä¸­å®‰è£…æ’ä»¶ <a href="https://github.com/theme-next/hexo-symbols-count-time">hexo-symbols-count-time</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure></li><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæœç´¢ <code>symbols_count_time</code> é…ç½®ï¼ŒNexTé»˜è®¤å·²ç»é›†æˆæ­¤é…ç½®ï¼Œå®‰è£…æ’ä»¶åé‡æ–°æ„å»ºéƒ¨ç½²å³å¯ç”Ÿæ•ˆ<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/word_count.png" alt="åšæ–‡å­—æ•°åŠé˜…è¯»æ—¶é•¿ç»Ÿè®¡"></li></ul><h4 id="ä»£ç å¤åˆ¶æˆåŠŸåé¦ˆ"><a href="#ä»£ç å¤åˆ¶æˆåŠŸåé¦ˆ" class="headerlink" title="ä»£ç å¤åˆ¶æˆåŠŸåé¦ˆ"></a>ä»£ç å¤åˆ¶æˆåŠŸåé¦ˆ</h4><ul><li>NexTé»˜è®¤å·²ç»é›†æˆä»£ç å¤åˆ¶åŠŸèƒ½ï¼Œä½†æ˜¯å¤åˆ¶æˆåŠŸçš„åé¦ˆé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæœç´¢ <code>codeblock</code> ï¼Œå°†å…¶ <code>show_result</code> å€¼è®¾ç½®ä¸º <code>true</code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="attr">highlight_theme:</span> <span class="string">&#x27;night eighties&#x27;</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result.</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">flat</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="å¼€å¯é¡µé¢åŠ è½½è¿›åº¦æ¡"><a href="#å¼€å¯é¡µé¢åŠ è½½è¿›åº¦æ¡" class="headerlink" title="å¼€å¯é¡µé¢åŠ è½½è¿›åº¦æ¡"></a>å¼€å¯é¡µé¢åŠ è½½è¿›åº¦æ¡</h4><ul><li>è¿›å…¥åˆ°nextä¸»é¢˜æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œå°†æ’ä»¶å…‹éš†è‡³ä¸»é¢˜æ–‡ä»¶ä¸­ï¼Œ<a href="https://github.com/theme-next/theme-next-pace">æ–‡æ¡£</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-pace <span class="built_in">source</span>/lib/pace</span><br></pre></td></tr></table></figure></li><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ <code>pace</code> çš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ <code>theme</code> ä»¥åº”ç”¨ä¸åŒçš„è¿›åº¦æ¡ä¸»é¢˜æ ·å¼ã€‚<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pace:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Themes list:</span></span><br><span class="line">  <span class="comment"># big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span></span><br><span class="line">  <span class="comment"># corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">minimal</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="åšæ–‡æ”¯æŒè¯„è®º"><a href="#åšæ–‡æ”¯æŒè¯„è®º" class="headerlink" title="åšæ–‡æ”¯æŒè¯„è®º"></a>åšæ–‡æ”¯æŒè¯„è®º</h4><ul><li>NexTæ”¯æŒå¤šç§è¯„è®ºæ’ä»¶ï¼Œå¯é€‰å€¼æœ‰ï¼š<code>changyan</code> ã€ <code>disqus</code> ã€ <code>disqusjs</code> ã€ <code>gitalk</code> | <code>livere</code> | <code>valine</code>ï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯ <a href="https://valine.js.org/quickstart.html">valine</a></li><li>æ ¹æ®æ–‡æ¡£æç¤ºæ“ä½œï¼Œæ³¨å†Œè´¦å·ã€åº”ç”¨ï¼Œè·å–åˆ° <code>appId</code> å’Œ <code>appKey</code>ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹é…ç½®<ul><li>è®¾ç½®å½“å‰è¯„è®ºæ¨¡å—ä½¿ç”¨çš„æ’ä»¶<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Available values: tabs | buttons</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">tabs</span></span><br><span class="line">  <span class="comment"># Choose a comment system to be displayed by default.</span></span><br><span class="line">  <span class="comment"># Available values: changyan | disqus | disqusjs | gitalk | livere | valine</span></span><br><span class="line">  <span class="attr">active:</span> <span class="string">valine</span></span><br></pre></td></tr></table></figure></li><li><code>valine</code> é…ç½® <code>appId</code> å’Œ <code>appKey</code>ï¼Œå…¶ä»–æ›´å¤šçš„é…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£è¯´æ˜<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appid:</span> <span class="string">xxxx</span> <span class="comment"># Your leancloud application appid</span></span><br><span class="line">  <span class="attr">appkey:</span> <span class="string">xxxx</span> <span class="comment"># Your leancloud application appkey</span></span><br></pre></td></tr></table></figure></li></ul></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/comment.png" alt="è¯„è®ºåŒº"><h4 id="é›†æˆç½‘æ˜“äº‘éŸ³ä¹"><a href="#é›†æˆç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="é›†æˆç½‘æ˜“äº‘éŸ³ä¹"></a>é›†æˆç½‘æ˜“äº‘éŸ³ä¹</h4></li><li>æ‰“å¼€ç½‘æ˜“äº‘ç½‘é¡µç‰ˆï¼Œæœç´¢éœ€è¦æ·»åŠ çš„æ­Œæ›²ï¼Œå¤åˆ¶æ­Œæ›²çš„å¤–é“¾ä¿¡æ¯ï¼Œå°†å…¶æ·»åŠ åˆ° <code>themes/next/layout/_macro/sidebar.swig</code> æ–‡ä»¶ä¸­ï¼Œä»£ç æ”¾ç½®ä½ç½®å–å†³äºä½ æƒ³è®©é¢æ¿æ˜¾ç¤ºåœ¨å“ªä¸ªä½ç½®<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç½‘æ˜“äº‘éŸ³ä¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;music163player&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">330</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">&quot;//music.163.com/outchain/player?type=2&amp;id=1901049671&amp;auto=1&amp;height=66&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/wyy_music.png" alt="ç½‘æ˜“äº‘éŸ³ä¹"></li></ul><h4 id="æ ‡ç­¾é¡µç¾åŒ–"><a href="#æ ‡ç­¾é¡µç¾åŒ–" class="headerlink" title="æ ‡ç­¾é¡µç¾åŒ–"></a>æ ‡ç­¾é¡µç¾åŒ–</h4><ul><li>åœ¨ <code>/themes/next/layout/</code> ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ <code>tag-color.swig</code> æ–‡ä»¶ï¼Œã€å¡«å…¥ä»¥ä¸‹ä»£ç <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> alltags = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;tag-cloud-tags&#x27;</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> tags = alltags[<span class="number">0</span>].getElementsByTagName(<span class="string">&#x27;a&#x27;</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">var</span> i = tags.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> r=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">130</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> g=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">100</span>);</span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> b=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">80</span>);</span></span><br><span class="line"><span class="javascript">       tags[i].style.background = <span class="string">&quot;rgb(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+g+<span class="string">&quot;,&quot;</span>+b+<span class="string">&quot;)&quot;</span>;</span></span><br><span class="line"><span class="javascript">     &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/*font-family: Helvetica, Tahoma, Arial;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*font-weight: 100;*/</span></span></span><br><span class="line"><span class="css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">    <span class="attribute">counter-reset</span>: tags;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">5px</span> <span class="number">0px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span>:before&#123;</span></span><br><span class="line"><span class="css">    content: <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.tag-cloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">     <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">5px</span> <span class="number">15px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">4</span>);</span></span><br><span class="line"><span class="css">     <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span></span><br><span class="line"><span class="css">     <span class="comment">/*box-shadow: 10px 10px 15px 2px rgba(0,0,0,.12), 0 0 6px 0 rgba(104, 104, 105, 0.1);*/</span></span></span><br><span class="line"><span class="css">     <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>/themes/next/layout/page.swig</code> æ–‡ä»¶ä¸­å¼•å…¥ä¸Šé¢æ–°å¢çš„æ–‡ä»¶<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- if page.type === &#x27;tags&#x27; %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tag-cloud&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tag-cloud-tags&quot;</span> <span class="attr">id</span>=<span class="string">&quot;tags&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; tagcloud(&#123;min_font: 16, max_font: 16, amount: 300, color: true, start_color: &#x27;#FFF&#x27;, end_color: &#x27;#FFF&#x27;&#125;) &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% include &#x27;tag-color.swig&#x27; %&#125;</span><br></pre></td></tr></table></figure></li><li>é‡æ–°æ„å»ºéƒ¨ç½²é¡¹ç›®ï¼Œå³å¯æŸ¥çœ‹æ•ˆæœã€‚<a href="https://hushaoyu.github.io/blog/tags/">åœ¨çº¿é¢„è§ˆ</a></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/tag_page.png" alt="æ ‡ç­¾é¡µ"></li></ul><h4 id="æ ‡ç­¾äº‘"><a href="#æ ‡ç­¾äº‘" class="headerlink" title="æ ‡ç­¾äº‘"></a>æ ‡ç­¾äº‘</h4><ul><li>ä½¿ç”¨æ’ä»¶ <a href="https://github.com/D0n9X1n/hexo-tag-cloud/blob/master/README.ZH.md">hexo-tag-cloud</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-tag-cloud --save</span><br></pre></td></tr></table></figure></li><li>åœ¨ <code>themes/next/layout/_macro/sidebar.swig</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œé‡æ–°æ‰§è¡Œ <code>npm start</code> å¯æŸ¥çœ‹æ•ˆæœ<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ ‡ç­¾äº‘ --&gt;</span></span><br><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcloud.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcanvas.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;widget-title&quot;</span>&gt;</span>Tag Cloud<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myCanvasContainer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;250&quot;</span> <span class="attr">height</span>=<span class="string">&quot;250&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li>åœ¨æ ¹é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ å¯¹æ ‡ç­¾äº‘çš„å±æ€§é…ç½®<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡ç­¾äº‘</span></span><br><span class="line"><span class="attr">tag_cloud:</span></span><br><span class="line">  <span class="attr">textFont:</span> <span class="string">Trebuchet</span> <span class="string">MS,</span> <span class="string">Helvetica</span>     <span class="comment"># å­—ä½“</span></span><br><span class="line">  <span class="attr">textColor:</span> <span class="string">&#x27;#333&#x27;</span>                     <span class="comment"># å­—ä½“é¢œè‰²</span></span><br><span class="line">  <span class="attr">textHeight:</span> <span class="number">25</span>                        <span class="comment"># å­—ä½“å¤§å°</span></span><br><span class="line">  <span class="attr">outlineColor:</span> <span class="string">&#x27;#E2E1D1&#x27;</span></span><br><span class="line">  <span class="attr">maxSpeed:</span> <span class="number">0.3</span>                         <span class="comment"># æ—‹è½¬é€Ÿåº¦</span></span><br><span class="line">  <span class="attr">pauseOnSelected:</span> <span class="literal">false</span>                <span class="comment"># å½“é€‰ä¸­å¯¹åº”æ ‡ç­¾æ—¶ï¼Œæ˜¯å¦åœæ­¢è½¬åŠ¨</span></span><br></pre></td></tr></table></figure></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/tag_cloud.png" alt="æ ‡ç­¾äº‘"></li></ul><h4 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h4><ul><li>åœ¨æ ¹é¡¹ç›®å®‰è£…æ’ä»¶<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-algolia --save</span><br></pre></td></tr></table></figure></li><li>NexTä¸»é¢˜å·²ç»é»˜è®¤é›†æˆäº†ä¸€éƒ¨åˆ†å‚æ•°é…ç½®ï¼Œå¹¶ä¸”åœ¨é¡µé¢çš„å·¦ä¾§ <code>Slider</code> åŒºåŸŸä¹Ÿæœ‰æœç´¢çš„å¿«æ·èœå•ï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæœç´¢ <code>algolia_search</code>ï¼Œå°† <code>enable</code> å€¼è®¾ç½®ä¸º <code>true</code>ï¼Œå¯ç”¨è¯¥æœç´¢åŠŸèƒ½ã€‚<code>hits.per_page</code> è¡¨ç¤ºæœç´¢ç»“æœåˆ†é¡µå¤§å°ï¼Œ<code>labels</code> å¯ä»¥è®¾ç½®æœç´¢åŒ¹é…æç¤ºæ–‡æœ¬ã€‚</li><li>éœ€è¦è®©æœç´¢åŠŸèƒ½çœŸæ­£ç”Ÿæ•ˆï¼Œè¿˜éœ€è¦åœ¨æ ¹é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­å¢åŠ  <code>algolia</code> çš„è´¦å·é…ç½®ä¿¡æ¯<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># search</span></span><br><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">applicationID:</span> <span class="string">&quot;xxx&quot;</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">&quot;xxxxx&quot;</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">&quot;indexName&quot;</span></span><br></pre></td></tr></table></figure></li><li>é…ç½®çš„ä¿¡æ¯éœ€è¦æ³¨å†Œ <code>algolia</code> è´¦å·æ‰èƒ½è·å–ã€‚å¯ç‚¹å‡» <a href="https://www.algolia.com/">algolia</a> è·³è½¬è¿›è¡Œæ³¨å†Œã€‚<ul><li>æ³¨å†Œè´¦å·åï¼Œæ³¨å†Œä¸€ä¸ªåº”ç”¨ï¼Œåº”ç”¨é€‰æ‹©å…è´¹ç‰ˆæœ¬çš„ã€‚åˆ›å»ºåº”ç”¨ååœ¨å·¦ä¾§èœå•ç‚¹å‡» <code>Data Source</code>ï¼Œé€‰æ‹© <code>Indices</code>ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç´¢å¼•ï¼Œç´¢å¼•åç§°æ˜¯åšå®¢ç½‘ç«™éœ€è¦é…ç½®çš„ä¸€ä¸ªå€¼ï¼Œåé¢ä¼šç”¨åˆ°ã€‚</li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/create_index.png" alt="åˆ›å»ºç´¢å¼•"></li><li>å›åˆ° <code>Overview</code> æ€»è§ˆé¢æ¿ï¼Œç‚¹å‡» <code>API Keys</code>ï¼Œåœ¨é¢æ¿å¯ä»¥çœ‹åˆ°æ³¨å†Œçš„åº”ç”¨çš„ <code>application ID</code>ã€‚åˆ›å»ºæ–°çš„keyï¼Œå…¶ä¸­çš„ <code>Indices</code> é€‰æ‹©ä¹‹å‰åˆ›å»ºçš„ç´¢å¼•ï¼Œä¸‹æ–¹çš„ <code>ACL</code> æƒé™æ§åˆ¶ï¼Œè®¾ç½®å€¼ä¸ºï¼š<code>search</code>ã€<code>addObject</code>ã€<code>deleteObject</code>ã€<code>addInde</code>ã€<code>deleteIndex</code>ï¼Œå…¶ä»–å€¼é»˜è®¤ï¼Œç„¶åç‚¹å‡»ç¡®è®¤åˆ›å»ºã€‚</li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/algolia_appId.png" alt="application ID"></li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/algolia_apiKey.png" alt="åˆ›å»ºAPI Keys"></li><li>å°†ä¸Šè¿°ç”Ÿæˆçš„ <code>application ID</code>ã€<code>apiKey</code>ã€<code>indexName</code> å¡«å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</li></ul></li><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†ç½‘ç«™çš„åšæ–‡ç”Ÿæˆå¯æœç´¢çš„é™æ€èµ„æº<ul><li><strong>æ¯æ¬¡åšæ–‡æœ‰æ›´æ–°ï¼Œéœ€è¦éƒ¨ç½²æ—¶ï¼Œéƒ½éœ€è¦å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå†æ‰§è¡Œæ„å»ºéƒ¨ç½²å‘½ä»¤ï¼Œå¦åˆ™æ›´æ–°åçš„å†…å®¹ï¼Œåœ¨æœç´¢æ•°æ®åº“ä¸­æ˜¯æ²¡æœ‰æ›´æ–°çš„ã€‚</strong><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> HEXO_ALGOLIA_INDEXING_KEY=<span class="string">&#x27;0f04bd99beb506cc014d144974134458&#x27;</span></span><br><span class="line">$ <span class="built_in">export</span> HEXO_ALGOLIA_INDEXING_KEY</span><br><span class="line">$ hexo algolia</span><br></pre></td></tr></table></figure></li></ul></li><li>é‡æ–°è¿è¡Œé¡¹ç›®ï¼Œç‚¹å‡»å·¦ä¾§çš„æœç´¢ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¼šå‡ºç°å¼¹æ¡†ï¼Œè¾“å…¥ä»»æ„å†…å®¹ï¼Œå³å¯æ˜¾ç¤ºå‡ºæœç´¢ç»“æœ</li><li><img src="https://hsj-studio.oss-cn-shanghai.aliyuncs.com/blog/articles/Hexo-Note-%E4%BD%BF%E7%94%A8NexT%E4%B8%BB%E9%A2%98/algolia_search_result.png" alt="æœç´¢ç»“æœ"></li></ul>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;ensp;&amp;ensp;Â«NexTÂ» is a high quality elegant Hexo theme. It is crafted from scratch with love.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Note - å‘½ä»¤</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/09/Hexo-Note-%E5%91%BD%E4%BB%A4/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/09/Hexo-Note-%E5%91%BD%E4%BB%A4/</id>
    <published>2022-01-09T07:17:57.000Z</published>
    <updated>2022-01-10T06:25:39.399Z</updated>
    
    <content type="html"><![CDATA[<h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init projectName</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ– Hexo ç½‘å€é¡¹ç›®ï¼Œåœ¨ä¸Šä¸€èŠ‚ä¸­å·²ç»æåˆ°è¿‡ã€‚<a href="/2022/01/05/Hexo-Note-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE">Hexo Note - åˆå§‹åŒ–åŠå¸¸ç”¨é…ç½®</a></p><h3 id="new"><a href="#new" class="headerlink" title="new"></a>new</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><ul><li><code>layout</code>: åˆ›å»ºçš„é¡µé¢ç±»å‹ã€‚é€šå¸¸æœ‰<code>post</code>å’Œ<code>page</code>ï¼Œé»˜è®¤æ˜¯<code>post</code>ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶ï¼Œçœç•¥æ­¤å‚æ•°è¡¨æ˜åˆ›å»ºçš„æ˜¯postç±»å‹çš„é¡µé¢ï¼Œ<ul><li><code>post</code>ï¼šæ™®é€šçš„åšæ–‡ï¼Œä¼šåœ¨é¦–é¡µå’Œå½’æ¡£ä¸­åˆ—å‡ºã€‚</li><li><code>page</code>ï¼šç‹¬ç«‹çš„é¡µé¢ï¼Œä¸ä¼šå±•ç¤ºåœ¨é¦–é¡µå’Œå½’æ¡£é¡µï¼Œå¦‚æ ‡ç­¾é¡µã€è‡ªå®šä¹‰çš„404é¡µé¢ç­‰ã€‚</li></ul></li></ul><p>å…¶ä»–å¯é€‰å‚æ•°ï¼š</p><table><thead><tr><th align="center">å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center"><code>-pï¼Œ --path</code></td><td>è‡ªå®šä¹‰æ–°åšæ–‡çš„è·¯å¾„</td></tr><tr><td align="center"><code>-r, --replace</code></td><td>å¦‚æœå­˜åœ¨åŒååšæ–‡ï¼Œå°†å…¶æ›¿æ¢</td></tr><tr><td align="center"><code>-s, --slug</code></td><td>åšæ–‡çš„ Slugï¼Œä½œä¸ºæ–°åšæ–‡çš„æ–‡ä»¶åå’Œå‘å¸ƒåçš„ URL</td></tr><tr><td align="center">&ensp;&ensp;é»˜è®¤æƒ…å†µä¸‹ï¼ŒHexo æˆ–æ ¹æ®<code>permalink</code>é…ç½®ï¼ŒåŠæ–‡ä»¶åç§°æ¥å†³å®šåšæ–‡ç”Ÿæˆçš„è·¯å¾„ã€‚å¦‚æœåˆ›å»ºçš„æ˜¯ç‹¬ç«‹é¡µé¢ï¼Œåˆ™ä½¿ç”¨æ–‡ä»¶åæ¥åœ¨<code>sources</code>ç›®å½•ä¸‹ç”Ÿæˆç›¸åº”çš„ç›®å½•ï¼Œå¹¶åœ¨ç›®å½•ä¸‹ç”Ÿæˆ<code>index.md</code>æ–‡ä»¶ã€‚</td><td></td></tr></tbody></table><h3 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆå¯ç›´æ¥è®¿é—®çš„ç½‘ç«™é™æ€æ–‡ä»¶ã€‚<br /><br>å…¶ä»–å¯é€‰å‚æ•°ï¼š</p><table><thead><tr><th align="center">å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center"><code>-d, --deploy</code></td><td>æ–‡ä»¶ç”Ÿæˆåç«‹å³éƒ¨ç½²ç½‘ç«™</td></tr><tr><td align="center"><code>-w, --watch</code></td><td>ç›‘è§†æ–‡ä»¶å˜åŠ¨</td></tr><tr><td align="center"><code>-b, --bail</code></td><td>ç”Ÿæˆè¿‡ç¨‹ä¸­å¦‚æœå‘ç”Ÿä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸åˆ™æŠ›å‡ºå¼‚å¸¸</td></tr><tr><td align="center"><code>-f, --force</code></td><td>å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼ŒHexo å¼•å…¥äº†å·®åˆ†æœºåˆ¶ï¼Œå¦‚æœ <code>public</code> ç›®å½•å­˜åœ¨ï¼Œé‚£ä¹ˆ <code>hexo g</code> åªä¼šé‡æ–°ç”Ÿæˆæ”¹åŠ¨çš„æ–‡ä»¶ã€‚ä½¿ç”¨è¯¥å‚æ•°çš„æ•ˆæœæ¥è¿‘ <code>hexo clean &amp;&amp; hexo generate</code></td></tr><tr><td align="center"><code>-c, --concurrency</code></td><td>æœ€å¤§åŒæ—¶ç”Ÿæˆæ–‡ä»¶çš„æ•°é‡ï¼Œé»˜è®¤æ— é™åˆ¶</td></tr></tbody></table><h3 id="server"><a href="#server" class="headerlink" title="server"></a>server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š<code>http://localhost:4000/</code> <br /><br>å…¶ä»–å¯é€‰å‚æ•°ï¼š</p><table><thead><tr><th align="center">å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center"><code>-p, --port</code></td><td>é‡æ–°æŒ‡å®šç«¯å£</td></tr><tr><td align="center"><code>-s, --static</code></td><td>åªä½¿ç”¨é™æ€æ–‡ä»¶</td></tr><tr><td align="center"><code>-l, --log</code></td><td>å¯åŠ¨æ—¥è®°è®°å½•ï¼Œä½¿ç”¨è¦†ç›–è®°å½•æ ¼å¼</td></tr></tbody></table><h3 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p>æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚<br /><br>åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;init&quot;&gt;&lt;a href=&quot;#init&quot; class=&quot;headerlink&quot; title=&quot;init&quot;&gt;&lt;/a&gt;init&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo init projectName&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Note - åˆå§‹åŒ–åŠå¸¸ç”¨é…ç½®</title>
    <link href="https://hushaoyu.github.io/blog/2022/01/09/Hexo-Note-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/"/>
    <id>https://hushaoyu.github.io/blog/2022/01/09/Hexo-Note-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/</id>
    <published>2022-01-09T06:07:29.000Z</published>
    <updated>2022-01-10T06:25:39.390Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯-Hexo-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Hexo-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Hexo ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Hexo ï¼Ÿ</h3><blockquote><p>&ensp;&ensp;Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚<a href="https://hexo.bootcss.com/docs/index.html">Hexo</a> ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£æåšæ–‡ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p></blockquote><ul><li><a href="/2022/01/05/Markdown-using-document">Markdownç«™å†…æ‰‹å†Œ</a></li><li><a href="https://markdown.com.cn/">Markdownå®˜æ–¹æ‰‹å†Œ</a></li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><h4 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h4><p>å®‰è£…å‰ï¼Œç¡®è®¤æœºå™¨ç¯å¢ƒå·²ç»å®‰è£… <a href="http://git-scm.com/">Git</a> å’Œ <a href="http://nodejs.org/">Node</a> (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 10.13ï¼Œå»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git --version</span><br><span class="line">git version 2.31.1.windows.1</span><br><span class="line"></span><br><span class="line">$ node -v</span><br><span class="line">v14.13.0</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h4><p>&ensp;&ensp;å…¨å±€å®‰è£…hexo cliå·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="æ­å»ºç½‘ç«™"><a href="#æ­å»ºç½‘ç«™" class="headerlink" title="æ­å»ºç½‘ç«™"></a>æ­å»ºç½‘ç«™</h3><h4 id="åˆå§‹åŒ–åšå®¢é¡¹ç›®ç›®å½•ï¼Œå¹¶å®‰è£…ä¾èµ–"><a href="#åˆå§‹åŒ–åšå®¢é¡¹ç›®ç›®å½•ï¼Œå¹¶å®‰è£…ä¾èµ–" class="headerlink" title="åˆå§‹åŒ–åšå®¢é¡¹ç›®ç›®å½•ï¼Œå¹¶å®‰è£…ä¾èµ–"></a>åˆå§‹åŒ–åšå®¢é¡¹ç›®ç›®å½•ï¼Œå¹¶å®‰è£…ä¾èµ–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init projectName</span><br><span class="line">$ <span class="built_in">cd</span> projectName &amp;&amp; npm install</span><br></pre></td></tr></table></figure><p>&ensp;&ensp;æ„å»ºåå¯ä»¥çœ‹åˆ°ç›®å½•çš„åŸºæœ¬ç»“æ„ï¼Œå…¶ä¸­_.config.ymlä¸ºç½‘ç«™çš„é…ç½®æ–‡ä»¶ï¼›sourceä¸ºèµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚åç»­éœ€è¦æ–°å»ºçš„åšæ–‡ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªç›®å½•ä¸‹ç”Ÿæˆçš„ï¼›themesæ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ï¼ŒHexoå°†æ ¹æ®è¿™ä¸ªç›®å½•ä¸‹çš„èµ„æºé…ç½®ï¼Œæ¥æ¸²æŸ“ç½‘ç«™ï¼Œç”Ÿæˆé¡µé¢ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h4><p>&ensp;&ensp;åšå®¢ç½‘ç«™çš„ç½‘ç«™æ ‡é¢˜ã€æè¿°ï¼Œä»¥åŠç½‘ç«™çš„å½’å±ç­‰ä¿¡æ¯è®¾ç½®</p><table><thead><tr><th align="center">å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center"><code>title</code></td><td>ç½‘ç«™æ ‡é¢˜</td></tr><tr><td align="center"><code>subtitle</code></td><td>ç½‘ç«™å‰¯æ ‡é¢˜</td></tr><tr><td align="center"><code>description</code></td><td>æè¿°ï¼Œä¸»è¦ç”¨äºSEOï¼Œå»ºè®®å‡†ç¡®æè¿°ç½‘ç«™å†…å®¹ï¼Œå¯ä½¿ç”¨å…³é”®å­—</td></tr><tr><td align="center"><code>keywords</code></td><td>å…³é”®å­—</td></tr><tr><td align="center"><code>author</code></td><td>ç½‘ç«™ä½œè€…</td></tr><tr><td align="center"><code>language</code></td><td>ç½‘ç«™æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œå¯æ ¹æ®ä½¿ç”¨çš„ä¸»é¢˜æä¾›çš„è¯­è¨€é€‰é¡¹æ¥è¿›è¡Œè®¾ç½®ï¼Œå¦‚zh-CN</td></tr><tr><td align="center"><code>timezone</code></td><td>ç½‘ç«™æ—¶åŒºï¼Œä¸­å›½å¤§é™†ç”¨æˆ·å¯ä»¥è®¾ç½® <code>Asia/Shanghai</code>ï¼Œå…·ä½“å¯å‚è§ <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">æ—¶åŒºåˆ—è¡¨</a></td></tr></tbody></table><h4 id="ç½‘å€"><a href="#ç½‘å€" class="headerlink" title="ç½‘å€"></a>ç½‘å€</h4><p>&ensp;&ensp;é€šå¸¸ç”¨äºè®¾ç½®ç½‘ç«™ç½‘å€å³åšæ–‡çš„æ°¸ä¹…é“¾æ¥æ ¼å¼</p><table><thead><tr><th align="center">å‚æ•°</th><th>æè¿°</th><th align="center">é»˜è®¤å€¼</th></tr></thead><tbody><tr><td align="center"><code>url</code></td><td>ç½‘å€ï¼Œåè®®éœ€è¦æŒ‡å®šï¼Œå¦‚ <code>http://</code> æˆ–è€… <code>https://</code></td><td align="center"></td></tr><tr><td align="center"><code>permalink</code></td><td>åšæ–‡çš„æ°¸ä¹…é“¾æ¥æ ¼å¼ï¼Œå…·ä½“æ ¼å¼å¯æŸ¥çœ‹ <a href="https://hexo.bootcss.com/docs/permalinks.html">æ°¸ä¹…é“¾æ¥æ ¼å¼</a></td><td align="center"></td></tr><tr><td align="center"><code>pretty_urls</code></td><td>æ”¹å†™ <code>permalink</code> çš„å€¼æ¥ç¾åŒ– URL</td><td align="center"></td></tr><tr><td align="center"><code>pretty_urls.trailing_index</code></td><td>æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ index.htmlï¼Œè®¾ç½®ä¸º false æ—¶å»é™¤</td><td align="center"></td></tr><tr><td align="center"><code>pretty_urls.trailing_html</code></td><td>æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ .html, è®¾ç½®ä¸º false æ—¶å»é™¤ (å¯¹å°¾éƒ¨çš„ index.htmlæ— æ•ˆ)</td><td align="center">true</td></tr></tbody></table><p>å…¶ä»–æ›´è¯¦ç»†çš„é…ç½®è¯´æ˜ï¼Œå¯æŸ¥çœ‹ <a href="https://hexo.bootcss.com/docs/configuration.html">å®˜ç½‘è¯´æ˜</a></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯-Hexo-ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-Hexo-ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ Hexo ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ Hexo ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;ensp;&amp;ensp;Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚&lt;a href=&quot;https://hexo.bootcss.com/docs/index.html&quot;&gt;Hexo&lt;/a&gt; ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£æåšæ–‡ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://hushaoyu.github.io/blog/tags/Hexo/"/>
    
  </entry>
  
</feed>
